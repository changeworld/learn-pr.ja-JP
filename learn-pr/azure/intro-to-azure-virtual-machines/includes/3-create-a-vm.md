あなたはネットワーク インフラストラクチャを十分に計画し、クラウドに移行する VM をいくつか特定しました。 VM を作成する際、いくつかの選択肢があります。 選択肢は自分にとって快適な環境によって決まります。 Azure では、リソースを作成し、管理するための Web ベース ポータルがサポートされています。 MacOS、Windows、Linux で実行されるコマンドライン ツールを使用することもできます。

> [!TIP]
> Microsoft Learn の演習はすべて無料ですが、自分で始めるときは、Azure サブスクリプションが必要になります。 サブスクリプションをお持ちでない場合、[無料アカウント](https://azure.microsoft.com/free/?WT.mc_id=A261C142F)を作成してください。これは数分で作成できます。

最初に Azure Portal を見てみましょう。Azure はここから始めるのが最も簡単です。

## <a name="azure-portal"></a>Azure portal

**Azure portal** には、ブラウザーベースの使いやすいユーザー インターフェイスがあり、ここであらゆる Azure リソースを作成し、管理できます。 たとえば、新しいデータベースを設定したり、仮想マシンの計算処理能力を増やしたり、毎月のコストを監視したりできます。 利用できるすべてのリソースを監視したり、ガイド付きのウィザードを利用して必要なリソースを作成したりできるので、学習ツールとしても優れています。

ログインすると、2 つの主要領域が表示されます。 最初の領域は、リソースの作成、リソースの監視、課金の管理のためのオプションを含むメニューです。 2 つ目はカスタマイズ可能なダッシュボードであり、Azure にデプロイした重要なサービスがすべてスナップショット表示されます。 Azure の利用を始めるとき、このポータルから始めると最も快適に進むでしょう。

> [!NOTE]
> ポータルで選択を行うときに表示されるビューは_ブレード_とも呼ばれています。 ブレードはメニュー構造として機能し、構成パネルとして機能します。 Azure portal 内を移動するとき、UI は左から右へと積み重ねられます。Web ビューポートをスライドさせると現在のブレードが表示されます。 下部にあるスライダーを使用し、親ビューまで簡単に移動できます。

### <a name="create-an-azure-vm-with-the-azure-portal"></a>Azure Portal で Azure VM を作成する

WordPress Web サイトを実行する VM を作成するとします。 サイトの設定は難しくありませが、留意すべき点がいくつかあります。 オペレーティング システムを構成し、Web サイトを構成し、データベースをインストールし、ファイアウォールなどを考慮する必要があります。 VM の作成は後続のモジュールで扱いますが、ここで 1 つ作成し、どのくらい簡単かご覧に入れます。 すべての選択肢を試すことしないので、各選択肢の詳細については **VM の作成**モジュールの 1 つをご覧ください。

1. [Azure portal](https://portal.azure.com?azure-portal=true) にサインインします。 左側には Azure リソースの作成と管理のメニューが表示されます。画面の残りの部分はダッシュボードになっています。

    ![Azure portal メイン ダッシュボード](../media-draft/3-dashboard-page.png)

1. ポータル ページの左上隅にある **[リソースの作成]** オプションをクリックします。 これで Azure Marketplace ブレードが開きます。 左側のスライドバーが折りたたまれている場合、緑の "プラス" が表示されます。 展開キャレットをクリックしてサイドバーを展開すると、上のイメージのように完全なテキストが表示されます。

    ![Azure Marketplace](../media-draft/3-create-new-resource.png)

    ご覧のとおり、選択可能なオプションがたくさんあります。 作成するのは WordPress Web サイトを実行する VM であることを思い出してください。 VM は Azure コンピューティング リソースです。そこで、利用可能リストから **[コンピューティング]** オプションを選択し、WordPress VM イメージを検索します。

1. **[Marketplace を検索]** 検索バーを使用し、"WordPress" を検索します。 オプションの一覧が表示されます。 **[WordPress Certified by Bitnami]** と書いてあるオプションを選択します。

    ![Azure Marketplace の検索](../media-draft/3-search-vm-image.png)

    次に開いたブレードには、これから使用するイメージのライセンス情報が表示されます。 **[作成]** をクリックします。

    ![Wordpress サイトの選択と作成](../media-draft/3-create-vm-image.png)

1. **[仮想マシンの作成]** ブレードが表示されます。 ウィザードベースの手法にご注目ください。これを VM の公正に使用します。

    ![構成手順 1](../media-draft/3-create-vm-1.png)

    WordPress 仮想マシンの基本パラメーターを構成する必要があります。 この時点のオプションになじみのないものがあっても、問題ありません。 このようなオプションについては、今後のモジュールでご説明いたします。 ここで使用されている値をそのまま使用しても問題ありません。

<!-- TODO: fix subscription + resource group -->
1. **[基本]** タブの次の値を使用します。
    - 無料のサブスクリプションとリソース グループを選択します。
    - VM の **[名前]** を入力します。ここでは `test-wp1-eus-vm` を使用しました。
    - 近くの **[リージョン]** を選択します。 ドロップダウン リストを使用して場所を選択できます。
    - 可用性オプションには **[なし]** を選択します。 これは別のモジュールで扱う高可用性に使われます。
    - **[イメージ]** は、マーケットプレースから選択した **[WordPress by Bitnami]** オプションにします。
    - **[サイズ]** は既定のままにします。シングル コアと 3.5 GB のメモリが与えられますが、シンプルな Web サイトにはこれで十分です。
    - 認証タイプを **[パスワード]** に切り替え、ユーザー名とパスワードを入力します。
    - **[パブリック受信ポートを選択]** ドロップダウン リストを開き、下の画像のように **[http]** を選択します。

    ![HTTP ポートを開く](../media-draft/3-open-http-port.png)

1. 他にもタブがいくつかあり、VM 作成時に利用できる設定があります。 設定が完了したら、**[確認および作成]** をクリックして設定を確認し、妥当性を検証します。

    ![構成手順 2](../media-draft/3-review-create-vm.png)

1. 確認画面で Azure により設定の妥当性が検証されます。 すべての設定が希望どおりに設定されていることを確認し、**[作成]** をクリックして VM をデプロイし、作成します。

1. **[通知]** パネルでデプロイを監視できます。 上部のツール バーにあるアイコンをクリックし、パネルを表示します。

    ![デプロイの進行状況を監視する](../media-draft/3-deploying.png)

1. VM のデプロイ プロセスが完了するまでに数分かかる場合があります。 デプロイが正常に完了したことを知らせる通知が届きます。 メッセージをクリックし、VM に作成したすべての要素を含むリソース グループに移動します。

    ![デプロイされた VM](../media-draft/3-deployment-succeeded.png)

1. VM エントリを選択します。最初のエントリにしてください。指定した名前がそれに与えられます。

    ![リソース グループで VM を選択する](../media-draft/3-open-vm-properties.png)

1. 作成した仮想マシンの **[概要]** に移動します。 ここでは、新しく作成した WordPress VM の情報と構成オプションをすべて表示できます。 情報の 1 つに **[パブリック IP アドレス]** があります。

    ![VM にパブリック IP アドレスを与える](../media-draft/3-public-ip-address.png)

11. IP アドレスをコピーし、ブラウザーで新しいタブを開いて貼り付けます。 まったく新しい WordPress サイトが表示されるはずです。

    ![新しい WordPress サイトが有効になる](../media-draft/3-my-new-blog.png)

お疲れさまでした。 Linux を実行し、データベースがインストールされ、Web サイトが機能する VM をわずかな手順でデプロイしました。 それでは、他の VM 作成方法を見てみましょう。
