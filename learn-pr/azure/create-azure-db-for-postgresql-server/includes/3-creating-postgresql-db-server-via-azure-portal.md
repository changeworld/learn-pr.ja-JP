柔軟なデータ型および地理空間のサポートを使用して、オンプレミスの PostgreSQL リレーショナル データベースを現在使用するいると仮定します。 会社が見て展開すると、データベースをスケールする必要があります。 追加のハードウェアに投資する代わりで、クラウドでホストされるデータベースの最適なソリューションを見つける担当しています。 Azure Database for PostgreSQL サーバーを使用してすることに決めました。

## <a name="what-is-an-azure-database-for-postgresql-server"></a>Azure Database for PostgreSQL サーバーとは

PostgreSQL サーバーは、1 つ以上のデータベース サーバーの全体管理ポイントです。 Azure で PostgreSQL サービスは、マネージ リソースのパフォーマンスの保証を提供し、アクセスと、サーバー レベルの機能を提供です。

**Azure Database for PostgreSQL**サーバーが、親_リソース_データベース。 A_リソース_は Azure で使用可能な管理可能な項目です。 このリソースを作成するサーバー インスタンスを構成することができます。

### <a name="what-is-an-azure-database-for-postgresql-server-resource"></a>Azure Database for PostgreSQL サーバーのリソースとは何ですか。

Azure Database for PostgreSQL サーバーのリソースは、強力な有効期間、サーバーとデータベースに影響をコンテナーです。 サーバー リソースを削除すると、すべてのデータベースも削除されます。 親に属しているすべてのリソースが同じリージョンでホストされていることに留意してください。

サーバーのリソース名は、サーバー エンドポイント名の定義に使用されます。 たとえば、リソース名が**mypgsqlserver**、サーバー名になります**mypgsqlserver.postgres.database.azure.com**します。

また、サーバー リソースを提供、__接続スコープ__をそのデータベースに適用される管理ポリシーの。 例: ログイン、ファイアウォール、ユーザー、ロール、および構成します。

PostgreSQL のオープン ソースのバージョンと同様、サーバーは、いくつかのバージョンでは使用と、拡張機能のインストールでは、します。 インストールするサーバー バージョンを選択します。

> [!NOTE]
> 拡張機能により、読み込まれたまたは 1 つのコマンドを使用して削除できる単一のパッケージで複数の SQL オブジェクトをまとめてバンドルします。 拡張機能の例は、 `chkpass`、自動暗号化パスワードのデータ型を提供します。

## <a name="pricing-tiers"></a>価格レベル

Azure Database for PostgreSQL では、コンピューティング能力とストレージなどのパラメーターに基づいて 3 つの価格レベルから選択するオプションを使用して提供します。

### <a name="basic-tier"></a>Basic レベル

**基本的な**層はライトのコンピューティングと I/O パフォーマンスを必要とするワークロードに最適です。 このレベルでは、次のハードウェアへのアクセスがあります。

- Gen 4 Cpu に基づく 2673-Intel E5 v3 (Haswell) 2.4 GHz のプロセッサが使用可能な 1 または 2 仮想コア構成のいずれかとしてコンピューティングします。
- Gen 5 の Cpu に基づく Intel の E5 2673 v4 (Broadwell) 2.3 GHz のプロセッサが使用可能な 1 または 2 仮想コア構成のいずれかとしてコンピューティングします。
- 記憶域を 1 tb まで
- ローカル冗長バックアップ

後で、サンプル サーバーを作成するときに、特定のシナリオのサポートを示すために、特定の価格レベル設定を使用します。 実稼働サーバーでは、環境に合わせて価格レベルを選択します留意してください。

### <a name="general-purpose-tier"></a>一般的な目的のレベル

**General Purpose**層はバランスのとれたコンピューティングおよびメモリとスケーラブルな I/O スループットを必要とするほとんどのビジネス ワークロードに最適です。 このレベルでは、次のハードウェアへのアクセスがあります。

- Gen 4 Cpu 基本 2673-Intel E5 v3 (Haswell) 2.4 GHz プロセッサ、2、4、8、18 で使用できるコンピューティング 32 の vCore の構成
- Intel の E5 2673 v4 (Broadwell) 2.3 GHz プロセッサ、2、4、8、18 で使用できる基本、Gen 5 Cpu コンピューティング 32 の vCore の構成
- 記憶域を 4 tb まで
- ローカル冗長バックアップ
- Geo 冗長バックアップ

### <a name="memory-optimized-tier"></a>メモリ最適化レベル

**メモリ最適化**層が速トランザクション処理と高い同時実行性をメモリ内パフォーマンスを必要とする高パフォーマンス データベース ワークロードに最適です。 このレベルでは、次のハードウェアへのアクセスがあります。

- Intel の E5 2673 v4 (Broadwell) 2.3 GHz プロセッサを 2、4、8 で使用できる基本、Gen 5 Cpu コンピューティング 16 vCore 構成
- 記憶域を 4 tb まで
- ローカル冗長バックアップ
- Geo 冗長バックアップ

## <a name="steps-to-create-an-azure-database-for-postgresql-server"></a>Azure Database for PostgreSQL サーバーを作成する手順

通常、Azure Database for PostgreSQL を Azure portal を使用してサーバーを作成します。 手順を見てみましょう。

最初、Azure portal にサインインし、順にクリックして**リソースの作成**です。

選択した**データベース**と**Azure Database for PostgreSQL**します。 使用することも、**検索**このカテゴリを検索する機能。

ポータルのブレードとも呼ばれる、PostgreSQL サーバーの構成画面が表示されを選択します。

![新しい PostgreSQL データベースの作成ブレードを表示する Azure ポータルのスクリーン ショット](../media-draft/4-create-blade.png)

ブレード内のすべての項目に値をそれぞれに見てみましょう必要があります。

### <a name="server-name"></a>サーバー名

以前サーバー リソースを作成することを説明しました。 サーバー名は、このリソースを指定する項目です。 その結果、サーバーの一意の名前を選択する必要があります。 サーバー名では、すべて小文字である必要があり、数字、ハイフンを持つことができます。

たとえば、サーバーの名前を付ける_Adventure Works 追跡_します。 名前を設定し、`adventure-works-tracking`します。 既に存在する名前でサーバーを作成しようとすると、それに対応するエラーが表示されます。

### <a name="subscription"></a>サブスクリプション

サブスクリプションのフィールドは、課金に使用されます。 使用可能な 1 つ以上のサブスクリプションがある場合、特定のサブスクリプションを選択します。

### <a name="resource-group"></a>リソース グループ

サーバーに関連するすべてのリソースを管理するのにリソース グループを使用します。 新しいリソース グループを作成したり、既存のリソース グループを再利用することができます。

### <a name="source"></a>ソース

選択して、最初からサーバーに作成することができます、_空白_既定のオプション、または既存のバックアップ。 **バックアップ**オプションが既存の Azure Database for PostgreSQL サーバーの営業案件復元 geo バックアップを提供します。

### <a name="server-admin-login-name"></a>サーバー管理者ログイン名

サーバーの管理者ユーザーを作成します。 新しいサーバーの管理者ログインとして使用するログイン名を選択します。 管理者のログイン名は、azure_superuser、azure_pg_admin、管理者、管理者、root、guest、またはパブリックにすることはできません。 Pg _ で始まる必要ことはできません。 保存または将来使用するためには、この名前を書き留めます。

### <a name="password"></a>パスワード

上記の管理者ログイン名を使用するパスワードを選択します。 パスワードは、次のカテゴリの 3 つの文字を含める必要があります。
- 英語の大文字の使用
- 英語の小文字
- 数字 (0 ~ 9)
- 英数字以外の文字 (!、$、#、% など)

注意してくださいまたは将来使用するためには、このパスワードをメモします。

### <a name="confirm-password"></a>パスワードの確認

確認するためのパスワードを再入力します。

### <a name="location"></a>場所

場所のオプションを使用すると、サーバーが物理的に作成先を指定できます。 ユーザーに最も近い地理的な場所を選択します。 実際のシナリオでは、場所は大部分のユーザーに最も近い場所にする必要があります。

### <a name="version"></a>Version

使用する PostgreSQL のバージョンを指定することができます。 Microsoft では、現在のバージョンと PostgreSQL の 2 つのバージョンをサポートする目的としています。 運用環境に一致するバージョンを選択します。

> [!NOTE]
> 詳細については、次のソースを参照してください。
> - [サポートされている PostgreSQL database バージョン](https://docs.microsoft.com/azure/postgresql/concepts-supported-versions)
> - [バージョン管理ポリシー](https://www.postgresql.org/support/versioning/)

### <a name="pricing-tier"></a>[価格レベル] 

サーバーのワークロードをサポートする価格レベルを選択します。 3 つのレベルから選択する必要があることを思い出してください。 前述のように、これらの各階層を使用するコンピューティングとストレージのオプションを構成します。 選択した基本価格レベル、Gen 5 のコンピューティングでは、25 日のバックアップ保有期間と例を示します。

![データベースを新しい PostgreSQL データベースの価格レベルを示す Azure ポータルのスクリーン ショット](../media-draft/4-azure-db-pricing-tier.png)

入力した値を確認して後で、必要がありをクリックした可能性がありますすべてメモを作成するには、今すぐあとは**作成**サーバーを作成します。

サーバーを展開する (分) かかります。 デプロイが完了すると、通知を受け取ります。 通知からは、新しく作成したサーバーに移動することができます。

これで、Azure Database for PostgreSQL サーバーを作成するための手順を説明しました。 次の単位で、独自の Azure Database for PostgreSQL サーバーを作成することがあります。
