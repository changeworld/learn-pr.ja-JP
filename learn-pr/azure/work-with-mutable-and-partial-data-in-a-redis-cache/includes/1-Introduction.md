インスタント メッセージング モバイル アプリケーションを作成するとします。 そのアプリケーションを使用すると、ユーザーは特定のユーザー定義グループのすべてのメンバーにメッセージを送信できます。 ユーザー名、メール アドレス、パスワードなど、各ユーザーに関する一部のデータは保存する必要があります。 そこで、SQL Server を使用して、その情報のリレーショナル データベースを作成することにしました。 メッセージ自体は速やかに送信し、メッセージへのアクセスもすばやく行う必要がありますが、そのためには、リレーショナル データベースは時間がかかりすぎます。

多数の利点を備えていることから、Azure Redis Cache を作成することにしました。 「**Redis で読み取り専用データをキャッシュすることにより Web アプリケーションを最適化する**」モジュールで説明したように、Redis Cache は、データベース、キャッシュ、またはメッセージ ブローカーとして使用できるメモリ内データ構造ストアです。

Azure Redis Cache では、トランザクションを使用して、メッセージの画像とテキストを同時に送信できるようにします。 データの有効期限を使用して、1 時間後にグループ チャットの名前をリセットします。 最後に、削除ポリシーを使用して、メモリ不足になったときに最も古いメッセージから削除されるようにします。

## <a name="learning-objectives"></a>学習の目的

このモジュールでは、次のことを行います。

- 複数の操作をトランザクションにグループ化する
- ご利用のデータの有効期限を設定する
- メモリ不足の状態を管理する
- キャッシュ アサイド パターンを使用する
- .NET Core コンソール アプリケーションで ServiceStack.Redis パッケージを使用する