優れたユーザー エクスペリエンスを提供するアプリケーションを構築する場合と、利用するは、データをすばやく取得します。 低速な処理では、通常は、データベースからデータを取得して場合、このデータは、多くの場合、読み取りは、ユーザー エクスペリエンスの低下を提供できます。 キャッシュ アサイド パターンでは、最もアクセス頻度の低い可能な限り早く返される、データベースを組み合わせて、キャッシュを実装する方法について説明します。

ここでは、キャッシュ アサイド パターンを使用して、重要なデータにすばやくアクセスできるようにする方法を学習します。

## <a name="what-is-the-cache-aside-pattern"></a>キャッシュ アサイド パターンとは何ですか。

キャッシュ アサイド パターンは、リレーショナル データベースなどのデータ ソースからデータを取得する必要があるときにする必要があります最初を確認して、データ キャッシュ内のによって決まります。 データがキャッシュ内にある場合を使用します。 データが、キャッシュ、データベースのクエリではなくを使用して、ユーザーにデータを返す場合の場合は、キャッシュを追加します。 これはしにより必要な次の時間、キャッシュからデータにアクセスすることです。

## <a name="when-to-implement-the-cache-aside-pattern"></a>キャッシュ アサイド パターンを実装するときにしますか。

データベースからデータの読み取りは、通常は低速なプロセスです。 複雑なクエリのコンパイル、クエリの実行プランの準備、クエリの実行し、結果の準備が必要があります。 場合によっては、このプロセスは、同様のディスクからデータを読み取ることができます。 これには、クエリをプリコンパイルして、メモリ内のデータの読み込みなど、データベース レベルで実行できる最適化があります。 ただし、クエリの実行と結果の準備は常に発生、データベースからデータを取得するときにします。

キャッシュ アサイド パターンを使用して、この問題を解決できます。 キャッシュア サイド パターンで、アプリケーションと、データベースがまだあるが、キャッシュもあるようになりました。 キャッシュは、ファイル システムと対話する必要はありませんので、メモリ内のデータを格納します。 キャッシュは、データを収集してデータを書き込むときにインデックスを維持する複雑なクエリを実行する必要のないようにもデータと、キー値のペアなどの非常に単純なデータ構造で格納します。 このため、キャッシュには通常よりパフォーマンスが向上するデータベースです。 アプリケーションを使用するときに最初に、キャッシュからデータの読み取りを試みます。 要求されたデータがキャッシュにない場合は、アプリケーションから取得されますが、データベースでは、常に行ったように。 ただし、データをキャッシュに格納後続の要求。 すべてのユーザーが、データを要求するときに [次へ] の時刻を返しますが、キャッシュから直接。

![キャッシュへのデータ読み込みのダイアグラム](../media-draft/cache-aside-set-cache.png)

### <a name="how-to-manage-updating-data"></a>データの更新を管理する方法

キャッシュ アサイド パターンを実装する場合は、小さな問題を紹介します。 データはキャッシュとデータ ストアに格納されるようになりました、ためには、更新を作成するときに問題が発生実行できます。 たとえば、データを更新することになるキャッシュとデータ ストアの両方を更新します。

キャッシュ アサイド パターンでは、この問題を解決する、キャッシュ内のデータが無効にすることです。 アプリケーションでデータを更新するときに、最初に、キャッシュ内のデータを削除し、直接データ ソースに変更を行います。 これにより、次回、データが要求された、キャッシュに存在することはできませんし、この手順を繰り返します。 

![キャッシュされたデータを無効化の図](../media-draft/cache-aside-invalidate.png)

## <a name="considerations-for-using-the-cache-aside-pattern"></a>キャッシュ アサイド パターンの使用に関する注意点

キャッシュに格納するデータを慎重に検討してください。 すべてのデータは、キャッシュに適しています。

- **有効期間**: を有効にするには、キャッシュ アサイドの有効期限ポリシーがデータのアクセスの頻度と一致することを確認します。 有効期間が短すぎるため継続的に、データからデータを取得する原因のアプリケーションを格納してキャッシュに追加します。

- **削除**: キャッシュがある一般的なデータ ストアの場合と比較して制限されたサイズと必要な場合にデータが削除されます。 データの適切な削除ポリシーを選択することを確認します。

- **準備**: 多くのソリューションが、キャッシュに頻繁にアクセスすると思われるデータを事前キャッシュ アサイド パターンを有効にします。

- **整合性**: キャッシュ アサイド パターンを実装すると、データ ストアとキャッシュの間の一貫性が保証されません。 データ ストア内のデータは、キャッシュ通知することがなく変更できます。 これは、同期の深刻な問題につながります。

キャッシュア サイド パターンができたときに必要なデータにアクセスする多くの場合、ディスクを使用するデータ ソースからです。 キャッシュ アサイド パターンを使用して、取得の速度を高めるために、キャッシュに重要なデータを格納します。 