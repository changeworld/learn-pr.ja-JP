この演習では、Azure portal を使用して Azure Web アプリを作成します。

## <a name="log-in-to-the-azure-portal"></a>Azure portal にログインする

まず、Azure portal にログインします。

1. ブラウザーを開いて [Azure portal](https://portal.azure.com) に移動します。
2. ご自分の資格情報を使用してログインします。
3. ログインに成功すると、Azure portal の**ダッシュボード**またはホーム ページが表示されます。

    ![Azure portal](../media-draft/3-azure-portal.PNG)

## <a name="create-an-azure-web-app"></a>Azure Web アプリを作成する

Azure portal にログインできたので、テンプレートを使用して Azure Web アプリを作成しましょう。

1. 画面の左上で **[+ リソースの作成]** リンクを見つけてクリックします。 Azure 上で作成するすべてのものがリソースです。

    ![Azure Marketplace](../media-draft/3-market-place.PNG)

1. ポータルの表示が **[Marketplace]** ブレードに変わります。 ここから、作成するリソースを検索したり、ユーザーが Azure portal で作成した人気のあるリソースの 1 つを選択したりすることができます。

1. **[人気順]** セクションで **[Web App]** リソースを見つけてクリックします。 ポータルの表示が **[Create New Web App]\(新しい Web アプリを作成する\)** ブレードにリダイレクトされます。

    ![[Create New Web App]\(新しい Web アプリを作成する\) ブレード](../media-draft/3-create-new-web-app-page.PNG)

1. 新しい Web アプリを作成すると、Azure portal では自動的にアプリを作成するために情報が要求されます。 このセクションでは、次の基本情報を提供する必要があります。

    1. **アプリ名**: クライアントは、アプリケーションを `BestBike` という名前にする必要があります。 このフィールドにその名前を入力します。 Azure portal では、他のユーザーがアプリ名 `BestBike` を使用しないように、Azure 全体でホストされているすべての Web アプリの中で、Web アプリ名の可用性を確認し、検証します。

    2. **サブスクリプション**: このフィールドでは、ドロップダウン リストからアクティブな Azure サブスクリプションを選択する必要があります。

    3. **OS**: このフィールドでは、新しい Web アプリをホストするために、**Windows** または **Linux** のいずれかを使用することを決定する必要があります。 この設定は、以下で選択または作成する App Service プランに直接影響します。 ご記憶のとおり、App Service プランでは仮想マシンを使用します。これは、ご自分のアプリケーションを実行するマシン上で必要なすべてのリソース (CPU、RAM など) を含むオペレーティング システムです。 この場合、クライアントは Windows マシンで Web アプリをホストすることを選びます。 そのため、**[Windows]** を選択します。

    4. **Application Insights**: Azure Application Insights は、ご自分の Web app と Web サービスでの品質の問題を検出および診断するのに役立ち、ユーザーがそれを使って実際に行う内容を解釈するのに役立ちます。 クライアントの要件の 1 つは、クライアントの Web サイトからのトラフィックに関する分析情報レポートの一部を表示し、トラフィックが多いときと、少ないときの傾向を学習する機能です。 ここでは、**[オン]** オプションを選択して、この Web アプリに対して Application Insights を有効にします。 **[オン]** オプションを選択すると、Application Insights データを保存する場所またはリージョンを選択する必要もあります。 Application Insights は、限られた数のリージョンでのみ使用できることに注意してください。 このデモでは、**[Application Insights の場所]** フィールドで **[米国東部]** リージョンを選択します。

## <a name="create-a-new-resource-group"></a>新しいリソース グループを作成する

Azure Web アプリは、リソース グループの一部である必要があります。 リソース グループを作成して、任意の関連するリソースをグループ化しましょう。

**[新規作成]** オプション (既定で選択済み) を選択します。 Azure によって、選択した**アプリ名**に基づいて、自動的に固有のリソース グループ名が既に生成されています。 自由にリソース グループ名を変更するか、Azure が生成した名前をそのまま保持するができます。 ここでは、Azure によって生成された名前を保持します。

## <a name="create-an-app-service-plan"></a>App Service プランを作成する

このフィールドでは、ご自分のアプリケーションを実行する App Service プランを選択する必要があります。 既定では、お客様が以前に作成した最新の App Service プランがポータルで選択されます。 **>** 記号をクリックし、**[App Service プラン]** ブレードに移動します。

![[App Service プラン] ブレード](../media-draft/3-create-app-service-plan.PNG)

**[+ 新規作成]** リンクを見つけてクリックし、新しい App Service プランを作成します。 ポータルの表示が **[新しい App Service プラン]** ブレードに変わります。 ポータルでは、新しい App Service プランを作成するために、ユーザーから一部の情報を要求します。

![[新しい App Service プラン] ブレード](../media-draft/3-new-app-service-plan.PNG)

1. **App Service プラン**: このフィールドでは、新しい App Service プランに固有の名前を指定します。 上で選択したのと同じ Web アプリ名を入力して、他のユーザーがこのリソースを簡単に区別できるように、`-app-service-plan` のサフィックスを追加します。 ここでも、Azure portal によって、Azure 全体でホストされているすべての App Service プランの中で、App Service プラン名の可用性が確認され検証されます。

2. **場所**: このフィールドでは、この App Service プランが存在する**リージョン**を選択する必要があります。 つまり、App Service プランでご自分のアプリケーションの実行に必要な仮想マシンを設定する、地理的な場所を選択します。 この場合は、一覧で任意の操作を選択できます。 クライアントは、クライアントのクライアントのほとんどが帰属している、東海岸に近い場所でサーバーをホストすることを選びます。 そのため、値として **[米国東部]** を選択します。

3. **価格レベル**: このフィールドでは、ご自分のアプリケーションをホストする仮想マシンのサイズを選択する必要があります。 **>** 記号をクリックし、**[価格レベル]** ブレードに移動します。

    ![[価格レベル] ブレード](../media-draft/3-pricing-tier-blade.PNG)

    ここでは、多くのオプションから選択できます。 このポータルでは、必要なワークロードのレベルによってそれらのオプションがグループ化されます。 利用できる 3 つのワークロード カテゴリは、Dev/Test、Production、Isolated です。 Azure でホストするアプリケーションの要件に応じて、関連するワークロード カテゴリを選択します。 `BestBike` アプリケーションがビルドされ、調整しているときは、自分に適した最小ワークロード カテゴリから開始します。 クライアントの要件の 1 つは、アプリケーションからの任意の新しい変更をライブでテストする機能でした。 次のユニットでは、この要件を実現するために、**デプロイ スロット**を追加する必要があります。 デプロイ スロットは、**S1** の最小価格レベルでのみ利用できます。 そのため、**[運用ワークロード]** カテゴリの下で **[S1]** の価格レベルを選択します。 次に、**[適用]** をクリックして、上で選択した価格レベルを確認します。

    > このモジュールから、**[Production]** と **[Isolated]** ワークロード カテゴリのみで **デプロイ スロット**をご自分の Web アプリに追加できることが通知されます。

**[新しい App Service プラン]** ブレードに戻ります。

**[OK]** をクリックします。

ポータルの表示がメインの **[Web アプリの作成]** ブレードに戻ります。

![データを使って新しい Web アプリを作成する](../media-draft/3-new-web-app-with-data.PNG)

**[作成]** ボタンをクリックして、Web アプリを作成するプロセスを開始します。

> 通常、Azure portal では、使用する Web アプリが作成され、使用できるようになるまで数秒かかります。

ポータルの表示はダッシュボード ページにリダイレクトされ、Web アプリが作成されると通知されます。

アプリの準備ができたら、ダッシュボードの左側にある **[すべてのリソース]** メニューを見つけてクリックします。 **[すべてのリソース]** ブレードに、Azure portal で作成されているすべてのリソースが一覧表示されます。

作成した Web アプリを見つけてクリックします。 ポータルの表示が Web アプリ ブレードに変わります。

![bilal-webapp アプリ](../media-draft/3-web-app.PNG)

ポータルでは、Web アプリのホーム ページが開きます。

![bilal-webapp ホーム ページ](../media-draft/3-web-app-home.PNG)

Azure portal の右上で **URL** を見つけてクリックします。 以下に示されているのと同様のページが表示された場合は、Web アプリの作成に成功したということです。

![既定の Web App のホーム ページ](../media-draft/3-default-home-page.PNG)
