<span data-ttu-id="088b2-101">アプリケーションの構成のシークレットの管理に関する問題を理解するには、上級開発者の Steve のストーリーを読めば十分です。</span><span class="sxs-lookup"><span data-stu-id="088b2-101">If you want to understand what can go wrong with managing an application's configuration secrets, look no further than the story of Steve the senior developer.</span></span>

<span data-ttu-id="088b2-102">Steve がペット フードの配送会社での職に就いてから数週間経った頃でした。</span><span class="sxs-lookup"><span data-stu-id="088b2-102">Steve had been in his job at a pet food delivery company for a few weeks.</span></span> <span data-ttu-id="088b2-103">彼は会社の Web アプリの詳細 &mdash; 注文情報を格納するための SQL データベースとクレジット カードの請求と顧客の住所をマッピングするためのサード パーティ製 API を使用した .NET Core Web アプリケーション &mdash; を調査しているときに、誤って注文データベースの接続文字列をパブリック フォーラムに貼り付けてしまいました。</span><span class="sxs-lookup"><span data-stu-id="088b2-103">He was exploring the details of the company's web app &mdash; a .NET Core web application that used an Azure SQL database for storing order information and third-party APIs for credit card billing and mapping customer addresses &mdash; when he accidentally pasted the connection string for the orders database into a public forum.</span></span>

<span data-ttu-id="088b2-104">数日後、同社が大量のペット フードを配送していて、それらが未払いになっていることに経理が気付きました。</span><span class="sxs-lookup"><span data-stu-id="088b2-104">Days later, accounting noticed that the company was delivering a lot of pet food that nobody had paid for.</span></span> <span data-ttu-id="088b2-105">第三者が、データベースにアクセスする接続文字列を使用してスキーマをリバース エンジニアリングし、Web サイトを経由せずに発注していたのです。</span><span class="sxs-lookup"><span data-stu-id="088b2-105">Someone had used the connection string to access the database, reverse-engineered the schema, and placed orders without going through the website.</span></span>

<span data-ttu-id="088b2-106">自分のミスに気付いた Steve は、Web サイトに侵入している攻撃者をロックアウトするため、急いでデータベースのパスワードを変更しました。</span><span class="sxs-lookup"><span data-stu-id="088b2-106">After realizing his mistake, Steve hurriedly changed the database password to lock out the attacker, breaking the website.</span></span> <span data-ttu-id="088b2-107">彼は再デプロイせずに、アプリケーション サーバーに直接ログインしてアプリの構成を変更しましたが、サーバーでは引き続き要求の失敗が示されていました。</span><span class="sxs-lookup"><span data-stu-id="088b2-107">He logged directly into the application server and changed the app configuration instead of redeploying, but the server was still showing failed requests.</span></span>

<span data-ttu-id="088b2-108">Steve は、アプリの複数のインスタンスが別のサーバーで実行されていることを忘れていて、1 つの構成だけを変更したのです。</span><span class="sxs-lookup"><span data-stu-id="088b2-108">Steve had forgotten that multiple instances of the app ran on different servers, and he had only changed the configuration for one.</span></span> <span data-ttu-id="088b2-109">完全な再デプロイが必要となり、さらに 30 分のダウンタイムが生じました。</span><span class="sxs-lookup"><span data-stu-id="088b2-109">A full redeployment was needed, causing another 30 minutes of downtime.</span></span>

<span data-ttu-id="088b2-110">データベース接続文字列や API キー、サービスのパスワードの漏えいは、致命的になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="088b2-110">Leaking a database connection string, API key, or service password can be catastrophic.</span></span> <span data-ttu-id="088b2-111">結果として、データの盗難や削除、財政的損害、アプリケーションのダウンタイム、および企業の資産と評判に回復不可能な損害が生じる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="088b2-111">Stolen or deleted data, financial harm, application downtime, and irreparable damage to business assets and reputation are all potential results.</span></span> <span data-ttu-id="088b2-112">残念ながら、シークレット値は多くの場合、同時に複数の場所にデプロイして、都合の悪いタイミングで変更する必要があります。</span><span class="sxs-lookup"><span data-stu-id="088b2-112">Unfortunately, secret values often need to be deployed in multiple places simultaneously and changed at inopportune times.</span></span> <span data-ttu-id="088b2-113">そしてこれらを*どこか*に格納する必要があります。</span><span class="sxs-lookup"><span data-stu-id="088b2-113">And you have to store them *somewhere*!</span></span> <span data-ttu-id="088b2-114">Azure key Vault を使用して、これらすべてを安全に行う方法を説明します。</span><span class="sxs-lookup"><span data-stu-id="088b2-114">Let's see how we can make all of this secure with Azure KeyVault.</span></span>

## <a name="learning-objectives"></a><span data-ttu-id="088b2-115">学習の目的</span><span class="sxs-lookup"><span data-stu-id="088b2-115">Learning objectives</span></span>

  <span data-ttu-id="088b2-116">このモジュールでは、次のことを行います。</span><span class="sxs-lookup"><span data-stu-id="088b2-116">In this module, you will:</span></span>
    - <span data-ttu-id="088b2-117">Azure Key Vault に格納できる情報の種類を調べる。</span><span class="sxs-lookup"><span data-stu-id="088b2-117">Explore what types of information can be stored in Azure Key Vault.</span></span>
    - <span data-ttu-id="088b2-118">Azure キー コンテナーを作成し、それを使用してシークレット構成値を格納する</span><span class="sxs-lookup"><span data-stu-id="088b2-118">Create an Azure Key Vault and use it to store secret configuration values</span></span>
    - <span data-ttu-id="088b2-119">Azure リソースに対するマネージド ID を使用して Azure App Service Web アプリからコンテナーへのセキュリティで保護されたアクセスを有効にする</span><span class="sxs-lookup"><span data-stu-id="088b2-119">Enable secure access to the vault from an Azure App Service web app with managed identities for Azure resources</span></span>
    - <span data-ttu-id="088b2-120">コンテナーからシークレットを取得する Web アプリケーションを実装する</span><span class="sxs-lookup"><span data-stu-id="088b2-120">Implement a web application that retrieves secrets from the vault</span></span>
