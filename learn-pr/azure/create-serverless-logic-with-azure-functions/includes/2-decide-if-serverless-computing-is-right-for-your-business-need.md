<span data-ttu-id="eb76c-101">サーバーレス コンピューティングが自社に適しているかどうかを容易に判断できるように、まずサーバーレスとはどのようなものかを説明します。</span><span class="sxs-lookup"><span data-stu-id="eb76c-101">To help decide whether serverless computing is right for you, let's first learn what serverless is all about.</span></span>

## <a name="what-is-serverless-compute"></a><span data-ttu-id="eb76c-102">サーバーレス コンピューティングとは</span><span class="sxs-lookup"><span data-stu-id="eb76c-102">What is serverless compute?</span></span>

<span data-ttu-id="eb76c-103">サーバーレス コンピューティングは、Function as a Service (FaaS)、またはクラウド プラットフォーム上でホストされるマイクロサービスと考えることができます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-103">Serverless compute can be thought of as a function as a service (FaaS), or a microservice that is hosted on a cloud platform.</span></span> <span data-ttu-id="eb76c-104">ご利用のビジネス ロジックは関数として実行され、インフラストラクチャのプロビジョニングまたはスケーリングを手動で行う必要はありません。</span><span class="sxs-lookup"><span data-stu-id="eb76c-104">Your business logic runs as functions and you don't have to manually provision or scale infrastructure.</span></span> <span data-ttu-id="eb76c-105">インフラストラクチャはクラウド プロバイダーによって管理されます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-105">The cloud provider manages infrastructure.</span></span> <span data-ttu-id="eb76c-106">ご利用のアプリは、負荷に応じて自動的にスケールアウトまたはスケールダウンされます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-106">Your app is automatically scaled out or down depending on load.</span></span> <span data-ttu-id="eb76c-107">Azure には、この種のアーキテクチャを構築するための方法がいくつか用意されています。</span><span class="sxs-lookup"><span data-stu-id="eb76c-107">Azure has several ways to build this sort of architecture.</span></span> <span data-ttu-id="eb76c-108">最も一般的な方法として、このモジュールで取り上げる Azure Logic Apps と Azure Functions の 2 つが挙げられます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-108">The two most common approaches are Azure Logic Apps and Azure Functions, which we focus on in this module.</span></span>

## <a name="what-is-azure-functions"></a><span data-ttu-id="eb76c-109">Azure Functions とは</span><span class="sxs-lookup"><span data-stu-id="eb76c-109">What is Azure Functions?</span></span>

<span data-ttu-id="eb76c-110">Azure Functions はサーバーレス アプリケーション プラットフォームです。</span><span class="sxs-lookup"><span data-stu-id="eb76c-110">Azure Functions is a serverless application platform.</span></span> <span data-ttu-id="eb76c-111">これにより、開発者はインフラストラクチャをプロビジョニングすることなく実行できるビジネス ロジックをホストできます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-111">It allows developers to host business logic that can be executed without provisioning infrastructure.</span></span> <span data-ttu-id="eb76c-112">Functions では、組み込みのスケーラビリティが提供され、使用されているリソースに対してのみ料金が請求されます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-112">Functions provides intrinsic scalability and you are charged only for the resources used.</span></span> <span data-ttu-id="eb76c-113">C#、F#、JavaScript など、好みの言語で関数コードを記述することができます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-113">You can write your function code in the language of your choice, including C#, F#, and JavaScript.</span></span> <span data-ttu-id="eb76c-114">NuGet および NPM のサポートも含まれているので、ビジネス ロジック内で一般的なライブラリを使用することができます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-114">Support for NuGet and NPM is also included, so you can use popular libraries in your business logic.</span></span>

## <a name="benefits-of-a-serverless-compute-solution"></a><span data-ttu-id="eb76c-115">サーバーレス コンピューティング ソリューションの利点</span><span class="sxs-lookup"><span data-stu-id="eb76c-115">Benefits of a serverless compute solution</span></span>

<span data-ttu-id="eb76c-116">サーバーレス コンピューティングは、クラウドでビジネス ロジックのコードをホストする場合に適したオプションです。</span><span class="sxs-lookup"><span data-stu-id="eb76c-116">Serverless compute is a great option for hosting business logic code in the cloud.</span></span> <span data-ttu-id="eb76c-117">Azure Functions などサーバーレス サービスを使用すると、好みの言語でビジネス ロジックを記述できます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-117">With serverless offerings such as Azure Functions, you can write your business logic in the language of your choice.</span></span> <span data-ttu-id="eb76c-118">スケーリングが自動的に行われます。管理対象のサーバーはありません。予約された時間ではなく、使用されているものに基づいて課金されます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-118">You get automatic scaling, you have no servers to manage, and you are charged based on what is used — not on reserved time.</span></span> <span data-ttu-id="eb76c-119">サーバーレス ソリューションには、他にも検討すべき特性がいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="eb76c-119">Here are some additional characteristics of a serverless solution for you to consider.</span></span>

### <a name="avoids-over-allocation-of-infrastructure"></a><span data-ttu-id="eb76c-120">インフラストラクチャの割り当て超過を回避する</span><span class="sxs-lookup"><span data-stu-id="eb76c-120">Avoids over-allocation of infrastructure</span></span>

<span data-ttu-id="eb76c-121">VM サーバーをプロビジョニングし、このサーバーに、ピーク負荷に対応するために十分なリソースを構成したとします。</span><span class="sxs-lookup"><span data-stu-id="eb76c-121">Suppose you've provisioned VM servers and configured them with enough resources to handle your peak load times.</span></span> <span data-ttu-id="eb76c-122">負荷が小さい場合、使用していないインフラストラクチャに対しても課金される可能性があります。</span><span class="sxs-lookup"><span data-stu-id="eb76c-122">When the load is light, you are potentially paying for infrastructure you're not using.</span></span> <span data-ttu-id="eb76c-123">サーバーレス コンピューティングでは、自動的なスケールアップまたはスケールダウンにより割り当ての問題を容易に解決することができ、ご利用の機能で作業が処理されているときのみ課金されます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-123">Serverless computing helps solve the allocation problem by scaling up or down automatically, and you're only billed when your function is processing work.</span></span>

### <a name="stateless-logic"></a><span data-ttu-id="eb76c-124">ステートレスなロジック</span><span class="sxs-lookup"><span data-stu-id="eb76c-124">Stateless logic</span></span>

<span data-ttu-id="eb76c-125">ステートレスな関数は、サーバーレス コンピューティングの有力候補です。関数のインスタンスがオンデマンドで作成され、破棄されます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-125">Stateless functions are great candidates for serverless compute; function instances are created and destroyed on demand.</span></span> <span data-ttu-id="eb76c-126">状態が必要な場合は、関連付けられているストレージ サービスに格納できます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-126">If state is required, it can be stored in an associated storage service.</span></span>

### <a name="event-driven"></a><span data-ttu-id="eb76c-127">イベント ドリブン</span><span class="sxs-lookup"><span data-stu-id="eb76c-127">Event driven</span></span>

<span data-ttu-id="eb76c-128">Functions は "_イベント ドリブン_" です。</span><span class="sxs-lookup"><span data-stu-id="eb76c-128">Functions are _event driven_.</span></span> <span data-ttu-id="eb76c-129">つまり、HTTP 要求やキューに追加されているメッセージの受信などのイベント ("トリガー" と呼ばれる) への応答でのみ実行されます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-129">This means they run only in response to an event (called a "trigger"), such as receiving an HTTP request, or a message being added to a queue.</span></span> <span data-ttu-id="eb76c-130">トリガーは関数定義の一部として構成します。</span><span class="sxs-lookup"><span data-stu-id="eb76c-130">You configure a trigger as part of the function definition.</span></span> <span data-ttu-id="eb76c-131">この方法によって、データの取得元 (トリガー/入力バインド) とデータの送信先 (出力バインド) を宣言できるようになるため、コードが大幅に単純化されます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-131">This approach simplifies your code by allowing you to declare where the data comes from (trigger/input binding) and where it goes (output binding).</span></span> <span data-ttu-id="eb76c-132">キュー、BLOB、ハブなどを監視するコードを記述する必要はありません。純粋にビジネス ロジックに専念できます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-132">You don't need to write code to watch queues, blobs, hubs, etc. You can focus purely on the business logic.</span></span>

### <a name="functions-can-be-used-in-traditional-compute-environments"></a><span data-ttu-id="eb76c-133">Functions は従来のコンピューティング環境で使用できます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-133">Functions can be used in traditional compute environments</span></span>

<span data-ttu-id="eb76c-134">Functions は、サーバーレス コンピューティングの重要なコンポーネントですが、任意の種類のコードを実行するための一般的なコンピューティング プラットフォームでもあります。</span><span class="sxs-lookup"><span data-stu-id="eb76c-134">Functions are a key component of serverless computing, but they are also a general compute platform for executing any type of code.</span></span> <span data-ttu-id="eb76c-135">ご利用のアプリのニーズに変化が生じた場合は、そのプロジェクトを取得し、それを非サーバーレス環境にデプロイすることができます。そうすることで、スケーリングの管理、仮想ネットワーク上での実行、さらに自分の関数の完全な分離を柔軟に行うことができます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-135">Should the needs of your app change, you can take your project and deploy it in a non-serverless environment, which gives you the flexibility to manage scaling, run on virtual networks, and even completely isolate your functions.</span></span>

## <a name="drawbacks-of-a-serverless-compute-solution"></a><span data-ttu-id="eb76c-136">サーバーレス コンピューティング ソリューションの欠点</span><span class="sxs-lookup"><span data-stu-id="eb76c-136">Drawbacks of a serverless compute solution</span></span>

<span data-ttu-id="eb76c-137">サーバーレス コンピューティングのソリューションはビジネス ロジックのホスティングに常に適しているわけではありません。</span><span class="sxs-lookup"><span data-stu-id="eb76c-137">Serverless compute will not always be the appropriate solution to hosting your business logic.</span></span> <span data-ttu-id="eb76c-138">サーバーレス コンピューティングでご利用のサービスをホストするための決定に影響を与える可能性がある Functions の特性をいくつか示します。</span><span class="sxs-lookup"><span data-stu-id="eb76c-138">Here are a few characteristics of functions that may affect your decision to host your services in serverless compute.</span></span>

### <a name="execution-time"></a><span data-ttu-id="eb76c-139">実行時間</span><span class="sxs-lookup"><span data-stu-id="eb76c-139">Execution time</span></span>

<span data-ttu-id="eb76c-140">既定では、Functions に 5 分のタイムアウトが設定されています。</span><span class="sxs-lookup"><span data-stu-id="eb76c-140">By default, functions have a timeout of 5 minutes.</span></span> <span data-ttu-id="eb76c-141">このタイムアウトは、最大 10 分に設定することができます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-141">This timeout is configurable to a maximum of 10 minutes.</span></span> <span data-ttu-id="eb76c-142">実行に 10 分以上必要な関数は、VM 上でホストすることができます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-142">If your function requires more than 10 minutes to execute, you can host it on a VM.</span></span> <span data-ttu-id="eb76c-143">さらに、サービスが HTTP 要求を介して開始され、その値を HTTP 応答として求める場合は、タイムアウトが 2.5 分にまで制限されます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-143">Additionally, if your service is initiated through an HTTP request and you expect that value as an HTTP response, the timeout is further restricted to 2.5 minutes.</span></span> <span data-ttu-id="eb76c-144">最後に、**Durable Functions** と呼ばれるオプションもあります。これを使用すると、タイムアウトなしで複数の関数の実行を調整することができます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-144">Finally, there's also an option called **Durable Functions** that allows you to orchestrate the executions of multiple functions without any timeout.</span></span>

### <a name="execution-frequency"></a><span data-ttu-id="eb76c-145">実行頻度</span><span class="sxs-lookup"><span data-stu-id="eb76c-145">Execution frequency</span></span>

<span data-ttu-id="eb76c-146">2 番目の特性は、実行頻度です。</span><span class="sxs-lookup"><span data-stu-id="eb76c-146">The second characteristic is execution frequency.</span></span> <span data-ttu-id="eb76c-147">ご利用の関数が複数のクライアントによって継続的に実行されることが想定される場合は、必要に応じて使用量を見積もり、Functions を使用するコストを計算することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="eb76c-147">If you expect your function to be executed continuously by multiple clients, it would be prudent to estimate the usage and calculate the cost of using functions accordingly.</span></span> <span data-ttu-id="eb76c-148">ご利用のサービスを VM 上でホストする方が安くなる可能性もあります。</span><span class="sxs-lookup"><span data-stu-id="eb76c-148">It might be cheaper to host your service on a VM.</span></span>

<span data-ttu-id="eb76c-149">スケーリング中には、10 秒ごとに関数アプリ インスタンスを 1 つだけ作成でき、合計では最大 200 個のインスタンスを作成できます。</span><span class="sxs-lookup"><span data-stu-id="eb76c-149">While scaling, only one function app instance can be created every 10 seconds, for up to 200 total instances.</span></span> <span data-ttu-id="eb76c-150">各インスタンスでは複数の同時実行を提供できるため、1 つのインスタンスで処理できるトラフィックには制限がないことに留意してください。</span><span class="sxs-lookup"><span data-stu-id="eb76c-150">Keep in mind, each instance can service multiple concurrent executions, so there is no set limit on how much traffic a single instance can handle.</span></span> <span data-ttu-id="eb76c-151">トリガーの種類が異なれば、スケーリング要件も異なるため、選択したトリガーとその制限を確認してください。</span><span class="sxs-lookup"><span data-stu-id="eb76c-151">Different types of triggers have different scaling requirements, so research your choice of trigger and investigate its limits.</span></span>
