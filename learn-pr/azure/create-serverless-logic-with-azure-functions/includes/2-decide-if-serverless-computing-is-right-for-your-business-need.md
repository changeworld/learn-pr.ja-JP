温度データ サービスを作成する前に、サーバーレス コンピューティングがジョブに最適なソリューションであることを確認します。 

## <a name="what-is-serverless-compute"></a>サーバーレス コンピューティングとは
サーバーレス コンピューティングは、Function as a Service (FaaS)、またはクラウド プラットフォーム上でホストされるマイクロサービスと考えることができます。 この機能には、手動でインフラストラクチャをプロビジョニングまたはスケーリングすることなく実行できるビジネス ロジックのコードが含まれています。 ホスティング プラットフォームは抽象化されています。直接アクセスするサーバーはなく、推定するスケーリングもありません。 

## <a name="what-is-azure-functions"></a>Azure Functions とは
Azure Functions はサーバーレス アプリケーション プラットフォームです。 開発者はインフラストラクチャをプロビジョニングすることなく実行できるビジネス ロジックをホストできます。 Azure Functions は、組み込みのスケーラビリティを提供し、使用されているリソースに対してのみ料金を請求します。 Azure Functions は C#、F#、JavaScript などのさまざまな言語でコーディングでき、NuGet と NPM がサポートされているため、一般的なライブラリを多数含めることができます。 

## <a name="when-do-you-use-serverless-compute"></a>サーバーレス コンピューティングを使用する状況
サーバーレス コンピューティングは、クラウドでビジネス ロジックのコードをホストする場合に適したオプションです。 自動スケーリング、秒未満の請求が含まれ、管理が必要なサーバーはなく、実装には複数のプログラミング言語を選択することができます。 サーバーレス コンピューティングで提供されるその他の特性を次に示します。

### <a name="avoid-overallocation-of-infrastructure"></a>インフラストラクチャの割り当て超過が回避される
VM サーバーをプロビジョニングし、このサーバーにピーク負荷に対応するために十分なリソースを構成したと考えてみてください。 負荷が低い場合、使用していないインフラストラクチャに対しても課金される可能性があります。 サーバーレス コンピューティングでは、自動的なスケール アップまたはスケール ダウンにより割り当て超過の問題が解決され、機能の実行中にのみ課金されます。

### <a name="stateless-logic"></a>ステートレスなロジック
ステートレスな関数は、サーバーレス コンピューティングの有力候補です。関数のインスタンスがオンデマンドで作成され、破棄されます。 状態が必要な場合は、関連付けられているストレージ サービスに格納できます。

### <a name="event-driven"></a>イベント ドリブン
Azure Functions はイベント ドリブンです。HTTP 要求やキューに追加されているメッセージの受信などのイベントへの応答でのみ実行されます。 Azure 関数の構成により、データの取得元 (トリガー/入力バインディング) およびデータの送信先 (出力バインディング) を宣言できるようになるため、コードベースが大幅に簡略化されます。 キュー、BLOB、ハブなどを監視するコードを記述する必要はありません。純粋にビジネス ロジックに専念できます。

## <a name="when-do-you-not-use-serverless-compute"></a>サーバーレス コンピューティングを使用すべきではない状況
サーバーレス コンピューティングのソリューションはビジネス ロジックのホスティングに常に適しているわけではありません。 サーバーレス コンピューティングでサービスをホストするための決定に影響を与える可能性がある Azure Functions の特性をいくつか示します。 

### <a name="execution-time"></a>実行時間
既定では、Azure Functions に 5 分のタイムアウトが設定されています。 これは、最大 10 分に設定することができます。 実行に 10 分以上必要な関数は、VM 上でホストすることができます。 さらに、サービスが HTTP 要求を介して開始され、その値を HTTP 応答として求める場合は、タイムアウトが 2.5 分にまで制限されます。

### <a name="execution-frequency"></a>実行頻度
2 番目の特性は、実行頻度です。 関数が複数のクライアントによって継続的に実行されることが想定される場合は、必要に応じて使用量を見積もり、Azure Functions を使用するコストを計算することをお勧めします。 VM 上でサービスをホストする方がはるかに安くなる可能性もあります。

スケーリング中には、10 秒ごとに関数アプリ インスタンスを 1 つだけ作成でき、合計インスタンス数は最大 200 個作成できます。 各インスタンスは複数の同時実行を提供できるため、1 つのインスタンスで処理できるトラフィックには制限がないことに留意してください。 トリガーの種類が異なれば、スケーリング要件も異なるため、選択したトリガーとその制限を確認してください。
