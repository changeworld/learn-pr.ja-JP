<span data-ttu-id="7fc2c-101">エンド ユーザーは、より多くのことをアプリケーションに期待しています。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-101">End users are expecting more from their applications.</span></span> <span data-ttu-id="7fc2c-102">優れたユーザー エクスペリエンスを望み、パフォーマンスの問題によって影響されないことを希望します。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-102">They want to have a great user experience and not be impacted by performance issues.</span></span> <span data-ttu-id="7fc2c-103">パフォーマンスのボトルネックを特定する機能をどのようにしてアーキテクチャに統合しますか。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-103">How do you integrate performance bottleneck identification into your architecture?</span></span> <span data-ttu-id="7fc2c-104">このユニットでは、アプリケーションが確実に効率的に実行されるようにするのに役立ち、また、実行されていない場合はその原因を追跡するのに役立つプロセスとツールの両方について見ていきます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-104">In this unit, we will look at both processes and tools that can help ensure that your application performs well, and help you track down why if it doesn't.</span></span>

## <a name="importance-of-requirements"></a><span data-ttu-id="7fc2c-105">要件の重要性</span><span class="sxs-lookup"><span data-stu-id="7fc2c-105">Importance of requirements</span></span>

<span data-ttu-id="7fc2c-106">パフォーマンスについて説明する前に重要なこととして、要件について説明します。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-106">Before we talk about performance, it's important to talk about requirements.</span></span> <span data-ttu-id="7fc2c-107">理論的には、スケーラビリティとパフォーマンスの向上を際限なく続けることが可能です。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-107">In theory, we could keep improving scalability and performance further and further without end.</span></span> <span data-ttu-id="7fc2c-108">しかし、ある時点で、改善するにはコストが高すぎる、困難である、または価値を認めるだけの十分なビジネス上の効果がないという状態になります。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-108">At some point, however, more improvement is prohibitively expensive, difficult, and doesn't have enough business impact to be worthwhile.</span></span> 

<span data-ttu-id="7fc2c-109">その特定の時点を見つけるために役立つのが、**機能以外の要件 (NFR)** です。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-109">Our **non-functional requirements (NFR)** help us find that point.</span></span> <span data-ttu-id="7fc2c-110">これらの特定の要件は、アプリで何を*実行すべきか*を示すものではありません。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-110">These particular requirements don't tell us what our app must *do*.</span></span> <span data-ttu-id="7fc2c-111">そうではなく、どのような品質レベルを満たす必要があるかを示します。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-111">Instead, they tell us what quality levels it must meet.</span></span> <span data-ttu-id="7fc2c-112">例として、次のようなことを判断するための NFR を定義できます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-112">As examples, we can define these NFR to tell us:</span></span> 

- <span data-ttu-id="7fc2c-113">特定の負荷がかかっている状態で、どれだけ高速にトランザクションを返す必要があるか。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-113">How fast a transaction must return under a given load.</span></span>
- <span data-ttu-id="7fc2c-114">エラーを返し始める前に、どれだけの数の同時接続をサポートする必要があるか。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-114">How many simultaneous connections we need to support before we start returning errors.</span></span>
- <span data-ttu-id="7fc2c-115">サーバー障害の発生時、バックアップをオンラインにする前に、アプリケーションに許可される最長ダウン時間。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-115">In the event of server failure, what is the maximum amount of time our application is allowed be down before a back-up is online.</span></span>

<span data-ttu-id="7fc2c-116">アプリケーションで確実に要求事項が満たされ、かつ、追加作業や追加費用が必要以上に発生することのないように、ソリューションを構築する前に、これらの要件をあらかじめ定義することが重要です。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-116">Defining these requirements in advance of building your solution is critical to ensure that the application meets expectations but doesn't require more effort or expend more money than necessary.</span></span> <span data-ttu-id="7fc2c-117">このような機能以外の要件に関する監視と運用のルールを計画することもできます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-117">We can also plan our monitoring and operations rules around these non-functional requirements.</span></span> 

<span data-ttu-id="7fc2c-118">利害関係者や顧客と要件について話し合い、話し合った内容を文書化して周知し、"良好なパフォーマンス" が何を意味するかについて全員が確実に同意するようにします。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-118">Discuss requirements with your stakeholders or customers, document them, and communicate them broadly to ensure that everyone agrees on what "good performance" means.</span></span>

## <a name="devops-and-application-performance"></a><span data-ttu-id="7fc2c-119">DevOps とアプリケーションのパフォーマンス</span><span class="sxs-lookup"><span data-stu-id="7fc2c-119">DevOps and application performance</span></span>

<span data-ttu-id="7fc2c-120">DevOps の背後にある考え方は、組織に開発とインフラストラクチャの分断が存在しないということです。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-120">The idea behind DevOps is that we don't have development and infrastructure silos in our organization.</span></span> <span data-ttu-id="7fc2c-121">そうではなく、両者が連携して効率的に、合理化されたプロセスに従ってアプリのビルド、デプロイ、監視、メンテナンスを行います。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-121">Instead, they work together to effectively build, deploy, monitor, and maintain apps in streamlined process.</span></span>

<span data-ttu-id="7fc2c-122">計画、デプロイ、テスト、監視は反復型アプローチに従って実施されます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-122">The planning, development, testing, and monitoring is carried out in an iterative approach.</span></span> <span data-ttu-id="7fc2c-123">アプリケーションのパフォーマンスと品質は、ライブ環境にデプロイするときになって、後から思い付くのではなく、ソフトウェア ライフ サイクルに組み入れられます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-123">Performance and quality of our application become a part of our software development life cycle, rather than an afterthought as we deploy into a live environment.</span></span>

![DevOps サイクル](../media/devops-cycle.png)

<span data-ttu-id="7fc2c-125">このアプローチは、"シフト レフト"と呼ばれる DevOps の概念に沿ったものです。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-125">This approach aligns with a DevOps concept called "shifting left".</span></span> <span data-ttu-id="7fc2c-126">つまり、品質管理チェックを前倒しにしてデプロイ プロセスとリリース プロセスに組み込みます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-126">In other words, bring your quality control checks earlier into your deployment and release process.</span></span> <span data-ttu-id="7fc2c-127">これにより、エンド ユーザーに影響する問題をプロセスの早い段階で検出することができます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-127">This allows you to catch end-user impacting issues earlier in the process.</span></span> <span data-ttu-id="7fc2c-128">継続的なサイクルで運用しながら、手動操作の量を制限し、可能な限り自動化します。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-128">As we operate in a continuous cycle, we limit the amount of manual interaction and automate as much as possible.</span></span> 

<span data-ttu-id="7fc2c-129">DevOps プロセスのパフォーマンスの部分を組み立てる 1 つの方法は、運用環境へのデプロイの前に、あらかじめパフォーマンス テストまたはロード テストを実行して、アプリケーションが機能以外の要件を満たしているかを検証することです。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-129">One way we make performance part of our DevOps process is to carry out performance or load tests to validate that the application meets the non-functional requirements prior to a deployment into production.</span></span>

<span data-ttu-id="7fc2c-130">運用環境とまったく同様の環境で、実際の運用サーバーに影響を与えることなく、パフォーマンス テストとロード テストを実行できることが理想です。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-130">Ideally, we could carry out performance and load tests in an environment that is exactly like production while not impacting our actual production servers.</span></span> <span data-ttu-id="7fc2c-131">クラウドを活用すると、これが完全に可能になります。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-131">When leveraging the cloud, you fully have this ability.</span></span> <span data-ttu-id="7fc2c-132">運用環境に似た環境の作成を自動化し、テストを実行した後、コストを最小限にするためにその環境を破棄できます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-132">You can automate the creation of a production-like environment, perform testing, and then destroy the environment to minimize cost.</span></span> <span data-ttu-id="7fc2c-133">自動化に対するこのアプローチにより、アプリケーションでは確実に、現時点で必要なスケールを処理することができ、また、将来の成長に対応できるようになります。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-133">This approach to automation can provide reassurance that your application can handle the scale you require now, as well as respond to future growth.</span></span>

<span data-ttu-id="7fc2c-134">この中核になるのが、アプリケーションのパフォーマンス監視です。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-134">Application performance monitoring becomes a core part of this.</span></span> <span data-ttu-id="7fc2c-135">アプリケーションでパフォーマンス テストとロード テストを実行しているときや、運用環境のパフォーマンスを管理するときは、アプリケーションのどの部分が最適に実行されていないかを把握する必要があります。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-135">If we're running performance and load tests on our application or want to keep our production performance in check, we want to understand what parts of our application may be performing non-optimally.</span></span> <span data-ttu-id="7fc2c-136">これを行うための方法をいくつか見てみましょう。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-136">Let's take a look at some ways to do this.</span></span>

## <a name="performance-monitoring-options-in-azure"></a><span data-ttu-id="7fc2c-137">Azure のパフォーマンス監視オプション</span><span class="sxs-lookup"><span data-stu-id="7fc2c-137">Performance monitoring options in Azure</span></span>

<span data-ttu-id="7fc2c-138">監視とは、ビジネス アプリケーションや関連するリソースのパフォーマンス、正常性、可用性を見極めるために、データを収集し、分析することを指します。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-138">Monitoring is the act of collecting and analyzing data to determine the performance, health, and availability of your business application and associated resources.</span></span>

<span data-ttu-id="7fc2c-139">アプリケーションがスムーズに実行されているかどうかについて、常に最新情報を受け取る必要があります。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-139">We want to be kept informed that our application is running smoothly.</span></span> <span data-ttu-id="7fc2c-140">プロアクティブな通知を使用して、発生した重要な問題について知らせることができます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-140">Proactive notifications can be used to inform about critical issues that arise.</span></span> <span data-ttu-id="7fc2c-141">考慮すべき多くの監視レイヤーがあります。主なレイヤーは、インフラストラクチャ レイヤーとアプリケーション レイヤーです。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-141">There are many layers of monitoring to consider, mainly the infrastructure layer and the application layer.</span></span>

### <a name="azure-monitor"></a><span data-ttu-id="7fc2c-142">Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="7fc2c-142">Azure Monitor</span></span>

<span data-ttu-id="7fc2c-143">Azure Monitor では、大部分の Azure サービスを対象とした、インフラストラクチャ レベルのログと監視のための単一管理ポイントが提供されます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-143">Azure Monitor provides a single management point for infrastructure-level logs and monitoring for most of your Azure services.</span></span> <span data-ttu-id="7fc2c-144">メトリック、アクティビティ ログ、診断ログなどが収集されます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-144">It collects metrics, activity logs, and diagnostic logs and more.</span></span> <span data-ttu-id="7fc2c-145">Azure Monitor には、次のようなさまざまな機能があります。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-145">Azure Monitor provides us with a range of features including:</span></span>

- <span data-ttu-id="7fc2c-146">メトリックに対する違反をプロアクティブに通知するため、または発生したアクティビティに対処するための、Azure アラート。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-146">Azure alerts to proactively notify or take action on any breaches to metrics or activities arising.</span></span>
- <span data-ttu-id="7fc2c-147">Azure ダッシュボードを使用して多くの監視ソースを 1 つのアプリケーション ビューに統合します。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-147">Use Azure Dashboards to combine many monitoring sources into one view of our application.</span></span>

<span data-ttu-id="7fc2c-148">Azure Monitor は、ほぼリアルタイムのリソース メトリック分析情報を得るための開始点です。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-148">Azure Monitor is the place to start for all your near real-time resource metric insights.</span></span> <span data-ttu-id="7fc2c-149">多くの Azure リソースが、デプロイ後は自動的にメトリックを出力し始めます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-149">Many Azure resources will start outputting metrics automatically once deployed.</span></span> <span data-ttu-id="7fc2c-150">たとえば、Azure Web App インスタンスは計算およびアプリケーション要求のメトリックを出力します。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-150">For example, Azure Web App instances will output compute and application request metrics.</span></span> <span data-ttu-id="7fc2c-151">Application Insights のメトリックも、VM ホスト診断メトリックに加えて、ここにまとめられます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-151">Metrics from Application Insights are also collated here in addition to VM host diagnostic metrics.</span></span> <span data-ttu-id="7fc2c-152">VM ゲストの診断メトリックも、オプトインすると表示されます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-152">VM guest diagnostic metrics will also appear once you opt in.</span></span>

### <a name="log-analytics"></a><span data-ttu-id="7fc2c-153">Log Analytics</span><span class="sxs-lookup"><span data-stu-id="7fc2c-153">Log Analytics</span></span>

<span data-ttu-id="7fc2c-154">ログの一元化により、追跡することが困難な隠れた問題を明らかにすることができます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-154">Centralized logging can help you uncover hidden issues that may be difficult to track down.</span></span> <span data-ttu-id="7fc2c-155">Log Analytics では、ログ全体に対してクエリを実行でき、ログ全体でデータを集計できます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-155">With Log Analytics you can query and aggregate data across logs.</span></span> <span data-ttu-id="7fc2c-156">このソース間の相関は、ログやメトリックを個別に見ている限り明らかになりにくい懸念事項やパフォーマンスの問題を特定するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-156">This cross-source correlation can help you identify issues or performance problems that may not be evident when looking at logs or metrics individually.</span></span>

![Log Analytics のソース](../media/log-analytics.png)

<span data-ttu-id="7fc2c-158">さまざまなデータ ソース、セキュリティ ログ、Azure アクティビティ ログ、サーバー、ネットワークおよびアプリケーションのログをまとめることができます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-158">You can collate a wide range of data sources, security logs, Azure activity logs, server, network, and application logs.</span></span> <span data-ttu-id="7fc2c-159">また、ハイブリッド デプロイ シナリオにおいてオンプレミスの System Center Operations Manager データを Log Analytics にプッシュし、詳細なパフォーマンス監視を行うために Azure SQL Database から Log Analytics に診断情報を直接送信できます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-159">You can also push on-premises System Center Operations Manager data to Log Analytics in hybrid deployment scenarios and have Azure SQL Database send diagnostic information directly into Log Analytics for detailed performance monitoring.</span></span>

<span data-ttu-id="7fc2c-160">ログの一元化は、パフォーマンスの問題を含むあらゆる種類のシナリオについてトラブルシューティングを行うときに、大きなメリットをもたらす可能性があります。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-160">Centralized logging can be massively beneficial for troubleshooting all types of scenarios, including performance issues.</span></span> <span data-ttu-id="7fc2c-161">それは、どのアーキテクチャが対象であっても、適切な監視戦略の重要な部分になります。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-161">It's a key part of a good monitoring strategy for any architecture.</span></span>

## <a name="application-performance-management"></a><span data-ttu-id="7fc2c-162">アプリケーション パフォーマンス管理</span><span class="sxs-lookup"><span data-stu-id="7fc2c-162">Application performance management</span></span>

<span data-ttu-id="7fc2c-163">多くの場合、詳細なアプリケーションの問題の追跡には注意が必要です。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-163">Deep application issues are often tricky to track down.</span></span> <span data-ttu-id="7fc2c-164">これは、アプリケーション パフォーマンス管理ソリューション (APM) を使用してテレメトリをアプリケーションに統合し、低レベルのアプリケーション パフォーマンスと動作を追跡することが有益な場所です。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-164">This is where integrating telemetry into an application by using an application performance management solution (APM) to track down low-level application performance and behavior can be beneficial.</span></span> <span data-ttu-id="7fc2c-165">このテレメトリには、個々のページ要求の回数やアプリケーション内の例外のほか、ビジネス ロジックを追跡するカスタム メトリックも含めることができます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-165">This telemetry can include individual page request times, exceptions within your application, and even custom metrics to track business logic.</span></span> <span data-ttu-id="7fc2c-166">このテレメトリから、アプリケーション内で何が起こっているかについて、豊富な分析情報を得ることができます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-166">This telemetry can provide a wealth of insight into what is going on within your application.</span></span>

<span data-ttu-id="7fc2c-167">Azure では、Application Insights というサービスにより、この詳細なアプリケーション パフォーマンス管理機能が提供されます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-167">On Azure, Application Insights is a service that provides this deep application performance management.</span></span> <span data-ttu-id="7fc2c-168">小さなインストルメンテーション パッケージをアプリケーションにインストールし、Application Insights リソースを Microsoft Azure portal に設定します。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-168">You install a small instrumentation package in your application, and set up an Application Insights resource in the Microsoft Azure portal.</span></span> <span data-ttu-id="7fc2c-169">このインストルメンテーションでアプリが監視され、テレメトリ データがポータルに送信されます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-169">The instrumentation monitors your app and sends telemetry data to the portal.</span></span>

<span data-ttu-id="7fc2c-170">パフォーマンス カウンター、Azure 診断、Docker のログなど、ホスト環境からテレメトリを取り込むことができます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-170">Telemetry from the host environments, such as performance counters, Azure diagnostics, and Docker logs, can be ingested.</span></span> <span data-ttu-id="7fc2c-171">定期的に Web サービスに人工的な要求を送信する Web テストを設定することもできます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-171">You can also set up web tests that periodically send synthetic requests to your web service.</span></span> <span data-ttu-id="7fc2c-172">クライアントまたはサーバー コードで自分が作成したカスタム イベントとメトリックを送信するようにアプリケーションを構成することもできます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-172">You could even configure your application to send custom events and metrics that you write yourself in the client or server code.</span></span> <span data-ttu-id="7fc2c-173">たとえば、販売した品目や勝った試合など、アプリケーション固有のイベントです。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-173">For example, application-specific events such as items sold or games won.</span></span>

<span data-ttu-id="7fc2c-174">Application Insights ではデータが共通のリポジトリに保存され、メトリックが Azure Monitor と共有されます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-174">Application Insights stores its data in a common repository, and metrics are shared with Azure Monitor.</span></span> <span data-ttu-id="7fc2c-175">アラート、ダッシュボード、Log Analytics クエリ言語を使用した詳細分析などの共有機能を活用できます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-175">It can take advantage of shared functionality such as alerts, dashboards, and deep analysis with the Log Analytics query language.</span></span>

<span data-ttu-id="7fc2c-176">Web アプリケーションの可用性の決定に使用される一般的なパターンは、正常性エンドポイント監視パターンです。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-176">A common pattern used in determining the availability of a web application is the health endpoint monitoring pattern.</span></span> <span data-ttu-id="7fc2c-177">このパターンを使用して Web アプリケーションと関連バックエンド サービスを監視し、それらが確実に利用可能で正しく実行されるようにします。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-177">This pattern is used to monitor web applications and associated back-end services, to ensure that they're available and performing correctly.</span></span> <span data-ttu-id="7fc2c-178">パターンは特定の URI のクエリを実行することによって実装されます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-178">The pattern is implemented by querying a particular uri.</span></span> <span data-ttu-id="7fc2c-179">エンドポイントでは、フロント エンド自体の可用性だけではなく、アプリが依存しているバックエンド サービスを含む、多くのコンポーネントの状態が確認されます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-179">The endpoint checks on the status of many components, including the back-end services that the app depends on, rather than just the availability of the front end itself.</span></span> <span data-ttu-id="7fc2c-180">これはサービス レベルの正常性チェックとして機能し、サービスの全体的な正常性を示す値を返します。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-180">This acts as a service-level health check that returns an indication of the overall health of the service.</span></span>

<span data-ttu-id="7fc2c-181">Application Insights などのアプリケーション パフォーマンス監視ソリューションを使用して、アプリケーションについて詳細に理解し、アプリケーション全体でアクティビティをまとめます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-181">Use an application performance-monitoring solution such as Application Insights to gain a deep understanding of your application and correlate activity across your application.</span></span> <span data-ttu-id="7fc2c-182">これは、特定のアクションがクライアント ブラウザー内、サーバー上、ダウンストリーム サービスに至るまでどのように機能するかを理解するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-182">This can help you understand how a specific action works in the client browser, on the server, and through to downstream services.</span></span> <span data-ttu-id="7fc2c-183">また、傾向についての分析情報を取得して、問題がある場合は通知し、ユーザーが気付く前に問題が存在する場所と問題の修正方法を特定できます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-183">It will also provide insight into trends, provide notifications when there is a problem, and help identify where the problem is and how to fix it, before your users are aware.</span></span>

## <a name="performance-monitoring-at-lamna-healthcare"></a><span data-ttu-id="7fc2c-184">Lamna Healthcare でのパフォーマンス監視</span><span class="sxs-lookup"><span data-stu-id="7fc2c-184">Performance monitoring at Lamna Healthcare</span></span>

<span data-ttu-id="7fc2c-185">Lamna Healthcare では、仮想マシンと Azure SQL Database を使用して、2 つの Azure リージョンにまたがる Web ベースの患者予約システムを実装しました。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-185">Lamna Healthcare has implemented a web-based patient booking system using virtual machines and an Azure SQL database across two Azure regions.</span></span> <span data-ttu-id="7fc2c-186">VM エージェントと Log Analytics を使用して、基盤となるフロントエンド仮想マシンのパフォーマンスを監視することを決定しました。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-186">They've decided to use the VM Agent and Log Analytics to monitor the performance of the underlying front-end virtual machines.</span></span>

<span data-ttu-id="7fc2c-187">Azure Monitor を使用して Azure SQL データベースのパフォーマンスを把握し、CPU % やデッドロックなどの主要なパフォーマンス メトリックをキャプチャします。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-187">They use Azure Monitor to understand the performance of their Azure SQL databases and capture key performance metrics including CPU % and deadlocks.</span></span>

<span data-ttu-id="7fc2c-188">可用性とテレメトリ情報をキャプチャするために、Application Insights が構成されています。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-188">Application Insights has been configured to capture availability and telemetry information.</span></span> <span data-ttu-id="7fc2c-189">チームは、カスタム イベント テレメトリを Application Insights に送信するように新しい予約機能を変更しました。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-189">The team has changed their new booking functionality to send custom event telemetry to Application Insights.</span></span> <span data-ttu-id="7fc2c-190">現在、チームは発生したビジネス関連イベントの数量を把握するためのアプローチを行っており、アプリケーション内で何が起きているかについて、はるかに明確な分析情報を得ることができます。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-190">The team now has an approach to understanding the volume of business-related events taking place, and they can get much better insight into what's going on within their application.</span></span>

## <a name="summary"></a><span data-ttu-id="7fc2c-191">まとめ</span><span class="sxs-lookup"><span data-stu-id="7fc2c-191">Summary</span></span>

<span data-ttu-id="7fc2c-192">パフォーマンスの問題を追跡し、アプリケーションが最適な状態で実行されていることを確認するために役立つ、いくつかのプロセス、ツール、ベスト プラクティスを見てきました。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-192">We've taken a look at some processes, tools, and best practices to help you track down performance issues and ensure that your application is performing at its best.</span></span> <span data-ttu-id="7fc2c-193">このモジュールで学習した内容をまとめましょう。</span><span class="sxs-lookup"><span data-stu-id="7fc2c-193">Let's wrap up what we've learned throughout this module.</span></span>
