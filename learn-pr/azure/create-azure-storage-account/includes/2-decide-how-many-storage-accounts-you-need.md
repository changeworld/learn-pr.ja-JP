<span data-ttu-id="d3afe-101">組織には、さまざまな要件のセットを実装できるように、複数のストレージ アカウントがある場合があります。</span><span class="sxs-lookup"><span data-stu-id="d3afe-101">Organizations often have multiple storage accounts to let them implement different sets of requirements.</span></span> <span data-ttu-id="d3afe-102">チョコレート メーカーの例では、プライベート ビジネス データのためにストレージ アカウントが 1 つあり、顧客用のファイルに使用するストレージ アカウントが 1 つあります。</span><span class="sxs-lookup"><span data-stu-id="d3afe-102">In the chocolate-manufacturer example, there would be one storage account for the private business data and one for the consumer-facing files.</span></span> <span data-ttu-id="d3afe-103">ここでは、ストレージ アカウントによって制御されるポリシーの要素を学習します。これは、必要なアカウントの数を決定するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="d3afe-103">Here, you will learn the policy factors that are controlled by a storage account, which will help you decide how many accounts you need.</span></span>

## <a name="what-is-azure-storage"></a><span data-ttu-id="d3afe-104">Azure Storage とは</span><span class="sxs-lookup"><span data-stu-id="d3afe-104">What is Azure Storage?</span></span>

<span data-ttu-id="d3afe-105">Azure では、お客様のデータを保存する多くの方法が提供されています。</span><span class="sxs-lookup"><span data-stu-id="d3afe-105">Azure provides many ways to store your data.</span></span> <span data-ttu-id="d3afe-106">Azure SQL Server、Azure Cosmos DB、Azure Table Storage などの複数のデータベース オプションがあります。</span><span class="sxs-lookup"><span data-stu-id="d3afe-106">There are multiple database options like Azure SQL Server, Azure Cosmos DB, and Azure Table Storage.</span></span> <span data-ttu-id="d3afe-107">Azure には、Azure キューや Event Hubs など、メッセージを保存し、送信する方法が複数あります。</span><span class="sxs-lookup"><span data-stu-id="d3afe-107">Azure offers multiple ways to store and send messages, such as Azure Queues and Event Hubs.</span></span> <span data-ttu-id="d3afe-108">Azure Files や Azure BLOB などのサービスを使用し、ルーズ ファイルを保存することもできます。</span><span class="sxs-lookup"><span data-stu-id="d3afe-108">You can even store loose files using services like Azure Files and Azure Blobs.</span></span>

<span data-ttu-id="d3afe-109">Azure では、これらの 4 つのデータ サービスが選ばれ、_Azure Storage_ という名前の下にまとめて配置されています。</span><span class="sxs-lookup"><span data-stu-id="d3afe-109">Azure selected four of these data services and placed them together under the name _Azure Storage_.</span></span> <span data-ttu-id="d3afe-110">この 4 つのサービスは、Azure BLOB、Azure Files、Azure キュー、Azure テーブルです。</span><span class="sxs-lookup"><span data-stu-id="d3afe-110">The four services are Azure Blobs, Azure Files, Azure Queues, and Azure Tables.</span></span> <span data-ttu-id="d3afe-111">次の図は、Azure Storage の要素を示しています。</span><span class="sxs-lookup"><span data-stu-id="d3afe-111">The following illustration shows the elements of Azure Storage.</span></span>

![Azure Storage の一部である Azure データ サービスを一覧する図。](../media/2-azure-storage.png)

<span data-ttu-id="d3afe-113">これらの 4 つはすべてプリミティブなクラウド ベースのストレージ サービスであり、同じアプリケーションで一緒に使用されることが多いため、特別な処理方法が指定されています。</span><span class="sxs-lookup"><span data-stu-id="d3afe-113">These four were given special treatment because they are all primitive, cloud-based storage services and are often used together in the same application.</span></span>

## <a name="what-is-a-storage-account"></a><span data-ttu-id="d3afe-114">ストレージ アカウントとは</span><span class="sxs-lookup"><span data-stu-id="d3afe-114">What is a storage account?</span></span>

<span data-ttu-id="d3afe-115">_ストレージ アカウント_は、Azure Storage サービスのセットをまとめてグループ化するコンテナーです。</span><span class="sxs-lookup"><span data-stu-id="d3afe-115">A _storage account_ is a container that groups a set of Azure Storage services together.</span></span> <span data-ttu-id="d3afe-116">Azure Storage からのデータ サービスのみが、ストレージ アカウント (Azure BLOB、Azure Files、Azure キュー、Azure テーブル) に含まれる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d3afe-116">Only data services from Azure Storage can be included in a storage account (Azure Blobs, Azure Files, Azure Queues, and Azure Tables).</span></span> <span data-ttu-id="d3afe-117">次の図は、複数のデータ サービスを含むストレージを示しています。</span><span class="sxs-lookup"><span data-stu-id="d3afe-117">The following illustration shows a storage account containing several data services.</span></span>

![データ サービスの異種コレクションが含まれる Azure ストレージ アカウントの図。](../media/2-what-is-a-storage-account.png)

<span data-ttu-id="d3afe-119">データ サービスをストレージ アカウントに組み合わせると、グループとして管理できます。</span><span class="sxs-lookup"><span data-stu-id="d3afe-119">Combining data services into a storage account lets you manage them as a group.</span></span> <span data-ttu-id="d3afe-120">アカウントを作成するタイミングを指定する設定、または作成後に変更した内容は、そのアカウント内のすべてに適用されます。</span><span class="sxs-lookup"><span data-stu-id="d3afe-120">The settings you specify when you create the account, or any that you change after creation, are applied to everything in the account.</span></span> <span data-ttu-id="d3afe-121">ストレージ アカウントを削除すると、そこに含まれる格納データはすべて削除されます。</span><span class="sxs-lookup"><span data-stu-id="d3afe-121">Deleting the storage account deletes all of the data stored inside it.</span></span>

<span data-ttu-id="d3afe-122">ストレージ アカウントは Azure リソースであり、リソース グループに含まれます。</span><span class="sxs-lookup"><span data-stu-id="d3afe-122">A storage account is an Azure resource and is included in a resource group.</span></span> <span data-ttu-id="d3afe-123">次の図は、複数のリソース グループを含む Azure サブスクリプションを示しています。各グループには 1 つまたは複数のストレージ アカウントが含まれます。</span><span class="sxs-lookup"><span data-stu-id="d3afe-123">The following illustration shows an Azure subscription containing multiple resource groups, where each group contains one or more storage accounts.</span></span>

![複数のリソース グループとストレージ アカウントを含む Azure サブスクリプションの図。](../media/2-resource-groups-and-storage-accounts.png)

<span data-ttu-id="d3afe-125">Azure SQL や Cosmos DB などのその他の Azure データ サービスは、独立した Azure リソースとして管理され、ストレージ アカウントに含めることはできません。</span><span class="sxs-lookup"><span data-stu-id="d3afe-125">Other Azure data services like Azure SQL and Cosmos DB are managed as independent Azure resources and cannot be included in a storage account.</span></span> <span data-ttu-id="d3afe-126">次の図は、一般的な配置を示しています。BLOB、Files、キュー、テーブルは、ストレージ アカウント内にありますが、その他のサービスはありません。</span><span class="sxs-lookup"><span data-stu-id="d3afe-126">The following illustration shows a typical arrangement: Blobs, Files, Queues, and Tables are inside storage accounts, while other services are not.</span></span>

![ストレージ アカウント内に配置できない一部のデータ サービスを示す Azure サブスクリプションの図。](../media/2-typical-subscription-organization.png)

## <a name="storage-account-settings"></a><span data-ttu-id="d3afe-128">ストレージ アカウントの設定</span><span class="sxs-lookup"><span data-stu-id="d3afe-128">Storage account settings</span></span>

<span data-ttu-id="d3afe-129">ストレージ アカウントでは、アカウント内のストレージ サービスのすべてに適用するポリシーを定義します。</span><span class="sxs-lookup"><span data-stu-id="d3afe-129">A storage account defines a policy that applies to all the storage services in the account.</span></span> <span data-ttu-id="d3afe-130">たとえば、含まれるサービスがすべて米国西部のデータセンターに保存され、https 経由でのみアクセス可能で、販売部門のサブスクリプションに請求されるように指定することができます。</span><span class="sxs-lookup"><span data-stu-id="d3afe-130">For example, you could specify that all the contained services will be stored in the West US datacenter, accessible only over https, and billed to the sales department's subscription.</span></span>

<span data-ttu-id="d3afe-131">ストレージ アカウントによって制御される設定は、次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="d3afe-131">The settings that are controlled by a storage account are:</span></span>

- <span data-ttu-id="d3afe-132">**[サブスクリプション]**: アカウントのサービスに対して請求される Azure サブスクリプション。</span><span class="sxs-lookup"><span data-stu-id="d3afe-132">**Subscription**: The Azure subscription that will be billed for the services in the account.</span></span>

- <span data-ttu-id="d3afe-133">**[場所]**: アカウントのサービスを保存するデータセンター。</span><span class="sxs-lookup"><span data-stu-id="d3afe-133">**Location**: The datacenter that will store the services in the account.</span></span>

- <span data-ttu-id="d3afe-134">**[パフォーマンス]**: ご利用のストレージ アカウントで所有できるデータ サービスとデータの格納に使用するハードウェア ディスクの種類を決定します。</span><span class="sxs-lookup"><span data-stu-id="d3afe-134">**Performance**: Determines the data services you can have in your storage account and the type of hardware disks used to store the data.</span></span> <span data-ttu-id="d3afe-135">**[Standard]** では、任意のデータ サービス (BLOB、File、キュー、テーブル) を所有し、磁気ディスク ドライブを使用できます。</span><span class="sxs-lookup"><span data-stu-id="d3afe-135">**Standard** allows you to have any data service (Blob, File, Queue, Table) and uses magnetic disk drives.</span></span> <span data-ttu-id="d3afe-136">**[Premium]** では、_[ページ BLOB]_ と呼ばれる 1 つの特定の BLOB の種類に制限され、ストレージにソリッドステート ドライブ (SSD) を使用します。</span><span class="sxs-lookup"><span data-stu-id="d3afe-136">**Premium** limits you to one specific type of blob called a _page blob_ and uses solid-state drives (SSD) for storage.</span></span>

- <span data-ttu-id="d3afe-137">**[レプリケーション]**: ご利用のデータのコピーを作成し、ハードウェアの障害や自然災害から保護するために使用する戦略を決定します。</span><span class="sxs-lookup"><span data-stu-id="d3afe-137">**Replication**: Determines the strategy used to make copies of your data to protect against hardware failure or natural disaster.</span></span> <span data-ttu-id="d3afe-138">少なくとも、Azure ではストレージ アカウントに関連付けられているデータセンター内のデータのコピーを自動的に保持します。</span><span class="sxs-lookup"><span data-stu-id="d3afe-138">At a minimum, Azure will automatically maintain a copy of your data within the data center associated with the storage account.</span></span> <span data-ttu-id="d3afe-139">これはローカル冗長ストレージ (LRS) と呼ばれ、ハードウェアの障害から保護しますが、データセンター全体を機能させなくするイベントから保護することはありません。</span><span class="sxs-lookup"><span data-stu-id="d3afe-139">This is called locally-redundant storage (LRS), and guards against hardware failure but does not protect you from an event that incapacitates the entire datacenter.</span></span> <span data-ttu-id="d3afe-140">冗長ストレージ (GRS) などのその他のオプションのいずれかにアップグレードし、世界中のそのさまざまなデータセンターでレプリケーションを取得できます。</span><span class="sxs-lookup"><span data-stu-id="d3afe-140">You can upgrade to one of the other options such as geo-redundant storage (GRS) to get replication at different datacenters across the world.</span></span>

- <span data-ttu-id="d3afe-141">**[アクセス層]**: このストレージ アカウントで BLOB にすばやくアクセスする方法を制御します。</span><span class="sxs-lookup"><span data-stu-id="d3afe-141">**Access tier**: Controls how quickly you will be able to access the blobs in this storage account.</span></span> <span data-ttu-id="d3afe-142">ホットでは、クールよりも速くアクセスできますが、コストは増加します。</span><span class="sxs-lookup"><span data-stu-id="d3afe-142">Hot gives quicker access than Cool, but at increased cost.</span></span> <span data-ttu-id="d3afe-143">これは、BLOB のみに該当し、新しい BLOB の既定値として機能します。</span><span class="sxs-lookup"><span data-stu-id="d3afe-143">This applies only to blobs, and serves as the default value for new blobs.</span></span>

- <span data-ttu-id="d3afe-144">**[安全な転送が必須]**: アクセスにサポートされるプロトコルを決定するセキュリティ機能。</span><span class="sxs-lookup"><span data-stu-id="d3afe-144">**Secure transfer required**: A security feature that determines the supported protocols for access.</span></span> <span data-ttu-id="d3afe-145">有効では https が必須で、無効では http を許可します。</span><span class="sxs-lookup"><span data-stu-id="d3afe-145">Enabled requires HTTPs, while disabled allows HTTP.</span></span>

- <span data-ttu-id="d3afe-146">**[仮想ネットワーク]**: 指定した仮想ネットワークからの受信アクセス要求のみを許可するセキュリティ機能。</span><span class="sxs-lookup"><span data-stu-id="d3afe-146">**Virtual networks**: A security feature that allows inbound access requests only from the virtual network(s) you specify.</span></span>

## <a name="how-many-storage-accounts-do-you-need"></a><span data-ttu-id="d3afe-147">必要なストレージ アカウントの数はいくつですか?</span><span class="sxs-lookup"><span data-stu-id="d3afe-147">How many storage accounts do you need?</span></span>

<span data-ttu-id="d3afe-148">ストレージ アカウントは、場所、レプリケーション戦略、サブスクリプション所有者などの設定を集めたものです。</span><span class="sxs-lookup"><span data-stu-id="d3afe-148">A storage account represents a collection of settings like location, replication strategy, and subscription owner.</span></span> <span data-ttu-id="d3afe-149">ご自分のデータに適用するすべてのグループの設定に対して、ストレージ アカウントが 1 つ必要です。</span><span class="sxs-lookup"><span data-stu-id="d3afe-149">You need one storage account for every group of settings that you want to apply to your data.</span></span> <span data-ttu-id="d3afe-150">次の図では、1 つの設定が異なるストレージ アカウントを 2 つ示しています。個別のストレージ アカウントを必要とすることが、違いの 1 つです。</span><span class="sxs-lookup"><span data-stu-id="d3afe-150">The following illustration shows two storage accounts that differ in one setting; that one difference is enough to require separate storage accounts.</span></span>

![さまざまな設定と 2 つのストレージ アカウントを示す図。](../media/2-multiple-storage-accounts.png)

<span data-ttu-id="d3afe-152">通常、必要なストレージ アカウントの数は、データの多様性、価格感受性、管理オーバーヘッドの許容範囲によって決定されます。</span><span class="sxs-lookup"><span data-stu-id="d3afe-152">The number of storage accounts you need is typically determined by your data diversity, cost sensitivity, and tolerance for management overhead.</span></span>

### <a name="data-diversity"></a><span data-ttu-id="d3afe-153">データの多様性</span><span class="sxs-lookup"><span data-stu-id="d3afe-153">Data diversity</span></span>

<span data-ttu-id="d3afe-154">組織では、使用する場所、秘密度、請求を支払うグループなどが異なるデータを生成することが多いです。これらのベクターのいずれかの間の多様性によって、複数のストレージ アカウントになる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="d3afe-154">Organizations often generate data that differs in where it is consumed, how sensitive it is, which group pays the bills, etc. Diversity along any of these vectors can lead to multiple storage accounts.</span></span> <span data-ttu-id="d3afe-155">次の 2 つの例を考えてみましょう。</span><span class="sxs-lookup"><span data-stu-id="d3afe-155">Let's consider two examples:</span></span>

1. <span data-ttu-id="d3afe-156">国またはリージョンに固有のデータはありますか?</span><span class="sxs-lookup"><span data-stu-id="d3afe-156">Do you have data that is specific to a country or region?</span></span> <span data-ttu-id="d3afe-157">ある場合は、パフォーマンスまたはコンプライアンス上の理由から、その国でデータセンターを検索する必要が生じる場合もあります。</span><span class="sxs-lookup"><span data-stu-id="d3afe-157">If so, you might want to locate it in a data center in that country for performance or compliance reasons.</span></span> <span data-ttu-id="d3afe-158">場所ごとにストレージ アカウントが 1 つ必要です。</span><span class="sxs-lookup"><span data-stu-id="d3afe-158">You will need one storage account for each location.</span></span>

1. <span data-ttu-id="d3afe-159">私有財産であるデータや一般に公開するデータはありますか?</span><span class="sxs-lookup"><span data-stu-id="d3afe-159">Do you have some data that is proprietary and some for public consumption?</span></span> <span data-ttu-id="d3afe-160">ある場合は、仮想ネットワークを私有財産データに対して有効にして、一般公開向けデータには無効にできます。</span><span class="sxs-lookup"><span data-stu-id="d3afe-160">If so, you could enable virtual networks for the proprietary data and not for the public data.</span></span> <span data-ttu-id="d3afe-161">また、これには個別のストレージ アカウントも必要です。</span><span class="sxs-lookup"><span data-stu-id="d3afe-161">This will also require separate storage accounts.</span></span>

<span data-ttu-id="d3afe-162">一般に、増加した多様性は、ストレージ アカウントの数が増えることを意味します。</span><span class="sxs-lookup"><span data-stu-id="d3afe-162">In general, increased diversity means an increased number of storage accounts.</span></span>

### <a name="cost-sensitivity"></a><span data-ttu-id="d3afe-163">価格感受性</span><span class="sxs-lookup"><span data-stu-id="d3afe-163">Cost sensitivity</span></span>

<span data-ttu-id="d3afe-164">ストレージ アカウント自体に財務費用はかかりませんが、そのアカウント用に選択した設定がアカウントのサービス コストに影響します。</span><span class="sxs-lookup"><span data-stu-id="d3afe-164">A storage account by itself has no financial cost; however, the settings you choose for the account do influence the cost of services in the account.</span></span> <span data-ttu-id="d3afe-165">geo 冗長ストレージは、ローカルの冗長ストレージよりコストが高いです。</span><span class="sxs-lookup"><span data-stu-id="d3afe-165">Geo-redundant storage costs more than locally-redundant storage.</span></span> <span data-ttu-id="d3afe-166">Premium パフォーマンスとホット アクセス層では、BLOB のコストが増加します。</span><span class="sxs-lookup"><span data-stu-id="d3afe-166">Premium performance and the Hot access tier increase the cost of blobs.</span></span>

<span data-ttu-id="d3afe-167">コストを削減するために、複数のストレージ アカウントを使用することができます。</span><span class="sxs-lookup"><span data-stu-id="d3afe-167">You can use multiple storage accounts to reduce costs.</span></span> <span data-ttu-id="d3afe-168">たとえば、重要なカテゴリと一般カテゴリにデータをパーティション分割することができます。</span><span class="sxs-lookup"><span data-stu-id="d3afe-168">For example, you could partition your data into critical and non-critical categories.</span></span> <span data-ttu-id="d3afe-169">冗長ストレージを使ってストレージ アカウントに重要なデータを配置し、ローカル冗長ストレージを使って別のストレージ アカウントに一般データを配置できます。</span><span class="sxs-lookup"><span data-stu-id="d3afe-169">You could place your critical data into a storage account with geo-redundant storage and put your non-critical data in a different storage account with locally-redundant storage.</span></span>

### <a name="tolerance-for-management-overhead"></a><span data-ttu-id="d3afe-170">管理オーバーヘッドの許容範囲</span><span class="sxs-lookup"><span data-stu-id="d3afe-170">Tolerance for management overhead</span></span>

<span data-ttu-id="d3afe-171">ストレージ アカウントごとに作成および保持するため、管理者の時間と注意が必要です。</span><span class="sxs-lookup"><span data-stu-id="d3afe-171">Each storage account requires some time and attention from an administrator to create and maintain.</span></span> <span data-ttu-id="d3afe-172">また、クラウド ストレージにデータを追加する場合、複雑さが増します。このロールのすべてのユーザーが、新しいデータを正しいアカウントに追加できるように、各ストレージ アカウントの目的を理解する必要があります。</span><span class="sxs-lookup"><span data-stu-id="d3afe-172">It also increases complexity for anyone who adds data to your cloud storage; everyone in this role needs to understand the purpose of each storage account so they add new data to the correct account.</span></span>

<span data-ttu-id="d3afe-173">ストレージ アカウントは、コストを最小限に抑えながら、必要なパフォーマンスとセキュリティを得ることができる強力なツールです。</span><span class="sxs-lookup"><span data-stu-id="d3afe-173">Storage accounts are a powerful tool to help you get the performance and security you need while minimizing costs.</span></span> <span data-ttu-id="d3afe-174">通常の戦略は、データの分析から始まり、場所、課金、レプリケーション戦略などの特性を共有するパーティションを作成して、パーティションごとにストレージ アカウントを 1 つ作成します。</span><span class="sxs-lookup"><span data-stu-id="d3afe-174">A typical strategy is to start with an analysis of your data and create partitions that share characteristics like location, billing, and replication strategy, and then create one storage account for each partition.</span></span>