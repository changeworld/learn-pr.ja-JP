お客様の会社で、VM を使用して Azure 内の交通カメラからビデオ データを管理することになりました。 複数のコーデックを実行するために、まず VM を作成する必要があります。 また、VM に接続して操作する必要もあります。 このユニットでは、Azure portal を使用して VM を作成する方法について説明します。 RDP 用に VM を構成し、VM イメージを選択して、適切なストレージ オプションを選びます。

## <a name="introduction-to-windows-virtual-machines-in-azure"></a>Azure における Windows 仮想マシンの概要

Azure VM は、オンデマンドのスケーラブルなクラウド コンピューティング リソースです。 これは、Windows Hyper-V でホストされている仮想マシンと類似したものです。 プロセッサ、メモリ、ストレージ、およびネットワーク リソースが含まれます。 Hyper-V のように自由に仮想マシンを開始および停止し、ポータルから、または Azure CLI を使用して仮想マシンを管理できます。 また、RDP クライアントを使用して、ローカルの Windows コンピューターにサインインしているように、直接 Windows デスクトップのユーザー インターフェイス (UI) に接続して VM を使用することもできます。

## <a name="create-resources-for-a-windows-vm"></a>Windows VM 用にリソースを作成する

Azure で Windows VM を作成している場合、VM をホストするためにリソースも作成します。 その他の Azure サービスのように、**リソース グループ**が必要です。 同じリソース グループに、その VM に関連するその他のサービスを含めるのが一般的です。内容は次のとおりです。

* その仮想マシン
* Storage
* 仮想ネットワーク 
* ネットワーク インターフェイス
* サブネット
* パブリック IP アドレス

新しい VM を作成する場合、既存のリソース グループを使用することも、新しいリソース グループを作成することもできます。

## <a name="choose-the-vm-image"></a>VM イメージを選択する

イメージの選択は、VM を作成するときに行う最初の最も重要な決定事項の 1 つです。 イメージとは、VM の作成に使用するテンプレートです。 これらのテンプレートには、OS と、多くの場合はその他のソフトウェア (開発ツールや Web ホスティング環境など) が含まれています。

コンピューターでインストールできるものはすべて、イメージに含めることができ、これは利便性が高いです。 イメージから VM を作成できます。このイメージは、ASP.Net Core アプリのホスティングなど、必要なタスクに対して正確に事前に構成されています。

任意で独自のイメージを作成およびアップロードできますが、これはこのモジュールの範囲外です。

> [!Note] 
> "仮想マシン (クラシック)" と呼ばれる機能が示されていない可能性があります。 これは、既にインスタンスを作成している顧客をサポートするためのレガシ機能です。 新しいワークロードの場合は、"Azure Virtual Machine" 機能、略して "Virtual Machines" が必要です。

## <a name="sizing-your-vm"></a>VM のサイズを変更する

物理マシンに一定量のメモリや CPU 電源があるように、仮想マシンにも同様にあります。 Azure では、さまざまな価格ポイントで異なるサイズの VM の範囲を提供します。 これらの VM は、A シリーズのエントリ レベルの開発から始まり、汎用コンピューティング向けの D シリーズを使ってイメージをテストします。 ハイ パフォーマンスの演算のニーズ向けには H シリーズが含まれ、グラフィックス処理装置 (GPU) 最適化の役割向けには N シリーズが含まれます。

後でモジュール内を表示するときに、VM の作成後にサイズを変更することもできますが、シャットダウンする必要があります。これにより、ワークロードのダウンタイムが発生する可能性があります。

## <a name="choosing-storage-options"></a>ストレージ オプションを選択する

VM を指定するときに、次に選択するのはハード ドライブ テクノロジです。 オプションには、従来の円盤状の記憶媒体ベースのハード ディスク ドライブ (HDD) や、より最新のソリッドステート ドライブ (SSD) が含まれます。 SSD ストレージを使用すると、コストが高くなりますが、特に高レベルのデータ転送または頻度の高い I/O をサポートする環境ではパフォーマンスが向上します。

> [!Note] 
> また、Azure Virtual Machines のアプリケーションでは、Azure Cosmos DB や Azure BLOB ストレージなど、Azure における永続性のその他のフォームに接続することもできます。
