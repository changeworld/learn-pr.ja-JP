Azure CLI では、コマンドを記述し、すぐに実行できます。 ソフトウェア開発サンプルの全体的目標は、テストのために Web アプリの新しいビルドを展開することであることを思い出してください。 最初の手順として、リソース グループを作成します。 ここでの目標は Azure CLI のローカル インストールを利用してこれらのリソースを作成することであることを思い出してください。 

この演習では、Azure CLI を使用して Azure サブスクリプションにサインインし、新しいリソースを作成する方法を示します。

## <a name="what-azure-resources-can-be-managed-using-the-azure-cli"></a>Azure CLI を利用してどのような Azure リソースを管理できますか?
Azure CLI を利用すると、あらゆる Azure リソースのほとんどすべての側面を制御できます。 リソース グループ、ストレージ、仮想マシン、Azure Active Directory (Azure AD)、コンテナー、機械学習などを操作することができます。

CLI のコマンドはグループとサブグループで構成されています。 各グループが、Azure によって提供されるサービスを表しており、サブグループによって、そのサービスのコマンドが論理グループに分かれています。 たとえば、**ストレージ** グループには、**アカウント**、**BLOB**、**ストレージ**、**キュー**などのサブグループが含まれています。

それでは、必要な特定のコマンドはどのような方法で見つけますか? 方法の 1 つに、**az find** を使用するというものがあります。 たとえば、ストレージ **blob** の管理に役立つかもしれないコマンドを見つける場合、次の find コマンドを使用します。

```bash
az find -q blob
```

必要なコマンドの名前が既にわかっている場合、そのコマンドの **--help** 引数がさらに役に立つことがあります。 コマンドに関する詳細が得られます。コマンド グループの場合、利用可能なサブコマンドの一覧が得られます。 そこで、今回のストレージの例では、blob ストレージを管理するためのサブグループとコマンドの一覧を次のように取得できます。

```bash
az storage blob --help
```

## <a name="how-to-create-an-azure-resource"></a>Azure リソースを作成する方法
新しい Azure リソースを作成するとき、通常、3 つの段階があります。Azure サブスクリプションに接続し、リソースを作成し、その作成が成功したことを確認します (下記参照)。

![Azure CLI を利用してリソースを作成する手順](../media-drafts/4-create-resources-overview.png)

各ステップは、異なる Azure CLI コマンドに対応します。

### <a name="connect"></a>接続
Azure CLI のローカル インストールを使用している場合、Azure コマンドを実行する前に Azure CLI **login** コマンドを使用して認証する必要があります。 

```bash
az login
```

Azure CLI は一般的に既定のブラウザーを起動して Azure のサインイン ページを開きます。 これでうまくいかない場合、コマンドラインの指示に従い、[https://aka.ms/devicelogin](https://aka.ms/devicelogin) で承認コードを入力します。

サインインに成功すると、Azure サブスクリプションに接続されます。 

### <a name="create"></a>Create
新しい Azure サービスを作成する前に新しいリソース グループを作成しなければならないことが頻繁にあります。そこで、例としてリソース グループを使用し、CLI から Azure リソースを作成する方法について示します。

Azure CLI **group create** コマンドによってリソース グループが作成されます。 名前と場所を指定する必要があります。 この名前はサブスクリプション内で一意である必要があります。 この場所によって、お使いのリソース グループのメタデータが保存される場所が決定されます。 "米国西部"、"北ヨーロッパ"、"インド西部" などの文字列を使用して場所を指定するか、westus、northeurope、westindia など、同じものを意味する 1 つの単語を使用できます。 中心的な構文は次のようになります。

```bash
az group create --name <name> --location <location>
```

### <a name="verify"></a>確認
多くの Azure リソースの場合、Azure CLI によってリソース詳細を表示するための **list** サブコマンドが提供されます。 たとえば、Azure CLI **group list** コマンドによって Azure リソース グループが一覧表示されます。 リソース グループが正常に作成されたことを確認するためにここで役に立ちます。

```bash
az group list
```

さらに簡潔なビューを得るために、出力をシンプルな表としてフォーマットできます。

```bash
az group list --output table
```
