<span data-ttu-id="14db3-101">オンプレミス サーバーから Azure への移行を実行するには、計画と検討が必要です。</span><span class="sxs-lookup"><span data-stu-id="14db3-101">Performing a migration of on-premises servers to Azure requires planning and care.</span></span> <span data-ttu-id="14db3-102">すべてを一度に移行することも、小さいバッチに分けることもできます。個別に移行することもできます。</span><span class="sxs-lookup"><span data-stu-id="14db3-102">You can move them all at once, or more likely, in small batches or even individually.</span></span> <span data-ttu-id="14db3-103">VM を 1 つでも作成する前に、少し時間を取って現在のインフラストラクチャ モデルの概略を描き、そのモデルがクラウドにどのように対応するかを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="14db3-103">Before you create a single VM, you should sit down and sketch out your current infrastructure model and see how it might map to the cloud.</span></span>

<span data-ttu-id="14db3-104">考慮事項のチェックリストを見てみましょう。</span><span class="sxs-lookup"><span data-stu-id="14db3-104">Let's walk through a checklist of things to think about.</span></span>

- [<span data-ttu-id="14db3-105">ネットワークから始める</span><span class="sxs-lookup"><span data-stu-id="14db3-105">Start with the network</span></span>](#Network)
- [<span data-ttu-id="14db3-106">VM に名前を付ける</span><span class="sxs-lookup"><span data-stu-id="14db3-106">Name the VM</span></span>](#Name_VM)
- [<span data-ttu-id="14db3-107">VM の場所を決定する</span><span class="sxs-lookup"><span data-stu-id="14db3-107">Decide the location for the VM</span></span>](#VM_Location)
- [<span data-ttu-id="14db3-108">VM のサイズを決定する</span><span class="sxs-lookup"><span data-stu-id="14db3-108">Determine the size of the VM</span></span>](#VM_Size)
- [<span data-ttu-id="14db3-109">価格モデルについて理解する</span><span class="sxs-lookup"><span data-stu-id="14db3-109">Understanding the pricing model</span></span>](#VM_Cost)
- [<span data-ttu-id="14db3-110">VM 用のストレージ</span><span class="sxs-lookup"><span data-stu-id="14db3-110">Storage for the VM</span></span>](#VM_Storage)
- [<span data-ttu-id="14db3-111">オペレーティング システムを選択する</span><span class="sxs-lookup"><span data-stu-id="14db3-111">Select an operating system</span></span>](#VM_OS)

<a name="Network" />

## <a name="start-with-the-network"></a><span data-ttu-id="14db3-112">ネットワークから始める</span><span class="sxs-lookup"><span data-stu-id="14db3-112">Start with the network</span></span>

<span data-ttu-id="14db3-113">最初に考慮することは仮想マシンではなく、ネットワークです。</span><span class="sxs-lookup"><span data-stu-id="14db3-113">The first thing you should think about isn't the virtual machine at all - it's the network.</span></span>

<span data-ttu-id="14db3-114">仮想ネットワーク (VNet) は、Azure において、Azure Virtual Machines と他の Azure サービスの間をプライベート接続で結ぶために使用されます。</span><span class="sxs-lookup"><span data-stu-id="14db3-114">Virtual networks (VNets) are used in Azure to provide private connectivity between Azure Virtual Machines and other Azure services.</span></span> <span data-ttu-id="14db3-115">同じネットワークの一部である VM とサービスの間では、相互アクセスが可能です。</span><span class="sxs-lookup"><span data-stu-id="14db3-115">VMs and services that are part of the same virtual network can access one another.</span></span> <span data-ttu-id="14db3-116">既定では、仮想ネットワーク外部のサービスから、仮想ネットワーク内部のサービスへの接続はできません。</span><span class="sxs-lookup"><span data-stu-id="14db3-116">By default, services outside the virtual network cannot connect to services within the virtual network.</span></span> <span data-ttu-id="14db3-117">ただし、ネットワークは、オンプレミス サーバーを含む外部サービスへのアクセスを許可するように構成できます。</span><span class="sxs-lookup"><span data-stu-id="14db3-117">You can, however, configure the network to allow access to the external service, including your on-premises servers.</span></span>

<span data-ttu-id="14db3-118">この後者のポイントが、ある程度時間をかけてネットワークの構成について考慮する必要がある理由になっています。</span><span class="sxs-lookup"><span data-stu-id="14db3-118">This latter point is why you should spend some time thinking about your network configuration.</span></span> <span data-ttu-id="14db3-119">ネットワーク アドレスとサブネットは、いったん設定した後に変更するのは簡単ではありません。また、企業のプライベート ネットワークを Azure サービスに接続することを計画している場合は、VM を導入する前に必ずトポロジを考慮することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="14db3-119">Network addresses and subnets are not trivial to change once you have them set up, and if you plan to connect your private company network to the Azure services, you will want to make sure you consider the topology before putting any VMs into place.</span></span>

<span data-ttu-id="14db3-120">仮想ネットワークを設定するときに、使用できるアドレス空間、サブネット、セキュリティを指定します。</span><span class="sxs-lookup"><span data-stu-id="14db3-120">When you set up a virtual network, you specify the available address spaces, subnets, and security.</span></span> <span data-ttu-id="14db3-121">VNet を他の VNet に接続する場合は、重複しないアドレス範囲を選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="14db3-121">If the VNet will be connected to other VNets, you must select address ranges that are not overlapping.</span></span> <span data-ttu-id="14db3-122">この範囲が、ネットワーク内の VM とサービス用に使用できるプライベート アドレスの範囲です。</span><span class="sxs-lookup"><span data-stu-id="14db3-122">This is the range of private addresses that the VMs and services in your network can use.</span></span> <span data-ttu-id="14db3-123">10.0.0.0/8、172.16.0.0/12、192.168.0.0/16 などのルーティング不可能な IP アドレスを使用するか、独自の範囲を定義することができます。</span><span class="sxs-lookup"><span data-stu-id="14db3-123">You can use unrouteable IP addresses such as 10.0.0.0/8, 172.16.0.0/12, or 192.168.0.0/16, or define your own range.</span></span> <span data-ttu-id="14db3-124">Azure では、どのアドレス範囲も、VNet 内、相互接続された VNet 内、オンプレミスの場所からのみ到達可能なプライベート VNet IP アドレス空間の一部として扱われます。</span><span class="sxs-lookup"><span data-stu-id="14db3-124">Azure will treat any address range as part of the private VNet IP address space if it is only reachable within the VNet, within interconnected VNets, and from your on-premises location.</span></span> <span data-ttu-id="14db3-125">自分が内部ネットワークの担当者ではない場合、アドレス空間を選ぶ前に、内部ネットワークの担当者と協力して重複がないことを確認し、自分がどの空間を使用したいかを伝えて、自分以外の担当者が同じ範囲の IP アドレスを使わないようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="14db3-125">If someone else is responsible for the internal networks, you should work with that person before selecting your address space to make sure there is no overlap and to let them know what space you want to use, so they don’t try to use the same range of IP addresses.</span></span>

### <a name="segregate-your-network"></a><span data-ttu-id="14db3-126">ネットワークの分離</span><span class="sxs-lookup"><span data-stu-id="14db3-126">Segregate your network</span></span>

<span data-ttu-id="14db3-127">仮想ネットワーク アドレス空間を決定した後、仮想ネットワークに 1 つまたは複数のサブネットを作成できます。</span><span class="sxs-lookup"><span data-stu-id="14db3-127">After deciding the virtual network address space(s), you can create one or more subnets for your virtual network.</span></span> <span data-ttu-id="14db3-128">これを行う目的は、より管理しやすいセクションにネットワークを分割することです。</span><span class="sxs-lookup"><span data-stu-id="14db3-128">You do this to break up your network into more manageable sections.</span></span> <span data-ttu-id="14db3-129">たとえば、10.1.0.0 を VM に、10.2.0.0 をバックエンド サービスに、10.3.0.0 を SQL Server VM に割り当てます。</span><span class="sxs-lookup"><span data-stu-id="14db3-129">For example, you might assign 10.1.0.0 to VMs, 10.2.0.0 to back-end services, and 10.3.0.0 to SQL Server VMs.</span></span>

> [!NOTE]
> <span data-ttu-id="14db3-130">各サブネットの先頭から 4 個のアドレスと最後のアドレスは、Azure による使用のために予約されています。</span><span class="sxs-lookup"><span data-stu-id="14db3-130">Azure reserves the first four addresses and the last address in each subnet for its use.</span></span>

### <a name="secure-the-network"></a><span data-ttu-id="14db3-131">ネットワークのセキュリティ保護</span><span class="sxs-lookup"><span data-stu-id="14db3-131">Secure the network</span></span>

<span data-ttu-id="14db3-132">既定ではサブネット間にセキュリティ境界がないため、各サブネットのサービスは互いに通信できます。</span><span class="sxs-lookup"><span data-stu-id="14db3-132">By default, there is no security boundary between subnets, so services in each of these subnets can talk to one another.</span></span> <span data-ttu-id="14db3-133">ただし、ネットワーク セキュリティ グループ (NSG) を設定して、サブネット間と VM 間のトラフィック フローを制御できます。</span><span class="sxs-lookup"><span data-stu-id="14db3-133">However, you can setup Network Security Groups (NSGs), which allow you to control the traffic flow to and from subnets and to and from VMs.</span></span> <span data-ttu-id="14db3-134">NSG は、ネットワーク インターフェイスとサブネット レベルで各受信要求または各送信要求にカスタム規則を適用することで、ソフトウェア ファイアウォールとして機能します。</span><span class="sxs-lookup"><span data-stu-id="14db3-134">NSGs act as software firewalls, applying custom rules to each inbound or outbound request at the network interface and subnet level.</span></span> <span data-ttu-id="14db3-135">これにより、VM に出入りするすべてのネットワーク要求を完全に制御できます。</span><span class="sxs-lookup"><span data-stu-id="14db3-135">This allows you to fully control every network request coming in or out of the VM.</span></span>

## <a name="plan-each-vm-deployment"></a><span data-ttu-id="14db3-136">各 VM デプロイの計画</span><span class="sxs-lookup"><span data-stu-id="14db3-136">Plan each VM deployment</span></span>

<span data-ttu-id="14db3-137">通信とネットワークの要件を対応付けたら、作成する VM についての検討を開始できます。</span><span class="sxs-lookup"><span data-stu-id="14db3-137">Once you have mapped out your communication and network requirements, you can start thinking about the VMs you want to create.</span></span> <span data-ttu-id="14db3-138">進め方として、サーバーを選択し、次の点を点検することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="14db3-138">A good plan is to select a server and take an inventory:</span></span>

- <span data-ttu-id="14db3-139">サーバーの通信相手</span><span class="sxs-lookup"><span data-stu-id="14db3-139">What does the server communicate with?</span></span>
- <span data-ttu-id="14db3-140">開いているポート</span><span class="sxs-lookup"><span data-stu-id="14db3-140">What ports are open?</span></span>
- <span data-ttu-id="14db3-141">使用する OS</span><span class="sxs-lookup"><span data-stu-id="14db3-141">What OS is used?</span></span>
- <span data-ttu-id="14db3-142">使用中のディスク領域の量</span><span class="sxs-lookup"><span data-stu-id="14db3-142">How much disk space is in use?</span></span>
- <span data-ttu-id="14db3-143">使用するデータの種類</span><span class="sxs-lookup"><span data-stu-id="14db3-143">What kind of data does this use?</span></span> <span data-ttu-id="14db3-144">オンプレミスに存在しないことによる (法的またはその他の) 制約の有無</span><span class="sxs-lookup"><span data-stu-id="14db3-144">Are there restrictions (legal or otherwise) with not having it on-premise?</span></span>
- <span data-ttu-id="14db3-145">サーバーの CPU、メモリ、ディスク I/O の負荷の種類</span><span class="sxs-lookup"><span data-stu-id="14db3-145">What sort of CPU, memory, and disk I/O load does the server have?</span></span> <span data-ttu-id="14db3-146">考慮する必要があるバースト トラフィックの有無</span><span class="sxs-lookup"><span data-stu-id="14db3-146">Is there burst traffic to account for?</span></span>

<span data-ttu-id="14db3-147">次に、Azure の側から見た新しい仮想マシンに関する質問への回答を始めることができます。</span><span class="sxs-lookup"><span data-stu-id="14db3-147">We can then start to answer some of the questions Azure will have for a new virtual machine.</span></span>

<a name="Name_VM" />

### <a name="name-the-vm"></a><span data-ttu-id="14db3-148">VM に名前を付ける</span><span class="sxs-lookup"><span data-stu-id="14db3-148">Name the VM</span></span>

<span data-ttu-id="14db3-149">VM の**名前**は、十分な考慮がなされないことが多い情報の 1 つです。</span><span class="sxs-lookup"><span data-stu-id="14db3-149">One piece of information people often don't put much thought into is the **name** of the VM.</span></span> <span data-ttu-id="14db3-150">VM 名は、オペレーティング システムの一部として構成されるコンピューター名として使用されます。</span><span class="sxs-lookup"><span data-stu-id="14db3-150">The VM name is used as the computer name which is configured as part of the operating system.</span></span> <span data-ttu-id="14db3-151">Windows VM には最大 15 文字、Linux VM には最大 64 文字の名前を指定することができます。</span><span class="sxs-lookup"><span data-stu-id="14db3-151">You can specify a name of up to 15 characters on a Windows VM and 64 characters a Linux VM.</span></span>

<span data-ttu-id="14db3-152">また、これは管理可能な **Azure リソース**を定義する名前でもあり、後から変更するのは容易ではありません。</span><span class="sxs-lookup"><span data-stu-id="14db3-152">This name also defines a manageable **Azure resource**, and it's not trivial to change later.</span></span> <span data-ttu-id="14db3-153">つまり、VM が何を行うのかを簡単に識別できるように、わかりやすく一貫性のある名前を選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="14db3-153">That means you should choose names that are meaningful and consistent so you can easily identify what the VM does.</span></span> <span data-ttu-id="14db3-154">お勧めの規則は、名前に次の情報を含めることです。</span><span class="sxs-lookup"><span data-stu-id="14db3-154">A good convention is to include the following information in the name:</span></span>

| <span data-ttu-id="14db3-155">要素</span><span class="sxs-lookup"><span data-stu-id="14db3-155">Element</span></span> | <span data-ttu-id="14db3-156">例</span><span class="sxs-lookup"><span data-stu-id="14db3-156">Example</span></span> | <span data-ttu-id="14db3-157">メモ</span><span class="sxs-lookup"><span data-stu-id="14db3-157">Notes</span></span> |
| --- | --- | --- |
| <span data-ttu-id="14db3-158">環境</span><span class="sxs-lookup"><span data-stu-id="14db3-158">Environment</span></span> |<span data-ttu-id="14db3-159">dev、prod、QA</span><span class="sxs-lookup"><span data-stu-id="14db3-159">dev, prod, QA</span></span> |<span data-ttu-id="14db3-160">リソースの環境を識別</span><span class="sxs-lookup"><span data-stu-id="14db3-160">Identifies the environment for the resource</span></span> |
| <span data-ttu-id="14db3-161">場所</span><span class="sxs-lookup"><span data-stu-id="14db3-161">Location</span></span> |<span data-ttu-id="14db3-162">uw (米国西部)、ue (米国東部)</span><span class="sxs-lookup"><span data-stu-id="14db3-162">uw (US West), ue (US East)</span></span> |<span data-ttu-id="14db3-163">リソースのデプロイ先のリージョンを識別</span><span class="sxs-lookup"><span data-stu-id="14db3-163">Identifies the region into which the resource is deployed</span></span> |
| <span data-ttu-id="14db3-164">インスタンス</span><span class="sxs-lookup"><span data-stu-id="14db3-164">Instance</span></span> |<span data-ttu-id="14db3-165">01、02</span><span class="sxs-lookup"><span data-stu-id="14db3-165">01, 02</span></span> |<span data-ttu-id="14db3-166">複数の名前付きインスタンスが存在するリソースの場合 (Web サーバーなど)。</span><span class="sxs-lookup"><span data-stu-id="14db3-166">For resources that have more than one named instance (web servers, etc.).</span></span> |
| <span data-ttu-id="14db3-167">製品またはサービス</span><span class="sxs-lookup"><span data-stu-id="14db3-167">Product or Service</span></span> |<span data-ttu-id="14db3-168">service</span><span class="sxs-lookup"><span data-stu-id="14db3-168">service</span></span> |<span data-ttu-id="14db3-169">リソースがサポートする製品、アプリケーション、サービスを識別</span><span class="sxs-lookup"><span data-stu-id="14db3-169">Identifies the product, application, or service that the resource supports</span></span> |
| <span data-ttu-id="14db3-170">ロール</span><span class="sxs-lookup"><span data-stu-id="14db3-170">Role</span></span> |<span data-ttu-id="14db3-171">sql、web、messaging</span><span class="sxs-lookup"><span data-stu-id="14db3-171">sql, web, messaging</span></span> |<span data-ttu-id="14db3-172">関連付けられているリソースのロールを識別</span><span class="sxs-lookup"><span data-stu-id="14db3-172">Identifies the role of the associated resource</span></span> | 

<span data-ttu-id="14db3-173">たとえば、`devusc-webvm01` は、米国中南部の場所でホストされている最初の開発 Web サーバーを表すことができます。</span><span class="sxs-lookup"><span data-stu-id="14db3-173">For example, `devusc-webvm01` might represent the first development web server hosted in the US South Central location.</span></span> 

#### <a name="what-is-an-azure-resource"></a><span data-ttu-id="14db3-174">Azure リソースとは</span><span class="sxs-lookup"><span data-stu-id="14db3-174">What is an Azure Resource?</span></span>

<span data-ttu-id="14db3-175">**Azure リソース**とは Azure で管理可能な項目です。</span><span class="sxs-lookup"><span data-stu-id="14db3-175">An **Azure Resource** is a manageable item in Azure.</span></span> <span data-ttu-id="14db3-176">データセンターの中にある物理コンピューターと同じように、VM には、ジョブを実行するために必要な複数の要素があります。</span><span class="sxs-lookup"><span data-stu-id="14db3-176">Just like a physical computer in your datacenter, VMs have several elements that are needed to do their job:</span></span>

- <span data-ttu-id="14db3-177">VM 自体</span><span class="sxs-lookup"><span data-stu-id="14db3-177">The VM itself</span></span>
- <span data-ttu-id="14db3-178">ディスク用のストレージ アカウント</span><span class="sxs-lookup"><span data-stu-id="14db3-178">Storage account for the disks</span></span>
- <span data-ttu-id="14db3-179">仮想ネットワーク (他の VM およびサービスとの共有)</span><span class="sxs-lookup"><span data-stu-id="14db3-179">Virtual network (shared with other VMs and services)</span></span>
- <span data-ttu-id="14db3-180">ネットワークで通信するためのネットワーク インターフェイス</span><span class="sxs-lookup"><span data-stu-id="14db3-180">Network interface to communicate on the network</span></span>
- <span data-ttu-id="14db3-181">ネットワーク トラフィックをセキュリティで保護するためのネットワーク セキュリティ グループ</span><span class="sxs-lookup"><span data-stu-id="14db3-181">Network Security Group(s) to secure the network traffic</span></span>
- <span data-ttu-id="14db3-182">パブリック インターネット アドレス (オプション)</span><span class="sxs-lookup"><span data-stu-id="14db3-182">Public Internet address (optional)</span></span>

<span data-ttu-id="14db3-183">これらのすべてのリソースは、Azure によって必要に応じて作成されます。または、デプロイ プロセスの過程で既存のリソースを自分で指定できます。</span><span class="sxs-lookup"><span data-stu-id="14db3-183">Azure will create all of these resources if necessary, or you can supply existing ones as part of the deployment process.</span></span> <span data-ttu-id="14db3-184">各リソースには名前が必要です。名前はリソースを識別するために使用されます。</span><span class="sxs-lookup"><span data-stu-id="14db3-184">Each resource needs a name which will be used to identify it.</span></span> <span data-ttu-id="14db3-185">リソースが Azure によって作成される場合は、VM 名を使用してリソース名が生成されます。これは、VM 名との一貫性が高くなるもう 1 つの理由です。</span><span class="sxs-lookup"><span data-stu-id="14db3-185">If Azure creates the resource, it will use the VM name to generate a resource name - another reason to be very consistent with your VM names!</span></span>

<a name="VM_Location" />

### <a name="decide-the-location-for-the-vm"></a><span data-ttu-id="14db3-186">VM の場所を決定する</span><span class="sxs-lookup"><span data-stu-id="14db3-186">Decide the location for the VM</span></span>

<span data-ttu-id="14db3-187">Azure には、サーバーとディスクが配置されたデータセンターが世界中にあります。</span><span class="sxs-lookup"><span data-stu-id="14db3-187">Azure has datacenters all over the world filled with servers and disks.</span></span> <span data-ttu-id="14db3-188">それらのデータセンターは、地理的な_リージョン_ ('米国西部'、'北ヨーロッパ'、'東南アジア' など) にグループ化されていて、冗長性と可用性が確保されています。</span><span class="sxs-lookup"><span data-stu-id="14db3-188">These data centers are grouped into geographic _regions_ ('West US', 'North Europe', 'Southeast Asia', etc.) to provide redundancy and availability.</span></span>

<span data-ttu-id="14db3-189">仮想マシンを作成してデプロイするときは、リソース (CPU、ストレージなど) を割り当てるリージョンを選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="14db3-189">When you create and deploy a virtual machine, you must select a region where you want the resources (CPU, storage, etc.) to be allocated.</span></span> <span data-ttu-id="14db3-190">これにより、ユーザーのできるだけ近くに VM を配置できるため、パフォーマンスを高め、法令、コンプライアンス、または税金の要件を満たすことができます。</span><span class="sxs-lookup"><span data-stu-id="14db3-190">This lets you place your VMs as close as possible to your users to improve performance and to meet any legal, compliance, or tax requirements.</span></span>

<a name="VM_Size" />

### <a name="determine-the-size-of-the-vm"></a><span data-ttu-id="14db3-191">VM のサイズを決定する</span><span class="sxs-lookup"><span data-stu-id="14db3-191">Determine the size of the VM</span></span>

<span data-ttu-id="14db3-192">名前と場所を設定したら、VM のサイズを決定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="14db3-192">Once you have the name and location set, you need to decide on the size of your VM.</span></span> <span data-ttu-id="14db3-193">Azure では、処理能力、メモリ、ストレージ容量を個別に指定するのではなく、これらの要素を異なるサイズのバリエーションで提供するさまざまな _VM サイズ_の中から選択するようになっています。</span><span class="sxs-lookup"><span data-stu-id="14db3-193">Rather than specify processing power, memory, and storage capacity independently, Azure provides different _VM sizes_ that offer variations of these elements in different sizes.</span></span> <span data-ttu-id="14db3-194">Azure には、広範囲の VM サイズ オプションが用意されていて、実行したいことに応じたコンピューティング能力、メモリ、ストレージの適切な組み合わせを選択します。</span><span class="sxs-lookup"><span data-stu-id="14db3-194">Azure provides a wide range of VM size options allowing you to select the appropriate mix of compute, memory and storage for what you want to do.</span></span>

<span data-ttu-id="14db3-195">適切な VM サイズを決定する最良の方法は、VM で実行する必要があるワークロードの種類を考慮することです。</span><span class="sxs-lookup"><span data-stu-id="14db3-195">The best way to determine the appropriate VM size is to consider the type of workload your VM needs to run.</span></span> <span data-ttu-id="14db3-196">ワークロードに基づいて、利用可能な VM サイズのサブセットから選択することができます。</span><span class="sxs-lookup"><span data-stu-id="14db3-196">Based on the workload, you're able to choose from a subset of available VM sizes.</span></span> <span data-ttu-id="14db3-197">Azure のワークロードのオプションは、次のように分類されています。</span><span class="sxs-lookup"><span data-stu-id="14db3-197">Workload options are classified as follows on Azure:</span></span>

| <span data-ttu-id="14db3-198">オプション</span><span class="sxs-lookup"><span data-stu-id="14db3-198">Option</span></span>              | <span data-ttu-id="14db3-199">説明</span><span class="sxs-lookup"><span data-stu-id="14db3-199">Description</span></span> |
|---------------------|-------------|
| <span data-ttu-id="14db3-200">**汎用**</span><span class="sxs-lookup"><span data-stu-id="14db3-200">**General purpose**</span></span> | <span data-ttu-id="14db3-201">汎用 VM は、バランスの取れた CPU 対メモリ比を提供するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="14db3-201">General-purpose VMs are designed to have a balanced CPU-to-memory ratio.</span></span> <span data-ttu-id="14db3-202">テストと開発、小規模から中規模のデータベース、軽度から中程度のトラフィックの Web サーバーに最適です。</span><span class="sxs-lookup"><span data-stu-id="14db3-202">Ideal for testing and development, small to medium databases, and low to medium traffic web servers.</span></span> |
| <span data-ttu-id="14db3-203">**コンピューティング最適化**</span><span class="sxs-lookup"><span data-stu-id="14db3-203">**Compute optimized**</span></span> | <span data-ttu-id="14db3-204">コンピューティング最適化 VM は、高い CPU 対メモリ比を提供するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="14db3-204">Compute optimized VMs are designed to have a high CPU-to-memory ratio.</span></span> <span data-ttu-id="14db3-205">トラフィックが中程度の Web サーバー、ネットワーク アプライアンス、バッチ処理、アプリケーション サーバーに適しています。</span><span class="sxs-lookup"><span data-stu-id="14db3-205">Suitable for medium traffic web servers, network appliances, batch processes, and application servers.</span></span> |
| <span data-ttu-id="14db3-206">**メモリ最適化**</span><span class="sxs-lookup"><span data-stu-id="14db3-206">**Memory optimized**</span></span> | <span data-ttu-id="14db3-207">メモリ最適化 VM は、高いメモリ対 CPU 比を提供するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="14db3-207">Memory optimized VMs are designed to have a high memory-to-CPU ratio.</span></span> <span data-ttu-id="14db3-208">リレーショナル データベース サーバー、中規模から大規模のキャッシュ、メモリ内分析に適しています。</span><span class="sxs-lookup"><span data-stu-id="14db3-208">Great for relational database servers, medium to large caches, and in-memory analytics.</span></span> |
| <span data-ttu-id="14db3-209">**ストレージ最適化**</span><span class="sxs-lookup"><span data-stu-id="14db3-209">**Storage optimized**</span></span> | <span data-ttu-id="14db3-210">ストレージ最適化 VM は、高いディスク スループットと IO を提供するように設計されています。</span><span class="sxs-lookup"><span data-stu-id="14db3-210">Storage optimized VMs are designed to have high disk throughput and IO.</span></span> <span data-ttu-id="14db3-211">データベースを実行する VM に最適です。</span><span class="sxs-lookup"><span data-stu-id="14db3-211">Ideal for VMs running databases.</span></span> |
| <span data-ttu-id="14db3-212">**GPU**</span><span class="sxs-lookup"><span data-stu-id="14db3-212">**GPU**</span></span> | <span data-ttu-id="14db3-213">GPU VM は、負荷の高いグラフィックスのレンダリングやビデオ編集に特化した仮想マシンです。</span><span class="sxs-lookup"><span data-stu-id="14db3-213">GPU VMs are specialized virtual machines targeted for heavy graphics rendering and video editing.</span></span> <span data-ttu-id="14db3-214">これらの VM は、ディープ ラーニングを使用したモデル トレーニングと推論に最適なオプションです。</span><span class="sxs-lookup"><span data-stu-id="14db3-214">These VMs are ideal options for model training and inferencing with deep learning.</span></span> |
| <span data-ttu-id="14db3-215">**ハイ パフォーマンス コンピューティング**</span><span class="sxs-lookup"><span data-stu-id="14db3-215">**High performance computes**</span></span> | <span data-ttu-id="14db3-216">ハイ パフォーマンス コンピューティングは、高スループットのネットワーク インターフェイスのオプションを備えた、最も高速かつ強力な CPU 仮想マシンです。</span><span class="sxs-lookup"><span data-stu-id="14db3-216">High performance compute is the fastest and most powerful CPU virtual machines with optional high-throughput network interfaces.</span></span> |

<span data-ttu-id="14db3-217">Azure で VM サイズを構成するとき、ワークロードの種類でフィルター処理することができます。</span><span class="sxs-lookup"><span data-stu-id="14db3-217">You're able to filter on the workload type when you configure the VM size in the Azure.</span></span> <span data-ttu-id="14db3-218">選択したサイズがサービスのコストに直接影響します。</span><span class="sxs-lookup"><span data-stu-id="14db3-218">The size you choose directly affects the cost of your service.</span></span> <span data-ttu-id="14db3-219">より多くの CPU、メモリ、GPU が必要なほど、価格ポイントは高くなります。</span><span class="sxs-lookup"><span data-stu-id="14db3-219">The more CPU, memory, GPU you need, the higher the price point.</span></span>

<a name="VM_Cost" />

### <a name="understanding-the-pricing-model"></a><span data-ttu-id="14db3-220">価格モデルについて理解する</span><span class="sxs-lookup"><span data-stu-id="14db3-220">Understanding the pricing model</span></span>

<span data-ttu-id="14db3-221">どの VM の場合も、サブスクリプションに対してコンピューティングとストレージという 2 種類の別々のコストが課金されます。</span><span class="sxs-lookup"><span data-stu-id="14db3-221">There are two separate costs the subscription will be charged for every VM: compute and storage.</span></span>

<span data-ttu-id="14db3-222">**コンピューティング コスト** - コンピューティングの費用は、時間単位で課金されますが、分単位で請求されます。</span><span class="sxs-lookup"><span data-stu-id="14db3-222">**Compute costs** - Compute expenses are priced on a per-hour basis but billed on a per-minute basis.</span></span> <span data-ttu-id="14db3-223">たとえば、VM が 55 分間デプロイされていた場合、55 分間の使用に対してのみ課金されます。</span><span class="sxs-lookup"><span data-stu-id="14db3-223">For example, you are only charged for 55 minutes of usage if the VM is deployed for 55 minutes.</span></span> <span data-ttu-id="14db3-224">VM を停止して割り当てを解除した場合、ハードウェアが解放されるため、コンピューティング容量については課金されません。</span><span class="sxs-lookup"><span data-stu-id="14db3-224">You are not charged for compute capacity if you stop and deallocate the VM since this releases the hardware.</span></span> <span data-ttu-id="14db3-225">時間単位の料金は、選択した VM サイズと OS によって異なります。</span><span class="sxs-lookup"><span data-stu-id="14db3-225">The hourly price varies based on the VM size and OS you select.</span></span> <span data-ttu-id="14db3-226">VM のコストには、Windows オペレーティング システムの料金が含まれます。</span><span class="sxs-lookup"><span data-stu-id="14db3-226">The cost for a VM includes the charge for the Windows operating system.</span></span> <span data-ttu-id="14db3-227">オペレーティング システムのライセンス料金は発生しませんので、Linux ベースのインスタンスの費用が安くなります。</span><span class="sxs-lookup"><span data-stu-id="14db3-227">Linux-based instances are cheaper because there is no operating system license charge.</span></span>

> [!TIP]
> <span data-ttu-id="14db3-228">**Azure ハイブリッド特典**により、Windows の既存のライセンスを再利用してコストを削減できる場合があります。</span><span class="sxs-lookup"><span data-stu-id="14db3-228">You might be able to save money by reusing existing licenses for Windows with the **Azure Hybrid benefit**.</span></span>

<span data-ttu-id="14db3-229">**ストレージ コスト** - VM で使用するストレージは別途課金されます。</span><span class="sxs-lookup"><span data-stu-id="14db3-229">**Storage costs** - You are charged separately for the storage the VM uses.</span></span> <span data-ttu-id="14db3-230">VM の状態と、発生するストレージの料金は関係ありません。VM が停止または割り当て解除されていて、実行中の VM に対する課金が発生しない場合でも、ディスクに使用しているストレージは課金されます。</span><span class="sxs-lookup"><span data-stu-id="14db3-230">The status of the VM has no relation to the storage charges that will be incurred; even if the VM is stopped/deallocated and you aren’t billed for the running VM, you will be charged for the storage used by the disks.</span></span>

<span data-ttu-id="14db3-231">コンピューティング コストについては、2 つの支払いオプションから選ぶことができます。</span><span class="sxs-lookup"><span data-stu-id="14db3-231">You're able to choose from two payment options for compute costs.</span></span>

| <span data-ttu-id="14db3-232">オプション</span><span class="sxs-lookup"><span data-stu-id="14db3-232">Option</span></span> | <span data-ttu-id="14db3-233">説明</span><span class="sxs-lookup"><span data-stu-id="14db3-233">Description</span></span> |
|--------|-------------|
| <span data-ttu-id="14db3-234">**従量課金制**</span><span class="sxs-lookup"><span data-stu-id="14db3-234">**Pay as you go**</span></span> | <span data-ttu-id="14db3-235">**従量課金制**オプションでは、コンピューティング容量に対して秒単位で支払います。長期契約や事前の支払いは不要です。</span><span class="sxs-lookup"><span data-stu-id="14db3-235">With the **pay as you go** option, you pay for compute capacity by the second, with no long-term commitment, or upfront payments.</span></span> <span data-ttu-id="14db3-236">いつでも起動または停止できるだけでなく、需要に応じてコンピューティング容量を増やしたり減らしたりできます。</span><span class="sxs-lookup"><span data-stu-id="14db3-236">You're able to increase or decrease compute capacity on demand as well as start or stop at any time.</span></span> <span data-ttu-id="14db3-237">このオプションは、実行するアプリケーションのワークロードが短期間である場合、または予想不可能で中断が許容されない場合に適しています。</span><span class="sxs-lookup"><span data-stu-id="14db3-237">Prefer this option if you run applications with short-term, or unpredictable workloads that cannot be interrupted.</span></span> <span data-ttu-id="14db3-238">これは、たとえば VM で簡単なテストを行う場合やアプリを開発する場合に適したオプションです。</span><span class="sxs-lookup"><span data-stu-id="14db3-238">For example, if you are doing a quick test, or developing an app in a VM, this would be the appropriate option.</span></span> |
| <span data-ttu-id="14db3-239">**Reserved Virtual Machine Instances**</span><span class="sxs-lookup"><span data-stu-id="14db3-239">**Reserved Virtual Machine Instances**</span></span> | <span data-ttu-id="14db3-240">Reserved Virtual Machine Instances (RI) オプションは、特定のリージョンにおける 1 年間から 3 年間分の仮想マシンの予約購入です。</span><span class="sxs-lookup"><span data-stu-id="14db3-240">The Reserved Virtual Machine Instances (RI) option is an advance purchase of a virtual machine for one or three years in a specified region.</span></span> <span data-ttu-id="14db3-241">前払いでの契約により、重量課金制の料金に比べて最大 72% の割引が受けられます。</span><span class="sxs-lookup"><span data-stu-id="14db3-241">The commitment is made up front, and in return, you get up to 72% price savings compared to pay-as-you-go pricing.</span></span> <span data-ttu-id="14db3-242">**RI** は柔軟性があり、簡単に交換することや、早期解約料金を支払って返却することができます。</span><span class="sxs-lookup"><span data-stu-id="14db3-242">**RIs** are flexible and can easily be exchanged or returned for an early termination fee.</span></span> <span data-ttu-id="14db3-243">VM を継続して実行する必要がある場合、または予算を予測できるようにする必要があり、**しかも**、少なくとも 1 年間は VM を使用する契約ができる場合は、このオプションが適しています。</span><span class="sxs-lookup"><span data-stu-id="14db3-243">Prefer this option if the VM has to run continuously, or you need budget predictability, **and** you can commit to using the VM for at least a year.</span></span> |

<a name="VM_Storage" />

### <a name="storage-for-the-vm"></a><span data-ttu-id="14db3-244">VM 用のストレージ</span><span class="sxs-lookup"><span data-stu-id="14db3-244">Storage for the VM</span></span>

<span data-ttu-id="14db3-245">すべての Azure 仮想マシンには、少なくとも 2 個の仮想ハード ディスク (VHD) があります。</span><span class="sxs-lookup"><span data-stu-id="14db3-245">All Azure virtual machines will have at least two virtual hard disks (VHDs).</span></span> <span data-ttu-id="14db3-246">1 つ目のディスクにはオペレーティング システムが格納され、2 つ目のディスクは一時ストレージとして使用されます。</span><span class="sxs-lookup"><span data-stu-id="14db3-246">The first disk stores the operating system and the second is used as temporary storage.</span></span> <span data-ttu-id="14db3-247">アプリケーションのデータを格納する追加のディスクを付加できます。最大数は、選択した VM サイズによって異なります (通常は CPU ごとに 2 個)。</span><span class="sxs-lookup"><span data-stu-id="14db3-247">You can add additional disks to store application data; the maximum number is determined by the VM size selection (typically two per CPU).</span></span> <span data-ttu-id="14db3-248">特に OS ディスクが非常に小さくなる傾向があることから、1 つまたは複数のデータ ディスクを作成するのが一般的です。</span><span class="sxs-lookup"><span data-stu-id="14db3-248">It's common to create one or more data disks, particularly since the OS disk tends to be quite small.</span></span> <span data-ttu-id="14db3-249">また、データを他の VHD に分離することで、ディスクのセキュリティ、信頼性、パフォーマンスを別個に管理できます。</span><span class="sxs-lookup"><span data-stu-id="14db3-249">Also, separating out the data to a different VHDs allows you to manage the security, reliability, and performance of the disk independently.</span></span>

<span data-ttu-id="14db3-250">各 VHD のデータは、**Azure Storage** にページ BLOB として保持されます。これにより Azure では、使用するストレージに対してのみ領域が割り当てられます。</span><span class="sxs-lookup"><span data-stu-id="14db3-250">The data for each VHD is held in **Azure Storage** as page blobs which allows Azure to allocate space only for the storage you use.</span></span> <span data-ttu-id="14db3-251">また、それはストレージ コストを測定する方法でもあります。使った分だけのストレージの料金を支払います。</span><span class="sxs-lookup"><span data-stu-id="14db3-251">It's also how your storage cost is measured; you pay for the storage you are consuming.</span></span>

#### <a name="what-is-azure-storage"></a><span data-ttu-id="14db3-252">Azure Storage とは</span><span class="sxs-lookup"><span data-stu-id="14db3-252">What is Azure Storage?</span></span>

<span data-ttu-id="14db3-253">Azure Storage は、Microsoft のクラウドベースのデータ ストレージ ソリューションです。</span><span class="sxs-lookup"><span data-stu-id="14db3-253">Azure Storage is Microsoft's cloud-based data storage solution.</span></span> <span data-ttu-id="14db3-254">ほぼあらゆる種類のデータをサポートし、セキュリティ、冗長性、格納されたデータへのスケーラブルなアクセスを提供します。</span><span class="sxs-lookup"><span data-stu-id="14db3-254">It supports almost any type of data and provides security, redundancy, and scalable access to the stored data.</span></span> <span data-ttu-id="14db3-255">ストレージ アカウントは、特定のサブスクリプション向けに、Azure Storage 内のオブジェクトへのアクセスを提供します。</span><span class="sxs-lookup"><span data-stu-id="14db3-255">A storage account provides access to objects in Azure Storage for a specific subscription.</span></span> <span data-ttu-id="14db3-256">VM には常に、接続された各仮想ディスクを保持するために、1 つまたは複数のストレージ アカウントを設定します。</span><span class="sxs-lookup"><span data-stu-id="14db3-256">VMs always have one or more storage accounts to hold each attached virtual disk.</span></span>

<span data-ttu-id="14db3-257">仮想ディスクは、**Standard** または **Premium** ストレージ アカウントのいずれかで使用できます。</span><span class="sxs-lookup"><span data-stu-id="14db3-257">Virtual disks can be backed by either **Standard** or **Premium** Storage accounts.</span></span> <span data-ttu-id="14db3-258">Azure Premium Storage は、ソリッド ステート ドライブ (SSD) を利用して、I/O を集中的に行うワークロードを実行する VM の高パフォーマンスと少ない待ち時間を実現します。</span><span class="sxs-lookup"><span data-stu-id="14db3-258">Azure Premium Storage leverages solid-state drives (SSDs) to enable high performance and low latency for VMs running I/O-intensive workloads.</span></span> <span data-ttu-id="14db3-259">Azure Premium Storage は運用環境のワークロードに使用します。特に、パフォーマンスの変動の影響を受けやすいワークロードや、I/O を集中的に行うワークロードに向いています。</span><span class="sxs-lookup"><span data-stu-id="14db3-259">Use Azure Premium Storage for production workloads, especially those that are sensitive to performance variations or are I/O intensive.</span></span> <span data-ttu-id="14db3-260">開発またはテスト用には、Standard ストレージで十分です。</span><span class="sxs-lookup"><span data-stu-id="14db3-260">For development or testing, Standard storage is fine.</span></span>

<span data-ttu-id="14db3-261">ディスクを作成するとき、ストレージ アカウントと各 VHD との関係を管理するためのオプションが 2 つあります。</span><span class="sxs-lookup"><span data-stu-id="14db3-261">When you create disks, you will have two options for managing the relationship between the storage account and each VHD.</span></span> <span data-ttu-id="14db3-262">**アンマネージド ディスク**または**マネージド ディスク**。</span><span class="sxs-lookup"><span data-stu-id="14db3-262">You can choose either **unmanaged disks** or **managed disks**.</span></span>

| <span data-ttu-id="14db3-263">オプション</span><span class="sxs-lookup"><span data-stu-id="14db3-263">Option</span></span> | <span data-ttu-id="14db3-264">説明</span><span class="sxs-lookup"><span data-stu-id="14db3-264">Description</span></span> |
|--------|-------------|
| <span data-ttu-id="14db3-265">**アンマネージド ディスク**</span><span class="sxs-lookup"><span data-stu-id="14db3-265">**Unmanaged disks**</span></span> | <span data-ttu-id="14db3-266">アンマネージド ディスクを使用する場合、VM ディスクに対応する VHD を保持するために使用するストレージ アカウントを自分で管理する必要があります。</span><span class="sxs-lookup"><span data-stu-id="14db3-266">With unmanaged disks, you are responsible for the storage accounts that are used to hold the VHDs that correspond to your VM disks.</span></span> <span data-ttu-id="14db3-267">使用する領域の容量に対応したストレージ アカウントの料金を負担します。</span><span class="sxs-lookup"><span data-stu-id="14db3-267">You pay the storage account rates for the amount of space you use.</span></span> <span data-ttu-id="14db3-268">1 つのストレージ アカウントには、I/O 操作数 20,000/秒という固定レート制限があります。これは、1 つのストレージ アカウントが最大使用率で 40 個の標準仮想ハード ディスクをサポートできることを意味します。</span><span class="sxs-lookup"><span data-stu-id="14db3-268">A single storage account has a fixed rate limit of 20,000 I/O operations/sec. This means that a storage account is capable of supporting 40 standard virtual hard disks at full utilization.</span></span> <span data-ttu-id="14db3-269">ディスクを増加してスケールアウトする必要がある場合は、ストレージ アカウントを増やす必要があり、複雑になる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="14db3-269">If you need to scale out with more disks, then you'll need more storage accounts, which can get complicated.</span></span> |
| <span data-ttu-id="14db3-270">**マネージド ディスク**</span><span class="sxs-lookup"><span data-stu-id="14db3-270">**Managed disks**</span></span> | <span data-ttu-id="14db3-271">マネージド ディスクは、**より新しい、お勧めのディスク ストレージ モデル**です。</span><span class="sxs-lookup"><span data-stu-id="14db3-271">Managed disks are the **newer and recommended disk storage model**.</span></span> <span data-ttu-id="14db3-272">ストレージ アカウントを管理する負担を Azure に移すことで、この複雑さを適切に解決します。</span><span class="sxs-lookup"><span data-stu-id="14db3-272">They elegantly solve this complexity by putting the burden of managing the storage accounts onto Azure.</span></span> <span data-ttu-id="14db3-273">4 TB までのディスク サイズを指定します。Azure により、ディスクとストレージの "_両方_" が作成、管理されます。</span><span class="sxs-lookup"><span data-stu-id="14db3-273">You specify the size of the disk, up to 4 TB, and Azure creates and manages both the disk _and_ the storage.</span></span> <span data-ttu-id="14db3-274">ストレージ アカウント制限について気にする必要がないため、マネージド ディスクは簡単にスケールアウトできます。</span><span class="sxs-lookup"><span data-stu-id="14db3-274">You don't have to worry about storage account limits, which makes managed disks easier to scale out.</span></span> |

<a name="VM_OS" />

### <a name="select-an-operating-system"></a><span data-ttu-id="14db3-275">オペレーティング システムを選択する</span><span class="sxs-lookup"><span data-stu-id="14db3-275">Select an operating system</span></span>

<span data-ttu-id="14db3-276">Azure には、Windows の複数のバージョンと Linux の複数のフレーバーを含む VM にインストールできる、さまざまな OS イメージが用意されています。</span><span class="sxs-lookup"><span data-stu-id="14db3-276">Azure provides a variety of OS images that you can install into the VM including several versions of Windows and flavors of Linux.</span></span> <span data-ttu-id="14db3-277">既に説明したように、Azure では OS ライセンスのコストが価格に組み込まれているため、OS の選択は時間単位のコンピューティング価格に影響します。</span><span class="sxs-lookup"><span data-stu-id="14db3-277">As mentioned earlier, the choice of OS will influence your hourly compute pricing as Azure bundles the cost of the OS license into the price.</span></span>

<span data-ttu-id="14db3-278">求めているものが基本的な OS イメージだけではない場合は、Azure Marketplace で、OS と特定のシナリオ用にインストールされた一般的なソフトウェア ツールを含む、より高度なインストール イメージを検索できます。</span><span class="sxs-lookup"><span data-stu-id="14db3-278">If you are looking for more than just base OS images, you can search the Azure Marketplace for more sophisticated install images that include the OS and popular software tools installed for specific scenarios.</span></span> <span data-ttu-id="14db3-279">たとえば、新しい Wordpress サイトが必要な場合、標準的なテクノロジ スタックは Linux サーバー、Apache Web サーバー、MySQL データベース、PHP で構成されます。</span><span class="sxs-lookup"><span data-stu-id="14db3-279">For example, if you needed a new a Wordpress site, the standard technology stack would consist of a Linux server, Apache web server, a MySQL database, and PHP.</span></span> <span data-ttu-id="14db3-280">各コンポーネントをセットアップして構成するのではなく、Marketplace イメージを利用して、そのスタック全体を一度にインストールできます。</span><span class="sxs-lookup"><span data-stu-id="14db3-280">Instead of setting up and configuring each component, you can leverage a Marketplace image and install the entire stack all at once.</span></span>

<span data-ttu-id="14db3-281">最後に、適切な OS イメージが見つからない場合は、必要なものを含む自分のディスク イメージを作成して Azure ストレージにアップロードし、それを使用して Azure VM を作成できます。</span><span class="sxs-lookup"><span data-stu-id="14db3-281">Finally, if you can't find a suitable OS image, you can create your disk image with what you need, upload it to Azure storage and use it to create an Azure VM.</span></span> <span data-ttu-id="14db3-282">Azure では 64 ビット オペレーティング システムのみがサポートされることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="14db3-282">Keep in mind that Azure only supports 64-bit operating systems.</span></span>