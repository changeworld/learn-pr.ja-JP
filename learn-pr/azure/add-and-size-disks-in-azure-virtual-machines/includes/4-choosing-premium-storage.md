<span data-ttu-id="25982-101">一部のアプリケーションでは、データ ストレージに対する要求が他よりも厳しくなります。</span><span class="sxs-lookup"><span data-stu-id="25982-101">Some applications place greater demands on data storage than others.</span></span> <span data-ttu-id="25982-102">たとえば、Microsoft Exchange サーバーや SharePoint サーバーを最適な状態で実行するには、高パフォーマンスのディスクが必要です。</span><span class="sxs-lookup"><span data-stu-id="25982-102">For example, Microsoft Exchange servers and SharePoint servers need high-performance disks to run at their best.</span></span>

<span data-ttu-id="25982-103">法律事務所の案件履歴データベースを Azure に移行するシナリオをもう一度見てみましょう。</span><span class="sxs-lookup"><span data-stu-id="25982-103">Let's revisit the scenario of migrating the case histories database for your law firm into Azure.</span></span> <span data-ttu-id="25982-104">弁護士やその他のスタッフが、案件の詳細情報にできるだけ迅速にアクセスできるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="25982-104">You want to make sure that your lawyers and other staff can access case details as fast as possible.</span></span> <span data-ttu-id="25982-105">事務所の業績が拡大しており、データベースで需要増大に対応できるようにしたいと考えています。</span><span class="sxs-lookup"><span data-stu-id="25982-105">The firm is growing,  and you want your database to handle increased demand.</span></span>

<span data-ttu-id="25982-106">Azure で仮想マシン (VM) のパフォーマンスを最大化する方法の 1 つが、仮想ハード ドライブ (VHD) に Premium Storage を使用することです。</span><span class="sxs-lookup"><span data-stu-id="25982-106">One way you can  maximize the performance of virtual machines (VMs) in Azure is to use premium storage for virtual hard drives (VHDs).</span></span> <span data-ttu-id="25982-107">Premium Storage では Standard Storage よりも入出力 (IO) が高速です。</span><span class="sxs-lookup"><span data-stu-id="25982-107">Premium storage delivers faster input and output (IO) than standard storage.</span></span> <span data-ttu-id="25982-108">ディスク IO が高速なほど、ディスク使用率の高いアプリケーションのパフォーマンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="25982-108">Faster disk IO results in better performance for disk-intensive applications.</span></span>

<span data-ttu-id="25982-109">ストレージのパフォーマンス レベルを比較し、Premium Storage アカウントの詳細を確認してみましょう。</span><span class="sxs-lookup"><span data-stu-id="25982-109">Let's compare the performance tiers for storage and learn more about premium storage accounts.</span></span>

## <a name="how-premium-storage-differs-from-standard-storage"></a><span data-ttu-id="25982-110">Premium Storage と Standard Storage の違い</span><span class="sxs-lookup"><span data-stu-id="25982-110">How premium storage differs from standard storage</span></span>

<span data-ttu-id="25982-111">Azure では、Premium Storage は、ソリッドステート ドライブ (SSD) に実装されます。</span><span class="sxs-lookup"><span data-stu-id="25982-111">In Azure, premium storage is implemented on solid-state drives (SSDs).</span></span> <span data-ttu-id="25982-112">SSD はハード ディスク ドライブ (HDD) よりも IO パフォーマンスが高く、可動部分がないため信頼性にも優れています。</span><span class="sxs-lookup"><span data-stu-id="25982-112">SSDs have higher IO performance than hard disk drives (HDDs) and can be more reliable because they have no moving parts.</span></span> <span data-ttu-id="25982-113">要求されたデータを見つけるために、読み取りまたは書き込みヘッドが、ディスク上の正しい場所に移動するがありません。</span><span class="sxs-lookup"><span data-stu-id="25982-113">A read or write head doesn't have to move to the correct location on a disk to find the data requested.</span></span> 

<span data-ttu-id="25982-114">Standard Storage は HDD に実装されます。</span><span class="sxs-lookup"><span data-stu-id="25982-114">Standard storage is implemented on HDDs.</span></span> <span data-ttu-id="25982-115">Standard Storage は、低いレートで課金されます。</span><span class="sxs-lookup"><span data-stu-id="25982-115">Standard storage a billed at a lower rate.</span></span> <span data-ttu-id="25982-116">コストを抑えるには Standard Storage を、高い IO パフォーマンスが必要な場合は Premium Storage を選択します。</span><span class="sxs-lookup"><span data-stu-id="25982-116">Choose standard storage to control costs, and choose premium storage when fast IO performance is required.</span></span>

<span data-ttu-id="25982-117">1 つの VM でディスクごとに Standard Storage と Premium Storage を混在させることもできます。</span><span class="sxs-lookup"><span data-stu-id="25982-117">You can also choose to use a mix of standard and premium storage per disk in a single VM.</span></span>

> [!NOTE]
> <span data-ttu-id="25982-118">マネージド ディスクを使用している場合は、3 つ目のオプションとして Standard SSD を選択できます。</span><span class="sxs-lookup"><span data-stu-id="25982-118">If you're using managed disks, you have a third option: standard SSDs.</span></span> <span data-ttu-id="25982-119">Standard SSD は、パフォーマンスと価格の両方の面で、Standard HDD と Premium SSD の中間に位置付けられており、アンマネージド ディスクでは使用できません。</span><span class="sxs-lookup"><span data-stu-id="25982-119">Standard SSDs are intermediate in both performance and price between standard HDDs and premium SSDs but are not available for unmanaged disks.</span></span> <span data-ttu-id="25982-120">このモジュールでは、Standard SSD について後で詳しく説明します。</span><span class="sxs-lookup"><span data-stu-id="25982-120">You will learn more about standard SSDs later in this module.</span></span>

## <a name="premium-storage-accounts"></a><span data-ttu-id="25982-121">Premium Storage アカウント</span><span class="sxs-lookup"><span data-stu-id="25982-121">Premium storage accounts</span></span>

<span data-ttu-id="25982-122">Azure の汎用ストレージ アカウントには VHD がページ BLOB として格納されます。</span><span class="sxs-lookup"><span data-stu-id="25982-122">VHDs are stored in Azure general-purpose storage accounts as page blobs.</span></span> <span data-ttu-id="25982-123">お使いの VHD に Premium Storage を使用するには、VHD を **Premium Storage アカウント**に格納する必要があります。</span><span class="sxs-lookup"><span data-stu-id="25982-123">To use premium storage for your VHDs, you must store VHDs in a **premium storage account**.</span></span> <span data-ttu-id="25982-124">ストレージ アカウントのパフォーマンス レベルは、そのアカウントを作成するときに選択します。この設定は、後から変更できません。</span><span class="sxs-lookup"><span data-stu-id="25982-124">You choose the performance tier of a storage account when you create it, and you cannot change this setting later.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="25982-125">Premium Storage は、すべてのAzure リージョンで利用できるわけではありません。</span><span class="sxs-lookup"><span data-stu-id="25982-125">Premium storage may not be available in all Azure regions.</span></span> <span data-ttu-id="25982-126">ご自身のリージョンで利用できるかどうかについては、「[リージョン別の利用可能な製品](https://azure.microsoft.com/en-us/global-infrastructure/services/)」をご覧ください。</span><span class="sxs-lookup"><span data-stu-id="25982-126">To check the availability in your region, see [Products available by region](https://azure.microsoft.com/en-us/global-infrastructure/services/).</span></span>

### <a name="data-replication-and-premium-storage-accounts"></a><span data-ttu-id="25982-127">データ レプリケーションと Premium Storage アカウント</span><span class="sxs-lookup"><span data-stu-id="25982-127">Data replication and premium storage accounts</span></span>

<span data-ttu-id="25982-128">Microsoft Azure ストレージ アカウント内のデータは、持続性と高可用性を保証するため、常にレプリケートされています。</span><span class="sxs-lookup"><span data-stu-id="25982-128">The data in your Microsoft Azure storage account is always replicated to ensure durability and high availability.</span></span> <span data-ttu-id="25982-129">Azure Storage のレプリケーションでは、計画されたイベントや計画外のイベント (一時的なハードウェア障害、ネットワークの停止または停電、大規模な自然災害など) からデータが保護されるようにデータがコピーされます。</span><span class="sxs-lookup"><span data-stu-id="25982-129">Azure Storage replication copies your data so that it's protected from planned and unplanned events like transient hardware failures, network or power outages, massive natural disasters, and so on.</span></span> <span data-ttu-id="25982-130">同じデータ センター内、同じリージョンのゾーンのデータ センター間、さらにはリージョン間でデータをレプリケートすることもできます。</span><span class="sxs-lookup"><span data-stu-id="25982-130">You can choose to replicate your data within the same data center, across zonal data centers within the same region, and even across regions.</span></span> <span data-ttu-id="25982-131">レプリケーションには、次の 4 種類があります。</span><span class="sxs-lookup"><span data-stu-id="25982-131">There are four types of replication:</span></span>

- <span data-ttu-id="25982-132">**ローカル冗長ストレージ (LRS)** - 同じ Azure データ センター内でデータがレプリケートされます。</span><span class="sxs-lookup"><span data-stu-id="25982-132">**Locally redundant storage (LRS)** - Azure replicates the data within the same Azure data center.</span></span> <span data-ttu-id="25982-133">ノードで障害が発生しても、データは引き続き使用できます。</span><span class="sxs-lookup"><span data-stu-id="25982-133">The data remains available if a node fails.</span></span> <span data-ttu-id="25982-134">ただし、データ センター全体で障害が発生すると、データが使用できなくなる場合があります。</span><span class="sxs-lookup"><span data-stu-id="25982-134">However, if an entire data center fails, data may be unavailable.</span></span>
- <span data-ttu-id="25982-135">**geo 冗長ストレージ (GRS)** - プライマリ リージョンから数百マイル離れたセカンダリ リージョンにデータがレプリケートされます。</span><span class="sxs-lookup"><span data-stu-id="25982-135">**Geo-redundant storage (GRS)** - Azure replicates your data to a secondary region that is hundreds of miles away from the primary region.</span></span> <span data-ttu-id="25982-136">お使いのストレージ アカウントで GRS が有効になっている場合、地域的な停電やプライマリ リージョンが復旧できない災害が発生しても、データは保持されます。</span><span class="sxs-lookup"><span data-stu-id="25982-136">If your storage account has GRS enabled, then your data is durable even if there's a complete regional outage or a disaster in which the primary region isn't recoverable.</span></span>
- <span data-ttu-id="25982-137">**読み取りアクセス geo 冗長ストレージ (RA-GRS)** - セカンダリ ロケーションにあるデータに対する読み取り専用アクセス、および 2 つのリージョンにまたがる geo レプリケーションが提供されます。</span><span class="sxs-lookup"><span data-stu-id="25982-137">**Read-access geo-redundant storage (RA-GRS)** - Azure provides read-only access to the data in the secondary location, and geo-replication across two regions.</span></span> <span data-ttu-id="25982-138">データ センターで障害が発生しても、データは引き続き読み取り可能ですが、変更できなくなります。</span><span class="sxs-lookup"><span data-stu-id="25982-138">If a data center fails, the data remains readable but can't be modified.</span></span>
- <span data-ttu-id="25982-139">**ゾーン冗長ストレージ (ZRS)** - 1 つのリージョン内の 3 つのストレージ クラスターにデータが同期的にレプリケートされます。</span><span class="sxs-lookup"><span data-stu-id="25982-139">**Zone-redundant storage (ZRS)** - Azure replicates your data synchronously across three storage clusters in a single region.</span></span> <span data-ttu-id="25982-140">各ストレージ クラスターは物理的に他のストレージ クラスターと分離されており、それぞれの可用性ゾーン (AZ) 内にあります。</span><span class="sxs-lookup"><span data-stu-id="25982-140">Each storage cluster is physically separated from the others and resides in its own availability zone (AZ).</span></span> <span data-ttu-id="25982-141">この種類のレプリケーションでは、ゾーンが使用できなくなっても、お使いのデータには引き続きアクセスし、管理することができます。</span><span class="sxs-lookup"><span data-stu-id="25982-141">With this type of replication, you can still access and manage your data in the event that a zone becomes unavailable.</span></span>

<span data-ttu-id="25982-142">Standard Storage アカウントでは、すべてのレプリケーションの種類がサポートされますが、Premium Storage アカウントでサポートされるのはローカル冗長ストレージ (LRS) のみです。</span><span class="sxs-lookup"><span data-stu-id="25982-142">Standard storage accounts support all replication types, but premium storage accounts only support locally redundant storage (LRS).</span></span> <span data-ttu-id="25982-143">VM 自体が 1 つのリージョンで実行されているため、通常、この制限が VHD ストレージにとって問題になることはありません。</span><span class="sxs-lookup"><span data-stu-id="25982-143">Since VMs themselves run in a single region, this restriction isn't normally an issue for VHD storage.</span></span>

## <a name="migrating-from-standard-storage-to-premium-storage"></a><span data-ttu-id="25982-144">Standard Storage から Premium Storage への移行</span><span class="sxs-lookup"><span data-stu-id="25982-144">Migrating from standard storage to premium storage</span></span>

<span data-ttu-id="25982-145">最初から適切な種類のストレージ アカウントに VHD を作成することをお勧めします。</span><span class="sxs-lookup"><span data-stu-id="25982-145">It's best to create VHDs in the correct type of storage account in the first place.</span></span> <span data-ttu-id="25982-146">しかし、要件が変わったり、需要が増えたり、あるいは間違った種類を選択したことに後から気付くこともあります。</span><span class="sxs-lookup"><span data-stu-id="25982-146">However, sometimes requirements change, demands increase, or you realize that you chose the wrong type.</span></span> <span data-ttu-id="25982-147">このような場合は、Premium Storage への移行を検討してください。</span><span class="sxs-lookup"><span data-stu-id="25982-147">Consider a move to premium storage in these situations.</span></span>

<span data-ttu-id="25982-148">移行を開始する前に、ユーザーがVM を利用できなくなるダウンタイムがある程度の発生することを考慮してください。</span><span class="sxs-lookup"><span data-stu-id="25982-148">Before starting a migration, consider that it will involve some downtime during which the VM will be unavailable to users.</span></span>

> [!NOTE]
> <span data-ttu-id="25982-149">Standard Storage から Premium Storage への移行の詳細については、「[Azure Premium Storage への移行 (非管理対象ディスク)](https://docs.microsoft.com/azure/storage/common/storage-migration-to-premium-storage)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="25982-149">For full details of the migration from standard to premium storage, see [Migrating to Azure Premium Storage (Unmanaged Disks)](https://docs.microsoft.com/azure/storage/common/storage-migration-to-premium-storage).</span></span>

<span data-ttu-id="25982-150">Azure で VM を作成する際は、コストとパフォーマンスの間で適切なバランスをとる必要があります。</span><span class="sxs-lookup"><span data-stu-id="25982-150">When you create a VM in Azure, you need to find the right balance between cost and performance.</span></span> <span data-ttu-id="25982-151">データベースなど、ディスク使用率の高いアプリケーションについては、Standard Storage よりも IO 速度が速い Premium Storage が適しています。</span><span class="sxs-lookup"><span data-stu-id="25982-151">Premium storage is a good choice for disk-intensive applications such as databases because it supports faster IO than standard storage.</span></span>
