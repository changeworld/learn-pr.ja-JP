<span data-ttu-id="4fc1c-101">バックアップは、永久的なデータ損失に対する最終かつ最強の防衛線です。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-101">Backup is the final and most powerful line of defense against permanent data loss.</span></span> <span data-ttu-id="4fc1c-102">効果的なバックアップ戦略には、単なるデータのコピーを超えるものが必要です。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-102">An effective backup strategy requires more than simply making copies of data.</span></span> <span data-ttu-id="4fc1c-103">アプリケーションのデータのアーキテクチャとインフラストラクチャを考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-103">It needs to take your application's data architecture and infrastructure into consideration.</span></span> <span data-ttu-id="4fc1c-104">アプリは、ファイル システムやデータベースなど、クラウドおよびオンプレミスのストレージ サービス全体に広がる、さまざまな重要度や種類のデータを管理します。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-104">Your app may manage many kinds of data of varying importance, spread widely across filesystems, databases, and other storage services both in the cloud and on-premises.</span></span> <span data-ttu-id="4fc1c-105">ジョブで適切なサービスや製品を使用することにより、バックアップ プロセスは簡素化されます。バックアップを復元する必要がある場合は、復旧時間が増加します。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-105">Using the right services and products for the job will simplify your backup process and increase recovery time if a backup needs to be restored.</span></span>

## <a name="establish-backup-and-restoration-requirements"></a><span data-ttu-id="4fc1c-106">バックアップおよび復元の要件を確定する</span><span class="sxs-lookup"><span data-stu-id="4fc1c-106">Establish backup and restoration requirements</span></span>

<span data-ttu-id="4fc1c-107">ディザスター リカバリー戦略では、費用便益分析に基づいてバックアップ要件を決定します。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-107">As with a disaster recovery strategy, backup requirements are based on a cost-benefit analysis.</span></span> <span data-ttu-id="4fc1c-108">アプリのデータは、データ保有期間に関する法律などの外部要件と、アプリが管理するさまざまなカテゴリのデータの相対的重要度を踏まえて分析する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-108">Analysis of your app's data should be guided by the relative importance of the different categories of data the app manages, as well as external requirements, such as data retention laws.</span></span>

<span data-ttu-id="4fc1c-109">アプリのバックアップ要件を確立するには、以下の要件に基づいてアプリケーションのデータをグループ化します。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-109">To establish backup requirements for your app, group your application's data based on the following requirements:</span></span>

* <span data-ttu-id="4fc1c-110">この種類のデータが失われても許容できる期間</span><span class="sxs-lookup"><span data-stu-id="4fc1c-110">How much of this type of data can afford to be lost, measured in duration</span></span>
* <span data-ttu-id="4fc1c-111">この種類のデータの復元にかけられる最大時間</span><span class="sxs-lookup"><span data-stu-id="4fc1c-111">The maximum amount of time a restore of this type of data should require</span></span>
* <span data-ttu-id="4fc1c-112">どのくらいの期間と頻度のバックアップを利用できるようにするかを示すバックアップ保有期間要件</span><span class="sxs-lookup"><span data-stu-id="4fc1c-112">Backup retention requirements: how long and at what frequency do backups need to remain available</span></span>

<span data-ttu-id="4fc1c-113">これらの概念は、目標復旧時点と目標復旧時間 (RPO と RTO) の概念ときれいに対応します。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-113">These concepts map neatly to the concepts of Recovery Point Objective and Recovery Time Objective (RPO and RTO).</span></span> <span data-ttu-id="4fc1c-114">一般に、損失許容期間は、必要となるバックアップ間隔と RPO に直接変換できます。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-114">The duration of acceptable loss will generally translate directly to required backup intervals and RPO.</span></span> <span data-ttu-id="4fc1c-115">復元にかかる最大時間は、アプリケーションのデータ コンポーネントの RTO に対応します。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-115">The maximum amount of time a restore takes corresponds to the RTO for the data component of your application.</span></span> <span data-ttu-id="4fc1c-116">どちらの要件も、実現にかかるコストと比較して作成する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-116">Both requirements should be developed relative to the cost of achieving them.</span></span> <span data-ttu-id="4fc1c-117">どんな組織でも、"*すべて*" のデータが失われてはならないものだと言うでしょうが、それを実現するコストを考えれば、そうでないことが多いものです。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-117">Every organization would like to say that they truly can't afford to lose *any* data, but often that's not the case when the cost of achieving that requirement is considered.</span></span>

<span data-ttu-id="4fc1c-118">もちろん、バックアップにはディザスター リカバリー (DR) という役割がありますが、バックアップや復元、およびそれに関連するシナリオは DR だけではありません。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-118">Backup absolutely plays a role in disaster recovery (DR), but backups, restores and their associated scenarios extend beyond the scope of DR.</span></span> <span data-ttu-id="4fc1c-119">バックアップは、災害以外の状況で復元しなければならなくなるかもしれません。中には、RTO や RPO が重要な関心事にはならない場合もあるでしょう。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-119">Backups may need to be restored in non-disaster situations, including those where RTO and RPO aren't of great concern.</span></span> <span data-ttu-id="4fc1c-120">たとえば、バックアップの間隔よりも古い少量のデータが破損したり削除されたりしても、アプリケーションでダウンタイムが発生していない場合なら、アプリケーションの SLA を満たせなくなる危険はなく、復元が成功すればデータが失われることもありません。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-120">For example, if a small amount of data older than your backup interval is corrupted or deleted, but the application doesn't experience downtime, your application may never be in danger of missing its SLA and a successful restore will result in no data lost.</span></span> <span data-ttu-id="4fc1c-121">ディザスター リカバリー計画には、災害以外の状況で復元を行う際のガイダンスを含めても含めなくても構いません。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-121">Your disaster recovery plan may or may not include guidance on performing restores in non-disaster situations.</span></span>

> [!TIP]
> <span data-ttu-id="4fc1c-122">"*アーカイブ*"、"*レプリケーション*"、"*バックアップ*" を混同しないようにしてください。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-122">Don't confuse *archival*, *replication*, and *backup*.</span></span> <span data-ttu-id="4fc1c-123">アーカイブは長期的な保護と読み取りアクセス用のデータのストレージです。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-123">Archival is the storage of data for long-term preservation and read access.</span></span> <span data-ttu-id="4fc1c-124">レプリケーションは、高可用性と特定のディザスター リカバリー シナリオをサポートするために、レプリカ間でデータをほぼリアルタイムにコピーすることです。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-124">Replication is the near-real-time copying of data between replicas to support high availability and certain disaster recovery scenarios.</span></span> <span data-ttu-id="4fc1c-125">データ保有期間に関する法律などのいくつかの要件は、この 3 つすべてについての戦略に影響を与える可能性があります。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-125">Some requirements, such as data retention laws, may influence your strategies for all three of these concerns.</span></span> <span data-ttu-id="4fc1c-126">アーカイブ、レプリケーション、バックアップは、すべて個別に分析して実装する必要があります。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-126">Archival, replication, and backup all require separate analysis and implementation.</span></span>

## <a name="azure-backup-and-restore-capabilities"></a><span data-ttu-id="4fc1c-127">Azure のバックアップと復元の機能</span><span class="sxs-lookup"><span data-stu-id="4fc1c-127">Azure backup and restore capabilities</span></span>

<span data-ttu-id="4fc1c-128">Azure では、Azure 内のデータやオンプレミスのデータなど、さまざまなシナリオに対応したいくつかのバックアップ関連サービスや機能を提供しています。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-128">Azure offers several backup-related services and features for various scenarios, including data in Azure as well as on-premises data.</span></span> <span data-ttu-id="4fc1c-129">ほとんどの Azure サービスでは、何種類かのバックアップ機能が提供されています。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-129">Most Azure services offer some kind of backup functionality.</span></span> <span data-ttu-id="4fc1c-130">ここでは、特に人気のあるバックアップ関連 Azure サービスをいくつか紹介します。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-130">Here, we'll look at a few of the most popular backup-related Azure offerings.</span></span>

### <a name="azure-backup"></a><span data-ttu-id="4fc1c-131">Azure Backup</span><span class="sxs-lookup"><span data-stu-id="4fc1c-131">Azure Backup</span></span>

<span data-ttu-id="4fc1c-132">Azure Backup は、保管と復旧を目的として Azure Recovery Services コンテナーにデータをバックアップするバックアップ製品のファミリです。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-132">Azure Backup is a family of backup products that back up data to Azure Recovery Services vaults for storage and recovery.</span></span> <span data-ttu-id="4fc1c-133">Recovery Service コンテナーは、専用の Azure のストレージ リソースで、仮想マシン、サーバー、および個々のワークステーションやワークロードのデータと構成のバックアップを保持します。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-133">Recovery Service vaults are storage resources in Azure that are dedicated to holding data and configuration backups for virtual machines, servers, and individual workstations and workloads.</span></span>

> [!NOTE]
> <span data-ttu-id="4fc1c-134">Azure Backup と Azure Site Recovery は、どちらもストレージとして Azure Recovery Service コンテナーを使用しています。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-134">Both Azure Backup and Azure Site Recovery use Azure Recovery Service vaults for storage.</span></span> <span data-ttu-id="4fc1c-135">Azure Backup は、汎用的なバックアップ ソリューションです。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-135">Azure Backup is a general-purpose backup solution.</span></span> <span data-ttu-id="4fc1c-136">Azure Site Recovery は、レプリケーションとフェールオーバーを協調動作させ、RPO および RTO が小さいディザスター リカバリー操作をサポートします。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-136">Azure Site Recovery can coordinate replication and failover and support low RPO and RTO disaster recovery operations.</span></span>

<span data-ttu-id="4fc1c-137">Azure Backup は、VM または物理サーバー上で動作するクラウドおよびオンプレミス ワークフロー用の汎用バックアップ ソリューションとして機能します。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-137">Azure Backup serves as a general-purpose backup solution for cloud and on-premises workflows that run on VMs or physical servers.</span></span> <span data-ttu-id="4fc1c-138">従来型のバックアップ ソリューションのドロップイン置換として設計されており、アーカイブ テープなどのローカル物理メディアではなく Azure にデータを格納します。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-138">It's designed to be a drop-in replacement for traditional backup solutions that stores data in Azure instead of archive tapes or other local physical media.</span></span>

<span data-ttu-id="4fc1c-139">Azure Backup を使用してバックアップを作成できるのは、次の 4 つの製品およびサービスです。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-139">Four different products and services can use Azure Backup to create backups:</span></span>

* <span data-ttu-id="4fc1c-140">**Azure Backup エージェント**は、小さな Windows アプリケーションで、インストールされた Windows VM またはサーバーのファイル、フォルダー、およびシステム状態のバックアップを行います。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-140">**Azure Backup Agent** is a small Windows application that backs up files, folders, and system state from the Windows VM or server on which it's installed.</span></span> <span data-ttu-id="4fc1c-141">多くのクラウド ベースのコンシューマー バックアップ ソリューションと同じように動作しますが、Azure Recovery コンテナーの構成が必要です。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-141">It works in a way that's similar to many consumer cloud-based backup solutions, but requires configuration of an Azure Recovery vault.</span></span> <span data-ttu-id="4fc1c-142">ダウンロードして Windows サーバーまたは VM にインストールすると、1 日に 3 回までバックアップを作成するように構成できます。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-142">Once you download and install it onto a Windows server or VM, you can configure it to create backups up to three times a day.</span></span>
* <span data-ttu-id="4fc1c-143">**System Center Data Protection Manager** は、あらゆる機能を備えた堅牢なエンタープライズ レベルのバックアップおよび復旧システムです。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-143">**System Center Data Protection Manager** is a robust, fully featured, enterprise-level backup and recovery system.</span></span> <span data-ttu-id="4fc1c-144">Data Protection Manager は、ファイル システムと仮想マシン (Windows および Linux) のバックアップ、物理サーバーのベア メタル バックアップの作成、SQL Server や Exchange などの多くの Microsoft サーバー製品のアプリケーション対応バックアップを行うことができる Windows Server アプリケーションです。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-144">Data Protection Manager is a Windows Server application that can back up filesystems and virtual machines (Windows and Linux), create bare-metal backups of physical servers, and perform application-aware backup of many Microsoft server products, such as SQL Server and Exchange.</span></span> <span data-ttu-id="4fc1c-145">Data Protection Manager は、System Center ファミリ製品の一部で、System Center と合わせてライセンス供与および販売されています。ただし、Azure Recovery コンテナーにバックアップを格納できるため、Azure Backup ファミリの一部と見なされます。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-145">Data Protection Manager is part of the System Center family of products and is licensed and sold with System Center, but it's considered part of the Azure Backup family because it can store backups in an Azure Recovery vault.</span></span>
* <span data-ttu-id="4fc1c-146">**Azure Backup Server** は、Data Protection Manager に似ていますが、Azure サブスクリプションの一部としてライセンス供与されるので、System Center ライセンスは必要ありません。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-146">**Azure Backup Server** is similar to Data Protection Manager, but it's licensed as part of an Azure subscription and doesn't require a System Center license.</span></span> <span data-ttu-id="4fc1c-147">Azure Backup Server は、Data Protection Manager と同様の機能をサポートしていますが、ローカル テープへのバックアップと他の System Center 製品との統合は除きます。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-147">Azure Backup Server supports the same functionality as Data Protection Manager except for local tape backup and integration with the other System Center products.</span></span>
* <span data-ttu-id="4fc1c-148">**Azure IaaS VM バックアップ**は、Azure Virtual Machines のターンキー型のバックアップおよび復元機能です。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-148">**Azure IaaS VM Backup** is a turnkey backup and restore feature of Azure Virtual Machines.</span></span> <span data-ttu-id="4fc1c-149">VM バックアップは、Windows および Linux 仮想マシンの 1 日 1 回のバックアップをサポートします。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-149">VM backup supports once-per-day backups for Windows and Linux virtual machines.</span></span> <span data-ttu-id="4fc1c-150">個々のファイル、ディスク全体、および VM 全体の復旧をサポートしており、アプリケーションと整合性が取れたバックアップを行うこともできます。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-150">It supports recovery of individual files, full disks, and entire VMs, and can also perform application-consistent backups.</span></span> <span data-ttu-id="4fc1c-151">個々のアプリケーションをバックアップ操作に対応させることや、スナップショットを作成する前にファイル システム リソースを一貫性のある状態にすることも可能です。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-151">Individual applications can be made aware of backup operations and get their filesystem resources into a consistent state before the snapshot is taken.</span></span>

![Recovery コンテナーおよび Azure 仮想マシン バックアップを使用して構成されている Azure Backup エージェントを示す図。](../media/azure-backup.png)

<span data-ttu-id="4fc1c-154">Azure Backup は、価値を追加し、ほぼすべてのサイズと形状の IaaS やオンプレミス アプリケーションのバックアップおよび復元戦略に貢献します。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-154">Azure Backup can add value and contribute to the backup and restore strategy for IaaS and on-premises applications of virtually any size and shape.</span></span>

### <a name="azure-blob-storage"></a><span data-ttu-id="4fc1c-155">Azure Blob Storage</span><span class="sxs-lookup"><span data-stu-id="4fc1c-155">Azure Blob storage</span></span>

<span data-ttu-id="4fc1c-156">Azure Storage には自動バックアップ機能は含まれませんが、BLOB はさまざまなソースからあらゆる種類のデータをバックアップする際によく使用されます。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-156">Azure Storage doesn't include an automated backup feature, but blobs are commonly used to back up all kinds of data from various sources.</span></span> <span data-ttu-id="4fc1c-157">バックアップ機能を提供するサービスの多くは、そのデータを格納する BLOB を使用します。BLOB は、あらゆる種類のバックアップ シナリオにおいて、スクリプトやツールの一般的なターゲットとなります。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-157">Many services that provide backup capabilities use blobs to store their data, and blobs are a common target for scripts and tools in every kind of backup scenario.</span></span>

<span data-ttu-id="4fc1c-158">General Purpose v2 ストレージ アカウントは、パフォーマンスやコストが異なる 3 種類の BLOB ストレージ階層をサポートします。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-158">General Purpose v2 storage accounts support three different blob storage tiers of varying performance and cost.</span></span> <span data-ttu-id="4fc1c-159">**クール** ストレージは、ほとんどのバックアップにおいてコストとパフォーマンスの比率が最高になります。逆に**ホット** ストレージでは、アクセス コストは低くなりますが、ストレージ コストは高くなります。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-159">**Cool** storage offers the best cost-to-performance ratio for most backups, as opposed to **hot** storage, which offers lower access costs but higher storage costs.</span></span> <span data-ttu-id="4fc1c-160">**アーカイブ**階層のストレージは、復旧時間への期待度が低いデータのセカンダリ バックアップに最適かもしれません。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-160">**Archive**-tier storage may be appropriate for secondary backups or backups of data with low expectations for recovery time.</span></span> <span data-ttu-id="4fc1c-161">コストは安いものの、アクセスまでのリード タイムとして最大 15 時間が必要になります。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-161">It's low in cost, but requires up to 15 hours of lead time to access.</span></span>

<span data-ttu-id="4fc1c-162">不変 BLOB ストレージは、ユーザーが指定した期間、消去不可や変更不可に構成することができます。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-162">Immutable blob storage is configurable to be non-erasable and non-modifiable for a user-specified interval.</span></span> <span data-ttu-id="4fc1c-163">不変 BLOB ストレージは、財務データなどの特定の種類のデータに求められる厳密な要件を満たすために主に設計されたものです。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-163">Immutable blob storage was designed primarily to fulfill strict requirements for certain kinds of data, such as financial data.</span></span> <span data-ttu-id="4fc1c-164">バックアップが誤って削除または変更されることを確実に防ぐことができる優れたオプションです。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-164">It's a great option for ensuring that backups are protected against accidental deletion or modification.</span></span>

### <a name="azure-sql-database"></a><span data-ttu-id="4fc1c-165">Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="4fc1c-165">Azure SQL Database</span></span>

<span data-ttu-id="4fc1c-166">Azure SQL Database では、追加料金なしで包括的な自動バックアップ機能を利用できます。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-166">Comprehensive, automatic backup functionality is included with Azure SQL Database at no extra charge.</span></span> <span data-ttu-id="4fc1c-167">完全バックアップが毎週作成され、差分バックアップが 12 時間ごと、ログ バックアップが 5 分ごとに作成されます。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-167">Full backups are created weekly, with differential backups performed every 12 hours, and log backups created every five minutes.</span></span> <span data-ttu-id="4fc1c-168">このサービスによって作成されたバックアップは、特定の時点にデータベースを復元するために使用できます。データベースが削除された場合でも復元できます。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-168">Backups created by the service can be used to restore a database to a specific point in time, even if it's been deleted.</span></span> <span data-ttu-id="4fc1c-169">復元には、Azure portal、PowerShell、または REST API を使用できます。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-169">Restores can be performed using the Azure portal, PowerShell, or the REST API.</span></span> <span data-ttu-id="4fc1c-170">Transparent Data Encryption で暗号化されているデータベースは、バックアップも暗号化されます。この機能は、既定で有効になっています。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-170">Backups for databases encrypted with Transparent Data Encryption, enabled by default, are also encrypted.</span></span>

<span data-ttu-id="4fc1c-171">SQL Database のバックアップは、エンタープライズ グレードで運用環境に使用できる準備が整っており、既定で有効になっています。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-171">SQL Database backup is enterprise-grade, production ready, and enabled by default.</span></span> <span data-ttu-id="4fc1c-172">アプリの別のデータベース オプションを評価している場合、この機能はサービスにとって重要な利点となるため、費用便益分析の一部に含める必要があります。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-172">If you're evaluating different database options for an app, it should be included as part of cost-benefit analysis, as it's a significant benefit of the service.</span></span> <span data-ttu-id="4fc1c-173">ディザスター リカバリー計画やバックアップ/復元手順に Azure SQL Database を使用するすべてのアプリを含め、そのメリットを活用するようにしてください。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-173">Every app that uses Azure SQL Database should take advantage of it by including it in their disaster recovery plan and backup/restore procedures.</span></span>

### <a name="azure-app-service"></a><span data-ttu-id="4fc1c-174">Azure App Service</span><span class="sxs-lookup"><span data-stu-id="4fc1c-174">Azure App Service</span></span>

<span data-ttu-id="4fc1c-175">Azure App Service の Standard および Premium 層にホストされた Web アプリケーションは、ターンキー型のスケジュールされたバックアップと手動バックアップをサポートします。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-175">Web applications hosted in the Azure App Service Standard and Premium tiers support turnkey scheduled and manual backups.</span></span> <span data-ttu-id="4fc1c-176">バックアップには、構成とファイルの内容に加え、アプリが使用するデータベースの内容も含まれます。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-176">Backups include configuration and file contents as well as contents of databases used by the app.</span></span> <span data-ttu-id="4fc1c-177">また、ファイルを除外するシンプルなフィルターもサポートしています。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-177">They also support simple filters for excluding files.</span></span> <span data-ttu-id="4fc1c-178">復元操作は、別の App Service インスタンスをターゲットにすることもできるので、App Service バックアップはアプリのコンテンツをシンプルに別のインスタンスに移動する方法にもなります。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-178">Restore operations can target different App Service instances, making App Service back up a simple way to move one app's contents to another.</span></span>

<span data-ttu-id="4fc1c-179">App Service バックアップは、アプリとデータベースの内容を含め、合計 10 GB に制限されます。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-179">App Service backups are limited to 10 GB total, including app and database content.</span></span> <span data-ttu-id="4fc1c-180">開発中の新しいアプリや小規模なアプリに適したソリューションです。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-180">They're a good solution for new apps under development and small-scale apps.</span></span> <span data-ttu-id="4fc1c-181">それよりも成熟したアプリケーションは、App Service バックアップを使用しないのが一般的です。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-181">More mature applications won't generally use App Service backup.</span></span> <span data-ttu-id="4fc1c-182">その代わりに、堅牢なデプロイおよびロールバック手順、アプリケーションのディスク ストレージを使わないストレージ戦略、そしてデータベースおよび永続的ストレージ向けの専用バックアップ戦略を利用します。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-182">They will instead rely on robust deployment and rollback procedures, storage strategies that don't use application disk storage, and dedicated backup strategies for databases and persistent storage.</span></span>

## <a name="verify-backups-and-test-restore-procedures"></a><span data-ttu-id="4fc1c-183">バックアップの確認と復元手順のテスト</span><span class="sxs-lookup"><span data-stu-id="4fc1c-183">Verify backups and test restore procedures</span></span>

<span data-ttu-id="4fc1c-184">バックアップの確認と復元手順のテストを行う戦略なしに完成するバックアップ システムはありません。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-184">No backup system is complete without a strategy for verifying backups and testing restore procedures.</span></span> <span data-ttu-id="4fc1c-185">専用のバックアップ サービスや製品を使う場合でも、確実に復旧手順を理解してシステムを想定された状態に戻すことができるように、復旧手順の文書化や練習を行う必要があります。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-185">Even if you use a dedicated backup service or product, you should still document and practice recovery procedures to ensure that they're well-understood and return the system to the expected state.</span></span>

<span data-ttu-id="4fc1c-186">バックアップを確認するための戦略はさまざまで、インフラストラクチャの性質に依存します。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-186">Strategies for verifying backups vary and will depend on the nature of your infrastructure.</span></span> <span data-ttu-id="4fc1c-187">アプリケーションを新しくデプロイする、バックアップを復元する、2 つのインスタンスの状態を比較するなどの手法を検討したいと思う方もいるかもしれません。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-187">You may want to consider techniques, such as creating a new deployment of the application, restoring the backup to it, and comparing the state of the two instances.</span></span> <span data-ttu-id="4fc1c-188">多くの場合、この手法は実際のディザスター リカバリー手順にとてもよく似ています。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-188">In many cases, this technique closely mimics actual disaster recovery procedures.</span></span> <span data-ttu-id="4fc1c-189">バックアップを作成した直後に、バックアップ データとライブ データのサブセットを比較するだけでも十分です。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-189">Simply performing a comparison of a subset of the backup data with the live data immediately after creating a backup is enough.</span></span> <span data-ttu-id="4fc1c-190">バックアップ確認の一般的なコンポーネントは、古いバックアップがまだ有効でいつでも利用可能であることと、バックアップ システムが互換性を失うような形で変更されていないことを確保するために、古いバックアップを復元しようとします。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-190">A common component of backup verification is attempting to restore old backups to ensure that they're still available and operational, and that the backup system hasn't changed in a way that renders them incompatible.</span></span>

<span data-ttu-id="4fc1c-191">災害から復旧する際に、バックアップが破損していたり、不完全だったりすることがわかることに比べれば、どのような戦略も優れています。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-191">Any strategy is better than finding out that your backups are corrupted or incomplete while attempting to recover from a disaster.</span></span>

<span data-ttu-id="4fc1c-192">バックアップと復元の戦略は、アーキテクチャが確実にデータの損失や破損を復旧できるようにする上で重要な一部となります。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-192">A backup and restore strategy is an important part of ensuring your architecture can recover from the loss or corruption of data.</span></span> <span data-ttu-id="4fc1c-193">アーキテクチャを確認して、バックアップと復元の要件を定義してください。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-193">Review your architecture to define your backup and restore requirements.</span></span> <span data-ttu-id="4fc1c-194">Azure は、すべてのアーキテクチャにバックアップおよび復元機能を提供するために、いくつかのサービスと機能を提供しています。</span><span class="sxs-lookup"><span data-stu-id="4fc1c-194">Azure provides several services and features to provide backup and restore capabilities to any architecture.</span></span>
