<span data-ttu-id="ba7c9-101">多くのアプリケーションでは、何かが発生したときやいくつかのオブジェクトが変更されたとき、発行サブスクライブ モデルを使用して、分散されているコンポーネントに通知を行います。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-101">Many applications use a publish-subscribe model to notify distributed components that something happened, or that some object changed.</span></span> <span data-ttu-id="ba7c9-102">Azure で実行される Web API を使用する音楽共有アプリケーションがあるとします。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-102">Suppose you have a music-sharing application with a Web API that runs in Azure.</span></span> <span data-ttu-id="ba7c9-103">ユーザーが新しい曲をアップロードしたとき、そのジャンルに関心を持つ世界中のユーザーのデバイスにインストールされているすべてのモバイル アプリに通知する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-103">When a user uploads a new song, you need to notify all the mobile apps installed on user devices around the world who are interested in that genre.</span></span>

<span data-ttu-id="ba7c9-104">このアーキテクチャでは、音声ファイルの発行者は、共有される音楽に関心を持つサブスクライバーを知っている必要はありません。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-104">In this architecture, the publisher of the sound file doesn't need to know about any of the subscribers interested in the shared music.</span></span> <span data-ttu-id="ba7c9-105">また、一対多の関係を用意し、複数のサブスクライバーがこの新しい曲に関心があるかどうかを自由に選択できるようにします。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-105">Also, we want to have a one-to-many relationship where we can have multiple subscribers who can optionally decide whether they are interested in this new song.</span></span> <span data-ttu-id="ba7c9-106">Azure Event Grid は、このようなアーキテクチャに最適なソリューションです。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-106">Azure Event Grid is a perfect solution for this sort of architecture.</span></span>

## <a name="what-is-azure-event-grid"></a><span data-ttu-id="ba7c9-107">Azure Event Grid とは</span><span class="sxs-lookup"><span data-stu-id="ba7c9-107">What is Azure Event Grid?</span></span>
<span data-ttu-id="ba7c9-108">Azure Event Grid は、Azure Service Fabric を基盤として実行されるフル マネージドのイベント ルーティング サービスです。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-108">Azure Event Grid is a fully-managed event routing service running on top of Azure Service Fabric.</span></span> <span data-ttu-id="ba7c9-109">Event Grid とは、Azure Blob Storage アカウントや Azure Media Services などのさまざまなソースから Azure Functions や Webhook などのさまざまなハンドラーに_イベント_を配布します。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-109">Event Grid distributes _events_ from different sources, such as Azure Blob storage accounts or Azure Media Services, to different handlers, such as Azure Functions or Webhooks.</span></span> <span data-ttu-id="ba7c9-110">Event Grid は、Azure でイベントベースのアプリケーションやサーバーレスのアプリケーションを簡単にビルドできるように開発されました。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-110">Event Grid was created to make it easier to build event-based and serverless applications on Azure.</span></span>

<span data-ttu-id="ba7c9-111">Event Grid はほとんどの Azure サービスを発行者またはサブスクライバーとしてサポートしています。また、サードパーティのサービスでも使用できます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-111">Event Grid supports most Azure services as a publisher or subscriber and can be used with third-party services.</span></span> <span data-ttu-id="ba7c9-112">動的に規模を変更できる低コストのメッセージング システムを備え、発行者はサブスクライバーに状態の変化について通知できます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-112">It provides a dynamically scalable, low-cost, messaging system that allows publishers to notify subscribers about a status change.</span></span> <span data-ttu-id="ba7c9-113">次は、Azure Event Grid が複数のソースからメッセージを受信し、サブスクリプションに基づいてそれらをイベント ハンドラーに配布している図です。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-113">The following illustration shows Azure Event Grid receiving messages from multiple sources and distributing them to event handlers based on subscription.</span></span>

<span data-ttu-id="ba7c9-114">Azure Event Grid には、ソースをサブスクライバーに接続する概念がいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-114">There are several concepts in Azure Event Grid that connect a source to a subscriber:</span></span>

1. <span data-ttu-id="ba7c9-115">**イベント:** 発生内容。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-115">**Events:** What happened.</span></span>
1. <span data-ttu-id="ba7c9-116">**イベント ソース:** イベントの発生場所。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-116">**Event sources:** Where the event took place.</span></span>
1. <span data-ttu-id="ba7c9-117">**トピック:** 発行者がイベントを送信するエンドポイント。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-117">**Topics:** The endpoint where publishers send events.</span></span>
1. <span data-ttu-id="ba7c9-118">**イベント サブスクリプション:** イベントを (時には複数のハンドラーに) ルーティングするエンドポイントまたは組み込みメカニズム。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-118">**Event subscriptions:** The endpoint or built-in mechanism to route events, sometimes to multiple handlers.</span></span> <span data-ttu-id="ba7c9-119">サブスクリプションは、受信イベントをインテリジェントにフィルター処理する目的でハンドラーによっても使用されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-119">Subscriptions are also used by handlers to filter incoming events intelligently.</span></span>
1. <span data-ttu-id="ba7c9-120">**イベント ハンドラー:** イベントに反応するアプリまたはサービス。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-120">**Event handlers:** The app or service reacting to the event.</span></span>

![複数のイベント ソースと複数のイベント ハンドラーの間に配置された Azure Event Grid を示す図。](../media/4-event-grid.png)

### <a name="what-is-an-event"></a><span data-ttu-id="ba7c9-125">イベントとは</span><span class="sxs-lookup"><span data-stu-id="ba7c9-125">What is an event?</span></span>
<span data-ttu-id="ba7c9-126">**イベント**は Event Grid を通過するデータ メッセージであり、発生した内容を伝えます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-126">**Events** are the data messages passing through Event Grid that describe what has taken place.</span></span> <span data-ttu-id="ba7c9-127">各イベントは自己完結型であり、最大 64 KB になります。Event Grid により定義されるスキーマに基づいていくつかの情報が含まれます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-127">Each event is self-contained, can be up to 64 KB, and contains several pieces of information based on a schema defined by Event Grid:</span></span>

```json
[
  {
    "topic": string,
    "subject": string,
    "id": string,
    "eventType": string,
    "eventTime": string,
    "data":{
      object-unique-to-each-publisher
    },
    "dataVersion": string,
    "metadataVersion": string
  }
]
```

| <span data-ttu-id="ba7c9-128">フィールド</span><span class="sxs-lookup"><span data-stu-id="ba7c9-128">Field</span></span> | <span data-ttu-id="ba7c9-129">説明</span><span class="sxs-lookup"><span data-stu-id="ba7c9-129">Description</span></span> |
|-------|-------------|
| <span data-ttu-id="ba7c9-130">**topic**</span><span class="sxs-lookup"><span data-stu-id="ba7c9-130">**topic**</span></span> | <span data-ttu-id="ba7c9-131">イベント ソースの完全なリソース パス。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-131">The full resource path to the event source.</span></span> <span data-ttu-id="ba7c9-132">この値は Event Grid によって指定されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-132">Event Grid provides this value.</span></span> |
| <span data-ttu-id="ba7c9-133">**subject**</span><span class="sxs-lookup"><span data-stu-id="ba7c9-133">**subject**</span></span> | <span data-ttu-id="ba7c9-134">発行者が定義した、イベントの対象のパス。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-134">Publisher-defined path to the event subject.</span></span> |
| <span data-ttu-id="ba7c9-135">**id**</span><span class="sxs-lookup"><span data-stu-id="ba7c9-135">**id**</span></span> | <span data-ttu-id="ba7c9-136">イベントの一意の識別子。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-136">The unique identifier for event.</span></span> |
| <span data-ttu-id="ba7c9-137">**eventType**</span><span class="sxs-lookup"><span data-stu-id="ba7c9-137">**eventType**</span></span> | <span data-ttu-id="ba7c9-138">このイベント ソース用に登録されたいずれかのイベントの種類。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-138">One of the registered event types for this event source.</span></span> <span data-ttu-id="ba7c9-139">これは `CustomerCreated`、`BlobDeleted`、`HttpRequestReceived` などに対してフィルターを作成できる値です。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-139">This is a value you can create filters against, e.g. `CustomerCreated`, `BlobDeleted`, `HttpRequestReceived`, etc.</span></span> |
| <span data-ttu-id="ba7c9-140">**eventTime**</span><span class="sxs-lookup"><span data-stu-id="ba7c9-140">**eventTime**</span></span> | <span data-ttu-id="ba7c9-141">プロバイダーの UTC 時刻に基づく、イベントが生成された時刻。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-141">The time the event was generated based on the provider's UTC time.</span></span> |
| <span data-ttu-id="ba7c9-142">**data**</span><span class="sxs-lookup"><span data-stu-id="ba7c9-142">**data**</span></span> | <span data-ttu-id="ba7c9-143">イベントの種類に関連する特定の情報。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-143">Specific information that is relevant to the type of event.</span></span> <span data-ttu-id="ba7c9-144">たとえば、Azure Storage で作成されている新しいファイルに関するイベントには、`lastTimeModified` 値など、ファイルの詳細が含まれます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-144">For example, an event about a new file being created in Azure Storage has details about the file, such as the `lastTimeModified` value.</span></span> <span data-ttu-id="ba7c9-145">または、Event Hubs イベントには、キャプチャ ファイルの URL が含まれます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-145">Or, an Event Hubs event has the URL of the Capture file.</span></span> <span data-ttu-id="ba7c9-146">このフィールドは省略可能です。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-146">This field is optional.</span></span> |
| <span data-ttu-id="ba7c9-147">**dataVersion**</span><span class="sxs-lookup"><span data-stu-id="ba7c9-147">**dataVersion**</span></span> | <span data-ttu-id="ba7c9-148">データ オブジェクトのスキーマ バージョン。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-148">The schema version of the data object.</span></span> <span data-ttu-id="ba7c9-149">スキーマ バージョンは発行者によって定義されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-149">The publisher defines the schema version.</span></span> |
| <span data-ttu-id="ba7c9-150">**metadataVersion**</span><span class="sxs-lookup"><span data-stu-id="ba7c9-150">**metadataVersion**</span></span> | <span data-ttu-id="ba7c9-151">イベント メタデータのスキーマ バージョン。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-151">The schema version of the event metadata.</span></span> <span data-ttu-id="ba7c9-152">最上位プロパティのスキーマは Event Grid によって定義されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-152">Event Grid defines the schema of the top-level properties.</span></span> <span data-ttu-id="ba7c9-153">この値は Event Grid によって指定されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-153">Event Grid provides this value.</span></span> |

> [!TIP]
> <span data-ttu-id="ba7c9-154">Event Grid はイベントを送信し、何かが発生したか、変化したことを示します。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-154">Event Grid sends an event to indicate something has happened or changed.</span></span> <span data-ttu-id="ba7c9-155">しかしながら、変更された_実際のオブジェクト_はイベント データに含まれません。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-155">However, the _actual object_ that was changed is not part of the event data.</span></span> <span data-ttu-id="ba7c9-156">その代わり、多くの場合、変更されたオブジェクトを参照する目的で、URL または識別子が渡されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-156">Instead, a URL or identifier is often passed to reference the changed object.</span></span>

### <a name="what-is-an-event-source"></a><span data-ttu-id="ba7c9-157">イベント ソースとは</span><span class="sxs-lookup"><span data-stu-id="ba7c9-157">What is an event source?</span></span>
<span data-ttu-id="ba7c9-158">イベント ソースは、Event Grid にイベントを送信する役割を担います。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-158">Event sources are responsible for sending events to Event Grid.</span></span> <span data-ttu-id="ba7c9-159">各イベント ソースは、1 つまたは複数のイベントの種類に関連付けられます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-159">Each event source is related to one or more event types.</span></span> <span data-ttu-id="ba7c9-160">たとえば、Azure Storage は、BLOB 作成イベントのイベント ソースです。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-160">For example, Azure Storage is the event source for blob created events.</span></span> <span data-ttu-id="ba7c9-161">IoT Hub は、デバイスによって作成されたイベントのためのイベント ソースです。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-161">IoT Hub is the event source for device created events.</span></span> <span data-ttu-id="ba7c9-162">自分で定義したカスタム イベントのイベント ソースになるのは自分のアプリケーションです。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-162">Your application is the event source for custom events that you define.</span></span> <span data-ttu-id="ba7c9-163">イベント ソースについては、この後で詳しく説明します。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-163">We'll look at event sources in more detail in a moment.</span></span>

> [!NOTE]
> <span data-ttu-id="ba7c9-164">Azure Event Hub では、イベント発行者の概念も定義されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-164">Azure Event Hub also defines the concept of an Event Publisher.</span></span> <span data-ttu-id="ba7c9-165">Event Hub の発行者は、Event Grid にイベントを送信することを決定するユーザーまたは組織です。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-165">A publisher to Event Hub is the user or organization that decides to send events to Event Grid.</span></span> <span data-ttu-id="ba7c9-166">たとえば、Microsoft はいくつかの Azure サービスのためのイベントを発行しています。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-166">For example, Microsoft publishes events for several Azure services.</span></span> <span data-ttu-id="ba7c9-167">イベントは自分のアプリケーションから発行できます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-167">You can publish events from your own application.</span></span> <span data-ttu-id="ba7c9-168">Azure の外でサービスをホストしている組織は、Event Grid からイベントを発行できます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-168">Organizations that host services outside of Azure can publish events through Event Grid.</span></span> <span data-ttu-id="ba7c9-169">これは多くの場合、イベント ソースと混同されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-169">This often gets mixed with the event source.</span></span> <span data-ttu-id="ba7c9-170">イベント ソースを完全に定義すると、発行者と、その発行者のためにイベントを生成する特定のサービスということになります。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-170">The event source fully defined is the publisher and the specific service generating the event for that publisher.</span></span> <span data-ttu-id="ba7c9-171">ここでは、Event Hub にメッセージを送信するエンティティを表す目的で "発行者" と "イベント ソース" を区別なく使用します。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-171">Here, we will use "publisher" and "event source" interchangeably to represent the entity sending the message to Event Hub.</span></span>

### <a name="what-is-an-event-topic"></a><span data-ttu-id="ba7c9-172">イベント トピックとは</span><span class="sxs-lookup"><span data-stu-id="ba7c9-172">What is an event topic?</span></span>
<span data-ttu-id="ba7c9-173">イベント トピックはイベントをグループに分類するものです。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-173">Event topics categorize events into groups.</span></span> <span data-ttu-id="ba7c9-174">トピックはパブリック エンドポイントによって表されます。また、イベント ソースによりイベントが送信される_送信先_です。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-174">Topics are represented by a public endpoint and are where the event source sends events _to_.</span></span> <span data-ttu-id="ba7c9-175">アプリケーションを設計するとき、作成するトピック数を決定できます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-175">When designing your application, you can decide how many topics to create.</span></span> <span data-ttu-id="ba7c9-176">大規模なソリューションであれば、関連イベントのカテゴリ別にカスタム トピックが作成されます。小規模なソリューションであれば、すべてのイベントが 1 つのトピックに送信されることがあります。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-176">Larger solutions will create a custom topic for each category of related events, while smaller solutions might send all events to a single topic.</span></span> <span data-ttu-id="ba7c9-177">たとえば、ユーザー アカウントの変更と注文の処理に関連するイベントを送信するアプリケーションがあるものとします。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-177">For example, consider an application that sends events related to modifying user accounts and processing orders.</span></span> <span data-ttu-id="ba7c9-178">イベント ハンドラーで両方のイベント カテゴリが必要になることはまずありません。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-178">It's unlikely any event handler wants both categories of events.</span></span> <span data-ttu-id="ba7c9-179">2 つのカスタム トピックを作成し、関心のあるトピックをイベント ハンドラーがサブスクライブできるようにします。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-179">Create two custom topics and let event handlers subscribe to the one that interests them.</span></span> <span data-ttu-id="ba7c9-180">イベントのサブスクライバーはフィルターを適用し、特定のトピックから自分が求めるイベントの種類だけに絞り込むことができます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-180">Event subscribers can filter for the event types they want from a specific topic.</span></span>

<span data-ttu-id="ba7c9-181">トピックは**システム** トピックと**カスタム** トピックに分割されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-181">Topics are divided into **system** topics, and **custom** topics.</span></span>

#### <a name="system-topics"></a><span data-ttu-id="ba7c9-182">システム トピック</span><span class="sxs-lookup"><span data-stu-id="ba7c9-182">System topics</span></span>
<span data-ttu-id="ba7c9-183">システム トピックは、Azure サービスが提供する組み込みのトピックです。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-183">System topics are built-in topics provided by Azure services.</span></span> <span data-ttu-id="ba7c9-184">発行者がトピックを所有するため、Azure サブスクリプションにはシステム トピックが表示されませんが、トピックをサブスクライブすることはできます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-184">You don't see system topics in your Azure subscription because the publisher owns the topics, but you can subscribe to them.</span></span> <span data-ttu-id="ba7c9-185">サブスクライブするには、イベントの発信元になるリソースに関する情報を入力します。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-185">To subscribe, you provide information about the resource you want to receive events from.</span></span> <span data-ttu-id="ba7c9-186">そのリソースにアクセスできる限り、そのイベントをサブスクライブできます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-186">As long as you have access to the resource, you can subscribe to its events.</span></span>

#### <a name="custom-topics"></a><span data-ttu-id="ba7c9-187">カスタム トピック</span><span class="sxs-lookup"><span data-stu-id="ba7c9-187">Custom topics</span></span>
<span data-ttu-id="ba7c9-188">カスタム トピックは、アプリケーションとサード パーティのトピックです。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-188">Custom topics are application and third-party topics.</span></span> <span data-ttu-id="ba7c9-189">カスタム トピックを作成した、またはカスタム トピックへのアクセス権を割り当てられた場合、サブスクリプション内にそのカスタム トピックが表示されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-189">When you create or are assigned access to a custom topic, you see that custom topic in your subscription.</span></span>

### <a name="what-is-an-event-subscription"></a><span data-ttu-id="ba7c9-190">イベント サブスクリプションとは</span><span class="sxs-lookup"><span data-stu-id="ba7c9-190">What is an event subscription?</span></span>
<span data-ttu-id="ba7c9-191">イベント サブスクリプションにより、イベント ハンドラーが受信を求めるトピックのイベントが定義されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-191">Event Subscriptions define which events on a topic an event handler wants to receive.</span></span> <span data-ttu-id="ba7c9-192">サブスクリプションでは、その種類かその件名でイベントをフィルタリングできます。そのため、イベント ハンドラーが確実に関連イベントのみを受信できるようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-192">A subscription can also filter events by their type or subject, so you can ensure an event handler only receives relevant events.</span></span>

### <a name="what-is-an-event-handler"></a><span data-ttu-id="ba7c9-193">イベント ハンドラーとは</span><span class="sxs-lookup"><span data-stu-id="ba7c9-193">What is an event handler?</span></span>
<span data-ttu-id="ba7c9-194">イベント ハンドラー (イベント "サブスクライバー" と呼ばれることもあります) とは、Event Grid からイベントを受信できるあらゆるコンポーネント (アプリケーションまたはリソース) のことです。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-194">An event handler (sometimes referred to as an event "subscriber") is any component (application or resource) that can receive events from Event Grid.</span></span> <span data-ttu-id="ba7c9-195">たとえば、Azure Functions は、新しい曲が BLOB ストレージ アカウントに追加されたことに応答してコードを実行できます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-195">For example, Azure Functions can execute code in response to the new song being added to the Blob storage account.</span></span> <span data-ttu-id="ba7c9-196">サブスクライバーは、自分が処理するイベントを決定できます。新しいイベントが使用できるようになると、関心のある各サブスクライバーに Event Grid から効率的に通知されます。ポーリングは必要ありません。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-196">Subscribers can decide which events they want to handle and Event Grid will efficiently notify each interested subscriber when a new event is available - no polling required.</span></span>

## <a name="types-of-event-sources"></a><span data-ttu-id="ba7c9-197">イベント ソースの種類</span><span class="sxs-lookup"><span data-stu-id="ba7c9-197">Types of event sources</span></span>
<span data-ttu-id="ba7c9-198">イベントは、次の種類の Azure リソースを使用して生成できます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-198">Events can be generated by the following Azure resource types:</span></span>

- <span data-ttu-id="ba7c9-199">**Azure サブスクリプションとリソース グループ:** サブスクリプションとリソース グループは、Azure の管理オプションに関連するイベントを生成します。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-199">**Azure Subscriptions and Resource Groups:** Subscriptions and resource groups generate events related to management operations in Azure.</span></span> <span data-ttu-id="ba7c9-200">たとえば、ユーザーが仮想マシンを作成した場合、このソースによってイベントが生成されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-200">For example, when a user creates a virtual machine, this source generates an event.</span></span>
- <span data-ttu-id="ba7c9-201">**コンテナー レジストリ:** レジストリにあるイメージが追加、削除、変更されたとき、Azure Container Registry サービスによってイベントが生成されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-201">**Container registry:** The Azure Container Registry service generates events when images in the registry are added, removed, or changed.</span></span>
- <span data-ttu-id="ba7c9-202">**イベント ハブ:** イベント ハブはさまざまなデータ ソースからのイベントを処理し、格納するために使用できます。通常、ロギング関連または利用統計情報関連になります。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-202">**Event Hub:** Event Hub can be used to process and store events from a variety of data sources - typically logging or telemetry related.</span></span> <span data-ttu-id="ba7c9-203">イベント ハブでは、ファイルがキャプチャされたとき、Event Grid にイベントが生成されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-203">Event Hub can generate events to Event Grid when files are captured.</span></span>
- <span data-ttu-id="ba7c9-204">**Service Bus:** アクティブなメッセージがあるが、アクティブなリスナーがいないとき、Service Bus では Event Grid にイベントが生成されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-204">**Service Bus:** Service bus can generate events to Event Grid when there are active messages with no active listeners.</span></span>
- <span data-ttu-id="ba7c9-205">**ストレージ アカウント:** ユーザーが BLOB、ファイル、テーブル エントリ、キュー メッセージを追加するとき、ストレージ アカウントではイベントが生成されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-205">**Storage accounts:** Storage accounts can generate events when users add blobs, files, table entries, or queue messages.</span></span> <span data-ttu-id="ba7c9-206">イベント ソースとしては、BLOB アカウントと汎用 V2 アカウントの両方を使用できます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-206">You can use both blob accounts and General-purpose V2 accounts as event sources.</span></span>
- <span data-ttu-id="ba7c9-207">**Media Services:** Media Services は動画および音声メディアをホストし、メディア ファイルの高度な管理機能を提供します。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-207">**Media Services:** Media Services hosts video and audio media and provides advanced management features for media files.</span></span> <span data-ttu-id="ba7c9-208">Media Services では、エンコード ジョブが動画ファイルで開始されたときや完了したときに、イベントが生成されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-208">Media Services can generate events when an encoding job is started or completed on a video file.</span></span>
- <span data-ttu-id="ba7c9-209">**Azure IoT Hub:** IoT Hub は IoT デバイスと通信し、それから利用統計情報を収集します。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-209">**Azure IoT Hub:** IoT Hub communicates with and gathers telemetry from IoT devices.</span></span> <span data-ttu-id="ba7c9-210">そのような通信が届くと、イベントが生成されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-210">It can generate events whenever such communications arrive.</span></span>
- <span data-ttu-id="ba7c9-211">**カスタム イベント:** カスタム イベントは、REST API を使用するか、Java、GO、.NET、Node、Python、Ruby 上で Azure SDK を使用して生成されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-211">**Custom events:** Custom events can be generated using the REST API, or with the Azure SDK on Java, GO, .NET, Node, Python, and Ruby.</span></span> <span data-ttu-id="ba7c9-212">たとえば、Azure App Service の Web Apps 機能でカスタム イベントを作成できます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-212">For example, you could create a custom event in the Web Apps feature of Azure App Service.</span></span> <span data-ttu-id="ba7c9-213">これは、ストレージ キューからメッセージがピックアップされるとき、worker ロールで発生する場合があります。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-213">This can happen in the worker role when it picks up a message from a storage queue.</span></span>

<span data-ttu-id="ba7c9-214">Azure 内でさまざまなイベント ソースが深く統合されることにより、ほとんどすべての Azure リソースに関連するイベントが Event Grid により配信されます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-214">This deep integration with diverse event sources within Azure ensures that Event Grid can distribute events that relate to almost any Azure resource.</span></span>

## <a name="event-handlers"></a><span data-ttu-id="ba7c9-215">イベント ハンドラー</span><span class="sxs-lookup"><span data-stu-id="ba7c9-215">Event handlers</span></span>
<span data-ttu-id="ba7c9-216">Azure の次のオブジェクトの種類では、Event Grid からイベントを受け取ってそれを処理できます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-216">The following object types in Azure can receive and handle events from Event Grid:</span></span>

- <span data-ttu-id="ba7c9-217">**Azure Functions:** Azure 関数は Azure で実行されるカスタム コードで構成され、ホスト仮想サーバーやコンテナーはありません。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-217">**Azure Functions:** An Azure function consists of custom code that runs in Azure, with no host virtual server or container.</span></span> <span data-ttu-id="ba7c9-218">イベントに対する応答をコードでカスタマイズする場合、Azure 関数をイベント ハンドラーとして使用します。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-218">Use an Azure function as an event handler when you want to code a custom response to the event.</span></span>
- <span data-ttu-id="ba7c9-219">**Webhook:** Webhook とは、プッシュ アーキテクチャを実装する Web API です。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-219">**Webhooks:** A webhook is a web API that implements a push architecture.</span></span>
- <span data-ttu-id="ba7c9-220">**Azure Logic Apps:** Azure Logic Apps は、ワークフローとしてビジネス プロセスをホストします。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-220">**Azure Logic Apps:** An Azure logic app hosts a business process as a workflow.</span></span>
- <span data-ttu-id="ba7c9-221">**Microsoft Flow:** Flow でもワークフローがホストされますが、技術スタッフ以外が簡単に使用できます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-221">**Microsoft Flow:** Flow also hosts workflows, but it is easier for non-technical staff to use.</span></span>

## <a name="should-you-use-event-grid"></a><span data-ttu-id="ba7c9-222">Event Grid を使用する場合</span><span class="sxs-lookup"><span data-stu-id="ba7c9-222">Should you use Event Grid?</span></span>
<span data-ttu-id="ba7c9-223">次の特徴が求められる場合に、Event Grid を使用します。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-223">Use Event Grid when you need these features:</span></span>

- <span data-ttu-id="ba7c9-224">**簡単:** Event Grid では、ソースをサブスクライバーに簡単に接続できます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-224">**Simplicity:** It is straightforward to connect sources to subscribers in Event Grid.</span></span>
- <span data-ttu-id="ba7c9-225">**高度なフィルタリング:** サブスクリプションでは、トピックから受け取るイベントを厳しく制限できます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-225">**Advanced filtering:** Subscriptions have close control over the events they receive from a topic.</span></span>
- <span data-ttu-id="ba7c9-226">**ファンアウト:** 同じイベントやトピックにエンドポイントを無制限にサブスクライブさせることができます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-226">**Fan-out:** You can subscribe to an unlimited number of endpoints to the same events and topics.</span></span>
- <span data-ttu-id="ba7c9-227">**信頼性** Event Grid では、イベント配信をサブスクリプションごとに最大 24 時間再試行します。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-227">**Reliability:** Event Grid retries event delivery for up to 24 hours for each subscription.</span></span>
- <span data-ttu-id="ba7c9-228">**従量課金イベント:** 送信するイベント数のみに対して支払います。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-228">**Pay-per-event:** Pay only for the number of events that you transmit.</span></span>

<span data-ttu-id="ba7c9-229">Event Grid はシンプルですが、汎用性のあるイベント配信システムです。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-229">Event Grid is a simple but versatile event distribution system.</span></span> <span data-ttu-id="ba7c9-230">これを使用すると、確実かつ迅速に個別のイベントをサブスクライバーに配信できます。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-230">Use it to deliver discrete events to subscribers, which will receive those events reliably and quickly.</span></span> <span data-ttu-id="ba7c9-231">検討するメッセージング モデルはもう 1 つあります。大規模な_ストリーム_のイベントを配信するにはどうすればよいでしょうか。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-231">We have one more messaging model to examine - what if we want to deliver a large _stream_ of events?</span></span> <span data-ttu-id="ba7c9-232">このようなシナリオの場合、Event Grid は、一度の配信で 1 つのイベントを配信するように設計されているため、最適ではありません。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-232">In this scenario, Event Grid isn't a great solution because it's designed for one-event-at-a-time delivery.</span></span> <span data-ttu-id="ba7c9-233">代わりに、別の Azure サービスである Event Hubs に目を向ける必要があります。</span><span class="sxs-lookup"><span data-stu-id="ba7c9-233">Instead, we need to turn to another Azure service: Event Hubs.</span></span>