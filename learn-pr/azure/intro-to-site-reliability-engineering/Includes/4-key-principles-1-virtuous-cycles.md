<span data-ttu-id="6792f-101">"不言実行" が真実であれば、このモジュールの核心にたどり着いたことになります。</span><span class="sxs-lookup"><span data-stu-id="6792f-101">If it is really true that in some sense “you are what you do”, then we’ve come to the heart of this module.</span></span> <span data-ttu-id="6792f-102">このユニットでは、SRE 実践の中心としばしば見なされている 2 つのプラクティスについて見ていきます。</span><span class="sxs-lookup"><span data-stu-id="6792f-102">In this unit we are going to look at two of the practices that are often considered core to the practice of SRE.</span></span> <span data-ttu-id="6792f-103">いずれも "好循環" を作ることが重要であるという原則から来ています。</span><span class="sxs-lookup"><span data-stu-id="6792f-103">Both originate from the principle that it is important to create “virtuous cycles."</span></span> <span data-ttu-id="6792f-104">ここで言う好循環とは、組織を継続的に改善するフィードバック ループを組織内で作り出すプラクティスのことです。</span><span class="sxs-lookup"><span data-stu-id="6792f-104">Virtuous cycles in this context are practices that build feedback loops in an organization that help that organization continuously get better.</span></span> <span data-ttu-id="6792f-105">この 2 つのプラクティスには後続のモジュールが用意されているので、ここでは概要だけ見ておきます。</span><span class="sxs-lookup"><span data-stu-id="6792f-105">There will be entire follow-on modules on exactly these two practices so we’re only going to skim the surface with an overview of each here.</span></span>

### <a name="virtuous-cycle-1-slis-and-slos"></a><span data-ttu-id="6792f-106">好循環 #1: SLI と SLO</span><span class="sxs-lookup"><span data-stu-id="6792f-106">Virtuous cycle #1: SLIs and SLOs</span></span>

<span data-ttu-id="6792f-107">このモジュールで先に、"適切な信頼性レベル" に向けて取り組むという大きな仕事をしました。</span><span class="sxs-lookup"><span data-stu-id="6792f-107">Earlier in this module, we made a big deal about working towards the “appropriate level of reliability”.</span></span> <span data-ttu-id="6792f-108">その概念が活かされたのはまさにそこです。</span><span class="sxs-lookup"><span data-stu-id="6792f-108">This is precisely the place where that concept gets brought to bear.</span></span>

<span data-ttu-id="6792f-109">本稼働への移行を計画している新しいサービスがあるとします (構築済みのサービスかまだ計画段階にあるサービス)。</span><span class="sxs-lookup"><span data-stu-id="6792f-109">Let’s say you have a new service you are planning to bring to production (either one that has been constructed or one that is still in the planning process).</span></span> <span data-ttu-id="6792f-110">その過程の一環として、それに望まれる信頼性についていくつかの決定を行うことが重要です。</span><span class="sxs-lookup"><span data-stu-id="6792f-110">As part of that process, it is important to make some decisions about its desired reliability.</span></span> <span data-ttu-id="6792f-111">コードをすべて自分で記述しないのであれば、決定はコードを記述する開発者と共同で行われます (このことは非常に重要です)。</span><span class="sxs-lookup"><span data-stu-id="6792f-111">If you are not writing all of the code yourself, these decisions are made (and this is crucial) in collaboration with the developers who making the thing.</span></span>

<span data-ttu-id="6792f-112">最初の決定は、サービスの正常性の指標として使用されます (Service Level Indicator/サービス レベル指標、略して SLI)。</span><span class="sxs-lookup"><span data-stu-id="6792f-112">The first decision that gets made is what will be used as indicators of the service’s health (a Service Level Indicator or SLI).</span></span> <span data-ttu-id="6792f-113">これには "システムが稼働しているか/問題なく動作しているかはどのようにして確認するか" という別の問い方があります。</span><span class="sxs-lookup"><span data-stu-id="6792f-113">Another way to ask this will be “How do you know when it's up/working well?”.</span></span> <span data-ttu-id="6792f-114">これを追跡するさまざまな方法については後で詳しく見ますが、これは通常、成功か失敗かという指標 (時間の何割かにおいてサービスが操作を正常に完了するか)、タイミングの指標 (特定の時間しきい値内で返信したか)、スループットの指標 (特定の量のデータ化を処理したか)、またはそれらすべての組み合わせになります。</span><span class="sxs-lookup"><span data-stu-id="6792f-114">There are lots of ways to track this which we'll explore in detail later, but these things are typically success vs. failure measures (does the service successfully complete an operation some percentage of the time), measures of timing (did we return an answer within a certain threshold of time), measures of throughput (did we process a certain amount of data) or combinations of all of these.</span></span> <span data-ttu-id="6792f-115">簡単な例を挙げると、Microsoft サービスの SLI は、(500 やその他のコードではなく) HTTP 200 コードで示される成功を返した頻度と言えるかもしれません。</span><span class="sxs-lookup"><span data-stu-id="6792f-115">For a simple example, we might say an SLI for our service is how often it returned success, indicated via an HTTP 200 code (vs. a 500 or some other code).</span></span>

<span data-ttu-id="6792f-116">サービスの状態を伝えるわかりやすい指標が与えられたら、サービスに期待する信頼性レベルを決定します。</span><span class="sxs-lookup"><span data-stu-id="6792f-116">Now that we have a clear indictor for how to tell how the service is doing, we’re going to want to decide what level of reliability we expect or desire from it.</span></span> <span data-ttu-id="6792f-117">たとえば、1 日という期間で 20% の失敗率をサービスに予想しますか?</span><span class="sxs-lookup"><span data-stu-id="6792f-117">For example, do we expect over a period of a day that we'll see a failure rate of 20% from the service?</span></span> <span data-ttu-id="6792f-118">端数のない大きな数を使用します。最初の段階では説明しやすいからです。</span><span class="sxs-lookup"><span data-stu-id="6792f-118">We're using round and large numbers here because they're easy to reason about in the beginning.</span></span> <span data-ttu-id="6792f-119">後続のモジュールでは、"そのエラー率はどのユーザーに表示されるのか"、"一部のユーザー?"、"ほとんどのユーザー?" など、</span><span class="sxs-lookup"><span data-stu-id="6792f-119">In later modules, we’ll increase the complexity and precision of statements like this (“which users will see that error rate? some of them? most of them?”</span></span> <span data-ttu-id="6792f-120">ステートメントの複雑性と精度を上げます。</span><span class="sxs-lookup"><span data-stu-id="6792f-120">and so on).</span></span> <span data-ttu-id="6792f-121">その期待されるものが、サービスの開発者との共同で作成される、サービス レベル目標 (SLO) です。</span><span class="sxs-lookup"><span data-stu-id="6792f-121">That expectation, created in collaboration with the service’s developer, is a Service Level Objective (SLO).</span></span>

<span data-ttu-id="6792f-122">SLO は、精確に計測し、監視システムに表示できるものでなければなりません。</span><span class="sxs-lookup"><span data-stu-id="6792f-122">The SLO needs to be something that can be accurately measured and represented in your monitoring system.</span></span> <span data-ttu-id="6792f-123">サービスの信頼性として、客観的でわかりやすい目標にします。どのくらいの数値で十分でしょうか。</span><span class="sxs-lookup"><span data-stu-id="6792f-123">It’s meant to be an objective, well understood goal for the reliability for the service—what is the number that is good enough?</span></span> <span data-ttu-id="6792f-124">"このサービスはこの 1 週間くらい問題なく稼働していると思うけど、断言するのは難しい" というのはここでは論外です。</span><span class="sxs-lookup"><span data-stu-id="6792f-124">There's no “well, I think the service has been doing ok for the last week or so, but it's kind of hard to tell” going on here.</span></span> <span data-ttu-id="6792f-125">サービスがその SLO を満たすかどうかは、データではっきりさせてください。</span><span class="sxs-lookup"><span data-stu-id="6792f-125">Either the service is meeting its SLO or it isn’t, the data should be clear.</span></span> <span data-ttu-id="6792f-126">その SLO を満たしていない場合 (特に、一定期間に繰り返される)、何かに問題があり、対処する必要があります。</span><span class="sxs-lookup"><span data-stu-id="6792f-126">If it isn't meeting its SLO (especially repeatedly over a span of time), then something is wrong and needs to be addressed.</span></span>

### <a name="error-budgets"></a><span data-ttu-id="6792f-127">エラー予算</span><span class="sxs-lookup"><span data-stu-id="6792f-127">Error budgets</span></span>

<span data-ttu-id="6792f-128">サービスでその SLO が満たされない場合、組織がすぐに対処するというのは単純明快ですが、SRE では、SLO が満たされるか、それを上回る場合、この概念全体をもう 1 つ先に進めます。</span><span class="sxs-lookup"><span data-stu-id="6792f-128">It can be straightforward to understand that an organization might snap into action if a service doesn’t meet its SLO, but SRE takes this whole concept another step forward for the cases where the SLO is being met or exceeded.</span></span> <span data-ttu-id="6792f-129">SLO を利用し、"エラー予算" と呼ばれるものを作る組織があります。</span><span class="sxs-lookup"><span data-stu-id="6792f-129">Some organizations use SLOs to construct what they call “error budgets”.</span></span>

<span data-ttu-id="6792f-130">このアイデアを示すために、ここまでの説明に登場したサンプル サービスを利用します。その SLO は 80% 成功です (これは "時間の 80% は稼働していなければならない" と考えてください)。</span><span class="sxs-lookup"><span data-stu-id="6792f-130">To demonstrate this idea, lets use the sample service we’ve been discussing and its SLO of 80% success (think of it as “must be up 80% of the time”).</span></span> <span data-ttu-id="6792f-131">80% アップタイムの SLO をもって、サービスは時間の 80% は稼働していなければならないと宣言しました。</span><span class="sxs-lookup"><span data-stu-id="6792f-131">With the SLO of 80% uptime we’ve declared that our service must be up 80% of time.</span></span> <span data-ttu-id="6792f-132">それでは、残りの 20% はどうなりますか?</span><span class="sxs-lookup"><span data-stu-id="6792f-132">But what about the other 20%?</span></span> <span data-ttu-id="6792f-133">残りの 20% は停止する場合、特に "気にする" ことはありません。サービスの目標として、残りの 20% も稼働することは重要ではないと決定しているためです。</span><span class="sxs-lookup"><span data-stu-id="6792f-133">If it down that other 20%, we don’t really “care” because we’ve decided being up that extra 20% isn’t important to us as a service goal.</span></span>

<span data-ttu-id="6792f-134">それでは、その間に発生することについて気にしない場合、サービスに関して何ができるでしょうか。</span><span class="sxs-lookup"><span data-stu-id="6792f-134">So if we don’t care about what happens during that time, what can we do with the service?</span></span> <span data-ttu-id="6792f-135">確かにできることの 1 つは、いくつかの機能を追加する新しいリリースなどでアップグレードすることにより、実行中のサービスを揺るがすことです。</span><span class="sxs-lookup"><span data-stu-id="6792f-135">One thing we can certainly do is perturb the running service by upgrading it, perhaps with a new release that adds some features.</span></span> <span data-ttu-id="6792f-136">その新しいリリースが稼働し、ダウンタイムが増えないようであれば最高です。</span><span class="sxs-lookup"><span data-stu-id="6792f-136">If that new release stays up and doesn’t add any downtime, great.</span></span> <span data-ttu-id="6792f-137">その新しいリリースによってサービスの安定性が低下し、デバッグしたとき、さらに時間の 10% でエラーが返される場合、それも良しとします。</span><span class="sxs-lookup"><span data-stu-id="6792f-137">If that new release causes the service to be less stable and return errors another 10% of time as it gets debugged, still just fine.</span></span> <span data-ttu-id="6792f-138">許容される信頼性の予算内です。</span><span class="sxs-lookup"><span data-stu-id="6792f-138">We’re within our budget of allowed unreliability.</span></span>

<span data-ttu-id="6792f-139">エラー予算は、サービスの潜在的完全信頼性とその望まれる信頼性の差です (100% - 80% = 20%)。</span><span class="sxs-lookup"><span data-stu-id="6792f-139">An error budget is the difference between the service’s potential perfect reliability and its desired reliability (100% - 80% = 20%).</span></span> <span data-ttu-id="6792f-140">今回の場合、エラー予算で 20% 信頼性欠如という資金が与えられます。20% の時間は "仕様の範囲内であるから稼働していてもいなくても心配しません"。</span><span class="sxs-lookup"><span data-stu-id="6792f-140">In this case, the error budget gives us a fund of 20% unreliability—20% time where we “don’t care whether it is up or not because it will still be in spec”.</span></span>  <span data-ttu-id="6792f-141">他の予算と同じように予算が尽きるまで、その 20% の時間は好きなように使うことができます (おそらくはリリースを増やすでしょう)。</span><span class="sxs-lookup"><span data-stu-id="6792f-141">We can draw on and spend that 20% time any way we’d like (perhaps with more releases) until it is exhausted just like any other budget.</span></span>

<span data-ttu-id="6792f-142">エラー予算はまた、SLO を作らないような、満足度の低い場合に一部の組織で利用されます。</span><span class="sxs-lookup"><span data-stu-id="6792f-142">Error budgets are also used in some organizations for the less happy case, the one where you aren’t making your SLO.</span></span> <span data-ttu-id="6792f-143">その場合、上述の "措置を講じる" より少しばかり厳しい行動を選択するかもしれません。</span><span class="sxs-lookup"><span data-stu-id="6792f-143">In that case, you might to choose to do something a little more stringent than just “take an action” as mentioned above.</span></span> <span data-ttu-id="6792f-144">サービスに問題があり、先に選択した SLI で示されるように、時間の 60% だけ稼働したとします。</span><span class="sxs-lookup"><span data-stu-id="6792f-144">Let’s say our service has been having some issues and has been up just 60% of the time as indicated by the SLI we choose earlier.</span></span> <span data-ttu-id="6792f-145">目標 (SLO) は作りませんでした。</span><span class="sxs-lookup"><span data-stu-id="6792f-145">We didn’t make our objective (the SLO).</span></span> <span data-ttu-id="6792f-146">サービスはそのエラー予算を使い切っています。</span><span class="sxs-lookup"><span data-stu-id="6792f-146">Our service has used up its error budget.</span></span> <span data-ttu-id="6792f-147">この時点でシステムをさらに揺るがすとおそらくは信頼性を悪化させるだけなので、組織は予定のリリースを控えることを選択することがあります。</span><span class="sxs-lookup"><span data-stu-id="6792f-147">The organization may choose to hold back on a planned release because it knows that perturbing the system even further at this point is likely to only further worsen the reliability situation.</span></span> <span data-ttu-id="6792f-148">エラー予算は通常、一定の期間、つまり、1 か月や 1 四半期に対して計算されるか、サービスの信頼性が許すとき、その予算が戻るように、ローリング基準で計算されます。</span><span class="sxs-lookup"><span data-stu-id="6792f-148">Error budgets are usually calculated for a set period of time--a month, quarter, and so on--or on a rolling basis so eventually if the service reliability approves, that budget returns.</span></span>

<span data-ttu-id="6792f-149">組織はリリースを控える間、サービスでその SLO が達成できない問題の源を見つけ、改善する目的で、機能開発から信頼性作業にエンジニアリング リースの一部を移すことがあります。</span><span class="sxs-lookup"><span data-stu-id="6792f-149">During this time of gated releases, the organization might choose to pivot some engineering resources away from feature development towards reliability work to help uncover and improve the source of the problems that caused the service to blow its SLO.</span></span>

<span data-ttu-id="6792f-150">エラー予算の話になるとき "一部の組織" と表現する理由は、その実装方法にあります。特に、リリースを控える場合、組織内で何らかの同意を得る必要があります。</span><span class="sxs-lookup"><span data-stu-id="6792f-150">The reason why we say “some organizations” when it comes to error budgets is their implementation, especially in the case where it's used to gate releases, requires a certain institutional buy-in.</span></span> <span data-ttu-id="6792f-151">組織はリリース決定に直面したとき、それを快く伝えなければなりません。現時点までのサービスの信頼性に問題があれば、そのリリースは控えられます。</span><span class="sxs-lookup"><span data-stu-id="6792f-151">The organization has to be willing to say that when faced with a release decision, if the reliability of the service to date hasn’t been up to snuff, that release will be held back.</span></span> <span data-ttu-id="6792f-152">そのような決定を快く行えるのは一部の組織だけです。</span><span class="sxs-lookup"><span data-stu-id="6792f-152">That’s not a decision all organizations are willing to make.</span></span> <span data-ttu-id="6792f-153">これはまた、エラー予算の枯渇に対する唯一の応答ではなく、最も議論される応答です。</span><span class="sxs-lookup"><span data-stu-id="6792f-153">This is also not the only possible response to a depleted error budget, but it is the one most talked about.</span></span>

<span data-ttu-id="6792f-154">SLI、SLO、エラー予算の詳細については個別のモジュールでたくさんお話ししますが、これらのプラクティスを好循環という側面から強調することには意味があります。</span><span class="sxs-lookup"><span data-stu-id="6792f-154">We’ll be talking in considerably more detail about SLIs, SLOs, and error budgets in a separate module, but it is worthwhile highlighting the virtuous cycle aspect of these practices.</span></span> <span data-ttu-id="6792f-155">それは理論上、より良い信頼性を目指して皆を働かせるように、組織がサービスの信頼性を説明し、伝達し、信頼性に基づいて行動する手法を与えます。</span><span class="sxs-lookup"><span data-stu-id="6792f-155">In theory, it provides a way for an organization to describe, communicate, and act on the reliability of a service in a way that gets everyone working towards better reliability.</span></span> <span data-ttu-id="6792f-156">このフィードバック ループは非常に重要であることがあります。</span><span class="sxs-lookup"><span data-stu-id="6792f-156">This feedback loop can be incredibly important.</span></span>

## <a name="virtuous-cycle-2-blameless-postmortems"></a><span data-ttu-id="6792f-157">好循環 #2: 責めない事後分析</span><span class="sxs-lookup"><span data-stu-id="6792f-157">Virtuous cycle #2: blameless postmortems</span></span>

<span data-ttu-id="6792f-158">事後分析、つまり、通常は望まれない重大なイベントを遡及的に分析するという考えは、サイト リライアビリティ エンジニアリングだけに固有ではありません。</span><span class="sxs-lookup"><span data-stu-id="6792f-158">The idea of a postmortem—the retrospective analysis of a significant, usually undesired event—is not even remotely specific to site reliability engineering.</span></span> <span data-ttu-id="6792f-159">事業の世界では珍しいことですらありません。</span><span class="sxs-lookup"><span data-stu-id="6792f-159">It isn't even uncommon to the operations world.</span></span> <span data-ttu-id="6792f-160">他とは違うことがあるとすれば、SRE では事後分析に "責めないこと" が求められるということです。</span><span class="sxs-lookup"><span data-stu-id="6792f-160">One thing that is closer to being distinctive is SRE’s insistence that postmortems need to be “blameless.”</span></span> <span data-ttu-id="6792f-161">特定の人の行動ではなく、問題を起こしたプロセスやテクノロジの失敗に集中的に取り組む必要があります。</span><span class="sxs-lookup"><span data-stu-id="6792f-161">They need to focus on the failure of the process or the technology doing the incident, not the actions of specific people.</span></span> <span data-ttu-id="6792f-162">"失敗につながった動作を X に許したプロセスを置いたのはどういうことか。</span><span class="sxs-lookup"><span data-stu-id="6792f-162">“What was it about the process we had in place that allowed X to do the thing that led to the failure?</span></span> <span data-ttu-id="6792f-163">間違った結論が導かれたとき、その担当者はどのような情報が利用できなかったのか。あるいは、どのような情報が目立っていたのか。</span><span class="sxs-lookup"><span data-stu-id="6792f-163">What information did that person not have available, or even prominent at the moment that led to them coming to the wrong conclusion?</span></span> <span data-ttu-id="6792f-164">そのような壊滅的な障害が起こらないようにするには、どのような種類のガードレールを置くべきであったのか。"</span><span class="sxs-lookup"><span data-stu-id="6792f-164">What sort of guardrails should have been in place so it wasn’t possible to have such a catastrophic failure take place?”</span></span> <span data-ttu-id="6792f-165">責めない事後分析では、このような質問が行われます。</span><span class="sxs-lookup"><span data-stu-id="6792f-165">These are the sort of questions that are asked in a blameless postmortem.</span></span>

<span data-ttu-id="6792f-166">こうした質問の質と方向が非常に重要です。</span><span class="sxs-lookup"><span data-stu-id="6792f-166">The tenor and direction of these questions is crucial.</span></span> <span data-ttu-id="6792f-167">システムを改善するための方法を模索するものであり、良かれと思ってした行動でダウンタイムを引き起こした個人を罰するためのものではありません。</span><span class="sxs-lookup"><span data-stu-id="6792f-167">They are searching for ways to improve the systems, not ways to punish the individuals whose use of those work on systems in good faith contributed to the outage.</span></span> <span data-ttu-id="6792f-168">"攻撃ばかりでは信頼されない" ということを覚えておいてください。</span><span class="sxs-lookup"><span data-stu-id="6792f-168">It's important to remember “You can’t fire your way to reliable”.</span></span> <span data-ttu-id="6792f-169">私の経験では、(ごくわずかな例外はありますが) 運用環境で問題が発生するたびに人を解雇する組織はその問題から何も学びません。</span><span class="sxs-lookup"><span data-stu-id="6792f-169">In my experience, an organization that fires a person every time there is a production incident (with very few exceptions), will not learn from those incidents.</span></span> <span data-ttu-id="6792f-170">何も学ばないどころか、ひとりの人間が置き去りにされ、隅っこで震え、それが何であれ、変えることを恐れるようになります。</span><span class="sxs-lookup"><span data-stu-id="6792f-170">Instead, there will be a single individual left, shaking in the corner, afraid to make any changes to anything at all.</span></span>

<span data-ttu-id="6792f-171">しかしながら、組織で事後分析プロセスを正しく機能させると好循環が生まれます。</span><span class="sxs-lookup"><span data-stu-id="6792f-171">But a well functioning post-mortem process in an organization creates a virtuous cycle.</span></span> <span data-ttu-id="6792f-172">組織はダウンタイムから学び、そのシステムを継続的に改善できます (適切な分析と事後処理が行われるなら)。</span><span class="sxs-lookup"><span data-stu-id="6792f-172">It lets the organization learn from its outages and continuously improve its systems (providing proper analysis and followup is done).</span></span>

<span data-ttu-id="6792f-173">障害やエラーとこのように付き合うこと、つまり、組織が失敗を学習と改善のための機会と捉えることが、サイト リライアビリティ エンジニアリングの中心的原則です。</span><span class="sxs-lookup"><span data-stu-id="6792f-173">This relationship to failures and errors—embraced by the organization as opportunities for learning and improvement—is a core principle of site reliability engineering.</span></span> <span data-ttu-id="6792f-174">好循環を作り、機会を活かし、組織の信頼性を上げる方向に導くことがもう 1 つの中心的原則です。</span><span class="sxs-lookup"><span data-stu-id="6792f-174">The construction of virtuous cycles to make use of these opportunities and to guide the organization towards greater reliability is another.</span></span>

<span data-ttu-id="6792f-175">次のユニットでは、他の原則とプラクティスについていくつか確認します。SRE の人間側に注目します。</span><span class="sxs-lookup"><span data-stu-id="6792f-175">Let’s explore some other principles and practices, those centered on the human side of SRE, in our next unit.</span></span>
