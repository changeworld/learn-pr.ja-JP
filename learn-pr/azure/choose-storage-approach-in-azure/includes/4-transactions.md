1 つのデータへの変更は、データの別の部分への変更につながる必要があるために、アプリケーションは、一連のデータの更新プログラムをグループ化する必要があります。 トランザクションを使用すると、これらの更新をグループ化して、一連の更新の 1 つのイベントが失敗した場合に、グループ全体をロールバックする、つまり元に戻すことができます。 

たとえば、オンラインの小売業者としての配置の順序と支払いの確認のトランザクションを使用可能性があります。 関連するイベントをグループ化すると、支払いの承認済みフォームを受け取るまで、在庫レベルが減りません。

ここでは、トランザクションと、データに必要ないるかどうかについて説明します。

## <a name="what-is-a-transaction"></a>トランザクションとは

トランザクションとは、データの取得や更新に対して独立して実行される論理単位です。

ここで、質問を自問して、アプリケーションでトランザクションを使用する必要があるかどうかについては、:、1 つのデータセット内のデータへの変更に影響を与える別でしょうか。 場合は、データベース サービスでトランザクションのサポートに必要な答えがはい、します。

トランザクションは、多くの場合、ACID 保証と呼ばれる 4 つの要件のセットによって定義されます。 ACID は、原子性 (Atomicity)、一貫性 (Consistency)、分離性 (Isolation)、持続性 (Durability) の頭文字です。

- 原子性は、いずれか、すべてのデータを更新すると、または、すべてのデータが元の状態にロールバックを意味します。
- 整合性により、トランザクションで起こった途中場合、データの一部が、更新プログラムから除外されていないこと。 全体を通じ、一貫した方法、またはまったくない、トランザクションが適用されます。
- 分離性は、あるトランザクションが別のトランザクションの影響を受けないことを保証します。
- 持続性とは、トランザクションによって行われた変更がシステムに永続的に保存されることを意味します。 エラーとシステムの再起動が発生しても、データを使用できるように、適切な状態で、システムによってコミットされたデータが保存されます。

データベースでは、ACID 保証を提供するときに一貫した方法で、これらの原則がすべてのトランザクションに適用されます。

## <a name="oltp-vs-olap"></a>OLTP と OLAP の比較

トランザクション データベースは、OLTP (オンライン トランザクション処理) システムと呼ばれることがよくあります。 一般に、OLTP システムでは、多数のユーザーがサポートされ、応答時間が速く、大量のデータが処理されます。 また、このシステムでは、可用性が高く (つまり、最小限のダウンタイム)、通常は小規模または比較的シンプルなトランザクションが処理されます。

一方、OLAP (オンライン分析処理) システムでは、一般に、少数のユーザーがサポートされ、応答時間が長く、可用性が低いことがあり、通常は大規模で複雑なトランザクションが処理されます。

OLTP と OLAP の用語は頻繁には、使用するが、アプリケーションのニーズを分類する簡単に理解するには使用されません。 

トランザクション、OLTP、および OLAP を理解したら、オンライン小売シナリオでは、内のデータ セットの説明をトランザクションの必要性を確認しましょう。

## <a name="product-catalog-data"></a>製品カタログ データ

製品カタログ データは、トランザクション データベースに格納する必要があります。 ユーザーが注文を出して支払いが確認されたら、品目の在庫を更新する必要があります。 同様に、客のクレジット カードが拒否された場合は、注文をロールバックし、在庫を更新しないようにする必要があります。 これらの関係はすべて、トランザクションを必要とします。

## <a name="photos-and-videos"></a>写真とビデオ

写真やビデオ、製品カタログには、トランザクションのサポートを必要としません。 これらのファイルは、更新を行うか、新しいファイルが追加される場合にのみ変更されます。 イメージと実際の製品データの間には関係がありますが、それは本質的にトランザクションではありません。

## <a name="business-data"></a>ビジネス データ

ビジネス データを履歴データや変化しない場合は、すべてのデータがトランザクションのサポートは必要ありません。 データを扱うビジネス アナリストの場合、他の小さいデータ ポイントの合計を処理できるように、クエリで集計の操作がしばしば必要になるという、独自のニーズもあります。

## <a name="summary"></a>まとめ

データを正しい状態に維持することは、簡単な作業ではない場合があります。 トランザクションを使用すると、データに対してデータ整合性要件が適用されるので、データの維持に役立つ場合があります。 データが ACID の原則を活用している場合は、トランザクションをサポートする記憶域ソリューションを選択します。