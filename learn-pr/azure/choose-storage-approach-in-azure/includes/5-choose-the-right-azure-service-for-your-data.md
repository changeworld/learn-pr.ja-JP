<span data-ttu-id="92685-101">正しいストレージ ソリューションを選択することは、パフォーマンスの向上、コストの削減、管理性の向上につながります。</span><span class="sxs-lookup"><span data-stu-id="92685-101">Choosing the correct storage solution can lead to better performance, cost savings, and improved managability.</span></span> <span data-ttu-id="92685-102">ここでは、オンライン小売りシナリオでのデータについて学習したことを適用して、各データ セットに最適な Azure サービスを見つけます。</span><span class="sxs-lookup"><span data-stu-id="92685-102">Here, you'll apply what you've learned about the data in your online retail scenario, and find the best Azure service for each data set.</span></span> 

## <a name="product-catalog-data"></a><span data-ttu-id="92685-103">製品カタログ データ</span><span class="sxs-lookup"><span data-stu-id="92685-103">Product catalog data</span></span>

<span data-ttu-id="92685-104">**データ分類:** 新製品に向けてスキーマを拡張または変更する必要があるため、半構造化</span><span class="sxs-lookup"><span data-stu-id="92685-104">**Data classification:** Semi-structured because of the need to extend or modify the schema for new products</span></span>

<span data-ttu-id="92685-105">**操作:**</span><span class="sxs-lookup"><span data-stu-id="92685-105">**Operations:**</span></span>

- <span data-ttu-id="92685-106">顧客は、データベース内の多くのフィールドを照会する機能と共に、多数の読み取り操作を必要とします。</span><span class="sxs-lookup"><span data-stu-id="92685-106">Customers require a high number of read operations, with the ability to query on many fields within the database.</span></span>
- <span data-ttu-id="92685-107">店側では、常に変化する在庫を追跡するために多数の書き込み操作が必要です。</span><span class="sxs-lookup"><span data-stu-id="92685-107">The business requires a high number of write operations to track the constantly changing inventory.</span></span>

<span data-ttu-id="92685-108">**待機時間とスループット:** 高スループットと低遅延</span><span class="sxs-lookup"><span data-stu-id="92685-108">**Latency & throughput:** High throughput and low latency</span></span>

<span data-ttu-id="92685-109">**トランザクションのサポート:** 必須</span><span class="sxs-lookup"><span data-stu-id="92685-109">**Transactional support:** Required</span></span>

### <a name="recommended-service-azure-cosmos-db"></a><span data-ttu-id="92685-110">推奨されるサービス: Azure Cosmos DB</span><span class="sxs-lookup"><span data-stu-id="92685-110">Recommended service: Azure Cosmos DB</span></span>

<span data-ttu-id="92685-111">Azure Cosmos DB では、設計上、半構造化データつまり NoSQL データがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="92685-111">Azure Cosmos DB supports semi-structured data, or NoSQL data, by design.</span></span> <span data-ttu-id="92685-112">そのため、"bluetooth"フィールドや、将来、必要な新しいフィールドなどの新しいフィールドをサポートしている、Azure Cosmos DB で指定します。</span><span class="sxs-lookup"><span data-stu-id="92685-112">So, supporting new fields, such as the "Bluetooth-enabled" field or any new fields you need in the future, is a given with Azure Cosmos DB.</span></span>

<span data-ttu-id="92685-113">Azure Cosmos DB は、クエリの SQL をサポートし、既定ですべてのプロパティのインデックスを作成します。</span><span class="sxs-lookup"><span data-stu-id="92685-113">Azure Cosmos DB supports SQL for queries and every property is indexed by default.</span></span> <span data-ttu-id="92685-114">クエリを作成するには、お客様は、カタログ内の任意のプロパティでフィルター処理できるようにします。</span><span class="sxs-lookup"><span data-stu-id="92685-114">You can create queries so that your customers can filter on any property in the catalog.</span></span>

<span data-ttu-id="92685-115">Azure Cosmos DB は ACID に準拠しているので、トランザクションは厳密な要件に従って完了します。</span><span class="sxs-lookup"><span data-stu-id="92685-115">Azure Cosmos DB is also ACID-compliant, so you can be assured that your transactions are completed according to those strict requirements.</span></span>

<span data-ttu-id="92685-116">さらに、Azure Cosmos DB ではボタンをクリックするだけで世界中のどこにでもご利用のデータをレプリケートできます。</span><span class="sxs-lookup"><span data-stu-id="92685-116">As an added plus, Azure Cosmos DB also enables you to replicate your data anywhere in the world with the click of a button.</span></span> <span data-ttu-id="92685-117">そのため、e コマース サイトに集中するが、米国、フランス、イングランドでユーザーがある場合は、ユーザーに近い位置でデータを物理的に移動したように、待機時間を短縮するこれらのデータ センターに、データをレプリケートできます。</span><span class="sxs-lookup"><span data-stu-id="92685-117">So, if your e-commerce site has users concentrated in the US, France, and England, you can replicate your data to those data centers to reduce latency, as you've physically moved the data closer to your users.</span></span> 

<span data-ttu-id="92685-118">世界では、レプリケートされたデータを使用しても、5 つの一貫性レベルのいずれかから選択できます。</span><span class="sxs-lookup"><span data-stu-id="92685-118">Even with data replicated around the world, you can choose from one of five consistency levels.</span></span> <span data-ttu-id="92685-119">適切な整合性レベルを選択することで、整合性、可用性、待機時間、スループットの間のトレードオフを決定できます。</span><span class="sxs-lookup"><span data-stu-id="92685-119">By choosing the right consistency level, you can determine the tradeoffs to make between consistency, availability, latency, and throughput.</span></span> <span data-ttu-id="92685-120">ショッピングが増える期間は高い顧客需要を処理するようにスケールアップし、少なくなったらコストを節約するためにスケールダウンすることができます。</span><span class="sxs-lookup"><span data-stu-id="92685-120">You can scale up to handle higher customer demand during peak shopping times, or scale down during slower times to conserve cost.</span></span>

### <a name="why-not-other-azure-services"></a><span data-ttu-id="92685-121">他の Azure サービスにしない理由</span><span class="sxs-lookup"><span data-stu-id="92685-121">Why not other Azure services?</span></span>

<span data-ttu-id="92685-122">新製品ごとにスキーマを拡張する必要がない場合、Azure SQL Database がこのデータ セットに対する最適な選択となります。</span><span class="sxs-lookup"><span data-stu-id="92685-122">Azure SQL Database would be an excellent choice for this data set, were it not for the need to extend the schema ad-hoc for new products.</span></span> <span data-ttu-id="92685-123">Azure SQL Database では、すべてのデータをスキーマに準拠する必要があります。</span><span class="sxs-lookup"><span data-stu-id="92685-123">In Azure SQL Database, all data needs to adhere to a schema.</span></span> <span data-ttu-id="92685-124">Azure SQL Database は、Azure Cosmos DB と同じ利点の多くを指定できますが、異種データを処理できません。</span><span class="sxs-lookup"><span data-stu-id="92685-124">Azure SQL Database can provide many of the same benefits of Azure Cosmos DB, but it cannot handle heterogeneous data.</span></span> 

<span data-ttu-id="92685-125">Azure Table Storage、HDInsight の一部としての Azure HBase、Azure Redis Cache などの他の Azure サービスも、NoSQL データを格納できます。</span><span class="sxs-lookup"><span data-stu-id="92685-125">Other Azure services, such as Azure Table storage, Azure HBase as a part of HDInsight, and Azure Redis Cache, can also store NoSQL data.</span></span> <span data-ttu-id="92685-126">このシナリオでは、ユーザーが Azure Cosmos DB より適したように複数のフィールドに対してクエリを実行する必要があります。</span><span class="sxs-lookup"><span data-stu-id="92685-126">In this scenario, users will want to query on multiple fields, so Azure Cosmos DB is a better fit.</span></span> <span data-ttu-id="92685-127">Azure Cosmos DB では、すべてのフィールドは既定では、インデックス作成が、他のサービスは、インデックス データの制限とパフォーマンスの低下のフィールドのインデックスのない結果にクエリします。</span><span class="sxs-lookup"><span data-stu-id="92685-127">Azure Cosmos DB indexes every field by default, whereas the other services are limited in the data they index, and querying on non-indexed fields results in reduced performance.</span></span>

## <a name="photos-and-videos"></a><span data-ttu-id="92685-128">写真とビデオ</span><span class="sxs-lookup"><span data-stu-id="92685-128">Photos and videos</span></span>

<span data-ttu-id="92685-129">**データの分類:** 非構造化</span><span class="sxs-lookup"><span data-stu-id="92685-129">**Data classification:** Unstructured</span></span>

<span data-ttu-id="92685-130">**操作:**</span><span class="sxs-lookup"><span data-stu-id="92685-130">**Operations:**</span></span>

- <span data-ttu-id="92685-131">ID による取得だけが必要です。</span><span class="sxs-lookup"><span data-stu-id="92685-131">Only need to be retrieved by ID.</span></span>
- <span data-ttu-id="92685-132">お客様では、短い待機時間で多数の読み取り操作が必要です。</span><span class="sxs-lookup"><span data-stu-id="92685-132">Customers require a high number of read operations with low latency.</span></span>
- <span data-ttu-id="92685-133">作成と更新はあまり頻繁ではなく、読み取り操作より待機時間が長くてもかまいません。</span><span class="sxs-lookup"><span data-stu-id="92685-133">Creates and updates will be somewhat infrequent and can have higher latency than read operations.</span></span>

<span data-ttu-id="92685-134">**待機時間とスループット**: ID による検索では、低遅延と高スループットをサポートする必要があります。</span><span class="sxs-lookup"><span data-stu-id="92685-134">**Latency & throughput:** Retrievals by ID need to support low latency and high throughput.</span></span> <span data-ttu-id="92685-135">作成と更新は、読み取り操作より待機時間が長くてもかまいません。</span><span class="sxs-lookup"><span data-stu-id="92685-135">Creates and updates can have higher latency than read operations.</span></span>

<span data-ttu-id="92685-136">**トランザクションのサポート:** 不要</span><span class="sxs-lookup"><span data-stu-id="92685-136">**Transactional support:** Not required</span></span>

### <a name="recommended-service-azure-blob-storage"></a><span data-ttu-id="92685-137">推奨されるサービス: Azure BLOB ストレージ</span><span class="sxs-lookup"><span data-stu-id="92685-137">Recommended service: Azure Blob storage</span></span>

<span data-ttu-id="92685-138">Azure BLOB ストレージでは、写真やビデオなどのファイルを格納できます。</span><span class="sxs-lookup"><span data-stu-id="92685-138">Azure Blob storage supports storing files such as photos and videos.</span></span> <span data-ttu-id="92685-139">Azure Content Delivery Network (CDN) では、最もよく使用されるコンテンツのキャッシュをエッジ サーバーに格納することもは機能します。</span><span class="sxs-lookup"><span data-stu-id="92685-139">It also works with Azure Content Delivery Network (CDN) by caching the most frequently used content and storing it on edge servers.</span></span> <span data-ttu-id="92685-140">Azure CDN では、それらのイメージをユーザーに提供して待機時間が減少します。</span><span class="sxs-lookup"><span data-stu-id="92685-140">Azure CDN reduces latency in serving up those images to your users.</span></span>

<span data-ttu-id="92685-141">Azure Blob storage を使用すると、クールまたはアーカイブ ストレージ層をホット ストレージ層からイメージを移動することも、コストの削減とフォーカスのスループット、最も頻繁に画像やビデオを表示します。</span><span class="sxs-lookup"><span data-stu-id="92685-141">By using Azure Blob storage, you can also move images from the hot storage tier to the cool or archive storage tier, to reduce costs and focus throughput on the most frequently viewed images and videos.</span></span>

### <a name="why-not-other-azure-services"></a><span data-ttu-id="92685-142">他の Azure サービスにしない理由</span><span class="sxs-lookup"><span data-stu-id="92685-142">Why not other Azure services?</span></span>

<span data-ttu-id="92685-143">アプリを実行しているのと同じサーバーが、イメージを提供しているようにを Azure App Service に、イメージをアップロードする可能性があります。</span><span class="sxs-lookup"><span data-stu-id="92685-143">You could upload your images to Azure App Service, so that the same server that is running your app is serving up your images.</span></span> <span data-ttu-id="92685-144">このソリューションは、多数のファイルを持っていない場合は有効です。</span><span class="sxs-lookup"><span data-stu-id="92685-144">This solution would work if you didn't have many files.</span></span> <span data-ttu-id="92685-145">しかし、ファイルが多い場合、およびグローバルなユーザーに対しては、Azure BLOB ストレージと Azure CDN を使用した方が、より高いパフォーマンスの結果を得られます。</span><span class="sxs-lookup"><span data-stu-id="92685-145">But if you have lots of files, and a global audience, you'll get more performant results by using Azure Blob storage with Azure CDN.</span></span>

## <a name="business-data"></a><span data-ttu-id="92685-146">ビジネス データ</span><span class="sxs-lookup"><span data-stu-id="92685-146">Business data</span></span>

<span data-ttu-id="92685-147">**データの分類:** 構造化</span><span class="sxs-lookup"><span data-stu-id="92685-147">**Data classification:** Structured</span></span>

<span data-ttu-id="92685-148">**操作:** 複数のデータベースにわたる読み取り専用の複雑な分析クエリ</span><span class="sxs-lookup"><span data-stu-id="92685-148">**Operations:** Read-only, complex analytical queries across multiple databases</span></span>

<span data-ttu-id="92685-149">**待機時間とスループット:** クエリの複雑さによっては、結果においてある程度の待機時間が予想されます。</span><span class="sxs-lookup"><span data-stu-id="92685-149">**Latency & throughput:** Some latency in the results is expected based on the complex nature of the queries.</span></span>

<span data-ttu-id="92685-150">**トランザクションのサポート:** 必須</span><span class="sxs-lookup"><span data-stu-id="92685-150">**Transactional support:** Required</span></span>

### <a name="recommended-service-azure-sql-database"></a><span data-ttu-id="92685-151">推奨されるサービス: Azure SQL Database</span><span class="sxs-lookup"><span data-stu-id="92685-151">Recommended service: Azure SQL Database</span></span>

<span data-ttu-id="92685-152">ほとんどの場合、ビジネス データのクエリはビジネス アナリストによって行われ、アナリストは他のクエリ言語より SQL をよく知っていると思われます。</span><span class="sxs-lookup"><span data-stu-id="92685-152">Business data will most likely be queried by business analysts, who are more likely to know SQL than any other query language.</span></span> <span data-ttu-id="92685-153">Azure SQL Database だけでもソリューションとして使用できますが、Azure SQL Database と Azure Analysis Services を組み合わせると、SQL Database 内のデータに対するセマンティック モデルをデータ分析によって作成することができます。</span><span class="sxs-lookup"><span data-stu-id="92685-153">Azure SQL Database could be used as the solution by itself, but pairing it with Azure Analysis Services enables data analysts to create a semantic model over the data in SQL Database.</span></span> <span data-ttu-id="92685-154">データ アナリストを共有できますが、ビジネス ユーザーのみをデータを探索して洞察をすぐに任意のビジネス インテリジェンス (BI) ツールからモデルに接続する必要があるため。</span><span class="sxs-lookup"><span data-stu-id="92685-154">The data analysts can then share it with business users, so that they only need to connect to the model from any business intelligence (BI) tool to immediately explore the data and gain insights.</span></span> 

### <a name="why-not-other-azure-services"></a><span data-ttu-id="92685-155">他の Azure サービスにしない理由</span><span class="sxs-lookup"><span data-stu-id="92685-155">Why not other Azure services?</span></span>

<span data-ttu-id="92685-156">Azure SQL Data Warehouse では OLAP ソリューションと SQL クエリがサポートされます。</span><span class="sxs-lookup"><span data-stu-id="92685-156">Azure SQL Data Warehouse supports OLAP solutions and SQL queries.</span></span> <span data-ttu-id="92685-157">しかし、ビジネス アナリストはクロス データベース クエリを実行する必要がありますが、それは Azure SQL Data Warehouse ではサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="92685-157">But your business analysts will need to perform cross-database queries, which SQL Data Warehouse does not support.</span></span>

<span data-ttu-id="92685-158">Azure SQL Database に加えて Azure Analysis Services を使用することが可能です。</span><span class="sxs-lookup"><span data-stu-id="92685-158">Azure Analysis Services could be used in addition to Azure SQL Database.</span></span> <span data-ttu-id="92685-159">Power BI で操作するために、ビジネス アナリストはよりよりも SQL に精通します。</span><span class="sxs-lookup"><span data-stu-id="92685-159">But your business analysts are more well-versed in SQL than in working with Power BI.</span></span> <span data-ttu-id="92685-160">そのため、SQL クエリをサポートしているデータベースを好みますが、Azure Analysis Services ではそれはサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="92685-160">So they'd like a database that supports SQL queries, which Azure Analysis Services does not.</span></span> <span data-ttu-id="92685-161">さらに、ビジネス データ セットに格納する財務データは、リレーショナルで多次元であるという性質を持っています。</span><span class="sxs-lookup"><span data-stu-id="92685-161">In addition, the financial data you're storing in your business data set is relational and multidimensional in nature.</span></span> <span data-ttu-id="92685-162">Azure Analysis Services ではサービス自体に格納された表形式のデータはサポートされますが、多次元データはサポートされません。</span><span class="sxs-lookup"><span data-stu-id="92685-162">Azure Analysis Services supports tabular data stored on the service itself, but not multidimensional data.</span></span> <span data-ttu-id="92685-163">Azure Analysis Services での多次元データを分析するには、SQL Database への直接クエリを使用できます。</span><span class="sxs-lookup"><span data-stu-id="92685-163">To analyze multidimensional data with Azure Analysis Services, you can use a direct query to the SQL Database.</span></span>

<span data-ttu-id="92685-164">Azure Stream Analytics はデータを分析して、それをアクションにつながる分析情報に変換する優れた手段ですが、それによって重視されるのはストリーミングされるリアルタイム データとなります。</span><span class="sxs-lookup"><span data-stu-id="92685-164">Azure Stream Analytics is a great way to analyze data and transform it into actionable insights, but its focus is on real-time data that is streaming in.</span></span> <span data-ttu-id="92685-165">このシナリオでビジネス アナリストは履歴データのみを検索します。</span><span class="sxs-lookup"><span data-stu-id="92685-165">In this scenario, the business analysts are looking at historical data only.</span></span>

## <a name="summary"></a><span data-ttu-id="92685-166">まとめ</span><span class="sxs-lookup"><span data-stu-id="92685-166">Summary</span></span>

<span data-ttu-id="92685-167">データの種類ごとに別の記憶域の要件と、ジョブに最適なソリューションを確認します。</span><span class="sxs-lookup"><span data-stu-id="92685-167">Each type of data has different storage requirements, and it's your job to figure out which solution is best.</span></span> <span data-ttu-id="92685-168">常にデータを必要な操作の種類を考慮待機時間、およびトランザクションのサポートの必要性が必要です。</span><span class="sxs-lookup"><span data-stu-id="92685-168">Always consider the type of data, the operations required, expected latency, and the need for transactional support.</span></span>