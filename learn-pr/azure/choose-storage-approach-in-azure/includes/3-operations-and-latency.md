扱っているデータの種類 (構造化、半構造化、非構造化) がわかったら、データの使用方法を決定することがもう 1 つの重要なステップです。 たとえば、オンライン小売り業者は客がすばやく製品データにアクセスできることを望み、ビジネス ユーザーは複雑な分析クエリを実行することを望みます。 これらの要件を検討し、データの分類を考慮すると、データ ストレージ アプローチの作成を始めることができます。

ここでは、データの操作を決定するときに行う必要があるいくつかの質問について説明します。

## <a name="operations-and-latency"></a>操作と待機時間

データの種類ごとに実行する主要な操作と、パフォーマンスの要件は何ですか。

具体的には、ID で単純な参照を行いますか。 データベースで 1 つまたは複数のフィールドのクエリを行う必要がありますか。 予想される作成、更新、削除の操作の量はどれくらいですか。 複雑な分析クエリを実行する必要がありますか。 これらの操作をどれくらいの速さで行う必要がありますか。

各データ セットを見ていき、要件について検討します。

### <a name="product-catalog-data"></a>製品カタログ データ

オンライン小売りシナリオの製品カタログ データは、ユーザーが最も高い優先度で必要とするものです。 ユーザーは、たとえば、製品カタログのクエリを行ってすべての男性用の靴を探し、次に販売されている男性用の靴を探し、それから特定のサイズの販売されている男性用の靴を探します。 したがって、客のニーズは、多くの読み取り操作を必要とし、特定のフィールドでクエリを行うことができる、と分類できます。

さらに、客が注文したときは、製品データの数量をアプリケーションで更新する必要もあります。 ユーザーがちょうど売り切れた商品を買い物かごに入れたりすることがないように、これらの更新操作は読み取り操作と同じくらい速く行う必要があります。そのため、多くの読み取り操作だけでなく、製品カタログ データの多くの書き込み操作も必要です。 主要なユーザーだけでなく、データベースのすべてのユーザーの優先順位を決定してください。

### <a name="photos-and-videos"></a>写真とビデオ

製品ページに表示される写真やビデオには、異なる要件があります。 サイトに表示するために高速で取得する必要がありますが、それだけでクエリを行う必要はありません。 代わりに、商品のクエリを利用して、商品データのプロパティとしてビデオ ID や URL を取得できます。 したがって、写真やビデオについては、ID 以外のデータでクエリを行う必要はありません、

さらに、ユーザーは、既存の写真やビデオを更新することはありませんが、商品レビュー用に新しい写真を追加する可能性があります。 そのため、新しい靴が写っている画像を自体でアップロードする場合があります。 また、ベンダーから提供された商品の写真のアップロードと削除も行いますが、他の商品データの更新ほど速く更新を行う必要はありません。 まとめると、写真やビデオは ID でクエリを行ってファイル全体を取得する必要がありますが、作成と更新の頻度は低く、優先順位は高くありません。  

### <a name="business-data"></a>ビジネス データ

ビジネス データの場合は、すべての分析は履歴データに対して行われます。 分析に基づいて元のデータが更新されることはありません。 そのため、ビジネス データは読み取り専用であり、ユーザーは複雑な分析がすぐに実行されることを期待してはいないので、結果を得るまでにある程度の待機時間があってもかまいません。 さらに、ユーザーはデータ セットごとに異なる書き込みアクセス権を持っているので、ビジネス データは複数のデータ セットに格納されますが、ビジネス アナリストはすべてのデータベースから読み取ることができます。

## <a name="summary"></a>まとめ

使用するストレージ ソリューションを決定するときは、データの使用方法について考える必要があります。 データのアクセス頻度はどれくらいですか。 データは読み取り専用ですか。 クエリの時間が重要ですか。 これらの質問に対する回答は、データに最適なストレージ ソリューションを決定するときの参考になります。

