扱っているデータの種類 (構造化、半構造化、非構造化) がわかったら、データの使用方法を決定することが次の重要なステップです。 たとえば、オンライン小売り業者は、顧客が製品データにすばやくアクセスする必要があることや、ビジネス ユーザーが複雑な分析クエリを実行する必要があることを知っています。 これらの要件を検討し、データの分類を考慮したら、データ ストレージ ソリューションの計画を始めることができます。

ここでは、データの操作を決定するときに行う必要があるいくつかの質問について説明します。

## <a name="operations-and-latency"></a>操作と待機時間

データの種類ごとに実行する主要な操作と、パフォーマンスの要件は何ですか。

次のように自問してみてください。

* ID を使用して単純な参照を行いますか。
* データベースで 1 つまたは複数のフィールドのクエリを実行する必要がありますか。
* 予想される作成、更新、削除の操作の量はどれくらいですか。
* 複雑な分析クエリを実行する必要がありますか。
* これらの操作をどれくらいすばやく完了する必要がありますか。

これらの質問を念頭に置きながら各データ セットを調べて、要件について検討します。

## <a name="product-catalog-data"></a>製品カタログ データ

オンライン小売りシナリオにおける製品カタログ データでは、優先度が最も高いのは顧客のニーズです。 顧客は製品カタログのクエリを実行して、たとえば、すべての男性用の靴を検索し、次に販売されている男性用の靴を検索し、それから特定のサイズの販売されている男性用の靴を検索します。 顧客のニーズによっては、多くの読み取り操作と、特定のフィールドに対してクエリを実行する機能が必要になります。

さらに、顧客が注文したら、アプリケーションでは製品の数量を更新する必要があります。 ちょうど売り切れた品をユーザーが買い物かごに入れたりすることがないように、更新操作は読み取り操作と同じくらい速く行う必要があります。その結果、大量の読み取り操作が発生するだけでなく、製品カタログ データに対して必要な書き込み操作も増加します。 主要なユーザーだけでなく、データベースのすべてのユーザーの優先順位を決定してください。

## <a name="photos-and-videos"></a>写真とビデオ

製品ページに表示される写真やビデオには、異なる要件があります。 製品カタログ データと同時にサイトに表示されるように高速で取得する必要がありますが、個別にクエリを実行する必要はありません。 代わりに、商品のクエリの結果を利用して、製品データのプロパティとしてビデオの ID や URL を含めることができます。 そのため、写真やビデオはその ID によってのみ取得する必要があります。

さらに、ユーザーが既存の写真やビデオを更新することはありません。 ただし、ユーザーは製品のレビューのために新しい写真を追加することがあります。 たとえば、新しい靴が写っている画像を独自にアップロードする場合があります。 従業員はベンダーから提供された製品の写真のアップロードと削除も行いますが、他の製品データの更新ほど速くその更新を行う必要はありません。 

まとめると、写真やビデオは ID でクエリを行ってファイル全体を取得できますが、作成と更新の頻度は低く、優先順位は高くありません。  

## <a name="business-data"></a>ビジネス データ

ビジネス データの場合は、すべての分析は履歴データに対して行われます。 分析に基づいて元のデータが更新されることはないため、ビジネス データは読み取り専用です。 ユーザーは複雑な分析がすぐに実行されることを期待してはいないので、結果を得るまでにある程度の待機時間があってもかまいません。 さらに、ユーザーはデータ セットごとに異なる書き込みアクセス権を持っているので、ビジネス データは複数のデータ セットに格納されます。 ただし、ビジネス アナリストは、すべてのデータベースから読み取りを行うことができます。

## <a name="summary"></a>まとめ

使用するストレージ ソリューションを決定するときは、データの使用方法について考えます。 データのアクセス頻度はどれくらいですか。 データは読み取り専用ですか。 クエリの時間が重要ですか。 これらの質問に対する回答は、データに最適なストレージ ソリューションを決定するときの参考になります。