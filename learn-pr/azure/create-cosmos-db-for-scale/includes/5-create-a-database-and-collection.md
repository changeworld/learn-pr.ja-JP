要求ユニットを使用してデータベース スループットを判断する方法、およびパーティション キーによってデータベースのスケールアウト戦略を作成する方法を理解できたので、データベースとコレクションを作成する準備が整いました。 スループットとパーティション キー値は、コレクションの作成時に設定する必要があります。そのため、データベースを作成する前にそれらの概念を理解することを勧めします。

## <a name="creating-your-database-and-collection"></a>データベースとコレクションを作成する

1. Azure portal で、Cosmos DB リソースの **[データ エクスプローラー]** を選択し、ツール バーの **[新しいコレクション]** ボタンをクリックします。
    
    **[コレクションの追加]** 領域が右端に表示されます。 見えない場合は右にスクロールする必要があります。

    ![Azure Portal の [データ エクスプローラー] の [コレクションの追加] ブレード](../media/5-azure-cosmosdb-data-explorer.png)

1. **[コレクションの追加]** ページで、新しいコレクションの設定を入力します。

    Setting | 推奨値 | 説明
    --------|-----------------|-------------
    データベース ID      | 製品         | 新しいデータベースの名前として「*製品*」を入力します。 データベース名は、1 ～ 255 文字の長さにする必要があります。また、/、\\、#、? は使用できず、末尾にスペースを入れることもできません。
    コレクション ID    | 衣服  | 新しいコレクションの名前として「*衣服*」を入力します。 コレクション ID には、データベース名と同じ文字要件があります。
    ストレージの容量 | 無制限     | 既定値の **[無制限]** を使用します。 この値は、データベースのストレージ容量です。データベースは必要に応じてスケールアウトできます。
    パーティション キー    | productId        | 非常に多くのクエリが主に製品 ID に基づいているので、productId は、オンライン小売りシナリオにとって適切なパーティション キーです。
    スループット       |1000 RU        | スループットを 1000 要求ユニット (RU/秒) に変更します。 1000 は、自動スケールを有効にするために設定できる最小 RU/秒値です。
    
    ここでは、**[Provision database throughput]\(データベース スループットをプロビジョニングする\)** オプションをオンにしないでください。また、コレクションに一意のキーを追加しないでください。
    
1. **[OK]** をクリックします。 新しいデータベースとコレクションがデータ エクスプローラーに表示されます。

    ![新しいデータベースとコレクションを表示している Azure portal のデータ エクスプローラー](../media/5-azure-cosmos-db-new-collection.png)

## <a name="summary"></a>まとめ

このユニットでは、パーティション キーと要求ユニットの知識を活用して、ビジネス ニーズに見合うスループットおよびスケールの設定によりデータベースとコレクションを作成しました。