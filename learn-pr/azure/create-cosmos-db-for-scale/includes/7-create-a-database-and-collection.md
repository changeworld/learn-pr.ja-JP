これで、要求ユニットを使用してデータベース スループットを判断する方法、およびパーティション キーによってデータベースのスケールアウト戦略を作成する方法を理解できたので、データベースとコレクションを作成する準備が整いました。

## <a name="creating-your-database-and-collection"></a>データベースとコレクションを作成する

1. Azure portal で、Cosmos DB リソースの **[データ エクスプローラー]** を選択し、ツール バーの **[新しいコレクション]** ボタンをクリックします。
    
    **[コレクションの追加]** 領域が右端に表示されます。 見えない場合は右にスクロールする必要があります。

    ![Azure Portal の [データ エクスプローラー] の [コレクションの追加] ブレード](../media/5-create-a-database-and-collection/azure-cosmosdb-data-explorer.png)

2. **[コレクションの追加]** ページで、新しいコレクションの設定を入力します。

    Setting | 推奨値 | 説明
    --------|-----------------|-------------
    データベース ID      | ユーザー         | 新しいデータベースの名前として *[ユーザー]* を入力します。 データベース名は 1 文字以上 255 文字以内にする必要があります。/、\\、#、? は使えず、末尾にスペースを入れることもできません。
    コレクション ID    | WebCustomers  | 新しいコレクションの名前として *WebCustomers* と入力します。 コレクション ID には、データベース名と同じ文字要件があります。
    ストレージの容量 | 無制限     | 既定値の **[無制限]** を使用します。 この値は、データベースのストレージ容量です。データベースは必要に応じてスケールアウトできます。
    パーティション キー    | UserId        | UserID はオンライン小売シナリオに適したパーティション キーといえます。非常に多くのクエリが顧客 ID に基づいているためです。
    Throughput       |1000 RU        | スループットを 1000 要求ユニット (RU/秒) に変更します。 1000 RU/秒は、自動スケーリングを有効にするために設定できる最小値です。
    
    ここでは、**[Provision database throughput]\(データベース スループットをプロビジョニングする\)** オプションをオンにしないでください。また、コレクションに一意のキーを追加しないでください。 
    
3. **[OK]** をクリックします。 データ エクスプローラーに新しいデータベースとコレクションが表示されます。

    ![新しいデータベースとコレクションを示す Azure portal のデータ エクスプローラー](../media/5-create-a-database-and-collection/azure-cosmos-db-new-collection.png)

## <a name="summary"></a>まとめ

このユニットでは、パーティション キーと要求ユニットの知識を活用して、ビジネス ニーズに見合うスループットおよびスケールの設定によりデータベースとコレクションを作成しました。