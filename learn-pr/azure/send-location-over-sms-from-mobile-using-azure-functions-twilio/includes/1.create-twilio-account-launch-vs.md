<span data-ttu-id="70ba6-101">このモジュールでは、サーバーレス バックエンドでクロスプラットフォームの Xamarin.Forms アプリを作成します。</span><span class="sxs-lookup"><span data-stu-id="70ba6-101">In this module, you'll create a cross-platform Xamarin.Forms app with a serverless back end.</span></span> <span data-ttu-id="70ba6-102">このアプリではデバイスからユーザーの場所を取得し、電話番号の一覧とともに Azure 関数に送信します。</span><span class="sxs-lookup"><span data-stu-id="70ba6-102">This app will get the user's location from their device and send it with a list of phone numbers to an Azure function.</span></span> <span data-ttu-id="70ba6-103">その後、関数ではサード パーティ サービス (Twilio) へのバインドを使用して、提供されるすべての電話番号に SMS メッセージとして場所を送信します。</span><span class="sxs-lookup"><span data-stu-id="70ba6-103">The function will then use a binding to a third-party service (Twilio) to send your location as an SMS message to all the phone numbers provided.</span></span>

<span data-ttu-id="70ba6-104">次の図に、使用されるアーキテクチャを示します。</span><span class="sxs-lookup"><span data-stu-id="70ba6-104">The following diagram shows the architecture used:</span></span>

1. <span data-ttu-id="70ba6-105">アプリでは、デバイス固有の場所 API の抽象化として Xamarin.Essentials を使用して場所をキャプチャします。</span><span class="sxs-lookup"><span data-stu-id="70ba6-105">The app captures your location using Xamarin.Essentials as an abstraction over device-specific location APIs.</span></span>
2. <span data-ttu-id="70ba6-106">場所と電話番号は JSON ペイロードにパッケージ化され、Azure 関数に送信されます。</span><span class="sxs-lookup"><span data-stu-id="70ba6-106">The location and phone numbers are packaged up into a JSON payload and sent to an Azure function.</span></span>
3. <span data-ttu-id="70ba6-107">Azure 関数では JSON ペイロードをデコードし、SMS メッセージを作成します。</span><span class="sxs-lookup"><span data-stu-id="70ba6-107">The Azure function decodes the JSON payload and creates SMS messages.</span></span>
4. <span data-ttu-id="70ba6-108">SMS メッセージは [Twilio](http://twilio.com) を介して送信されます。</span><span class="sxs-lookup"><span data-stu-id="70ba6-108">The SMS messages are sent via [Twilio](http://twilio.com).</span></span>

![ソリューションのアーキテクチャ図](../media/1-architecture.png)

## <a name="create-a-twilio-account"></a><span data-ttu-id="70ba6-110">Twilio アカウントを作成する</span><span class="sxs-lookup"><span data-stu-id="70ba6-110">Create a Twilio account</span></span>

<span data-ttu-id="70ba6-111">Azure 関数から SMS メッセージを送信できるようにするには、Twilio アカウントが必要になります。</span><span class="sxs-lookup"><span data-stu-id="70ba6-111">To be able to send SMS messages from an Azure function, you'll need a Twilio account.</span></span> <span data-ttu-id="70ba6-112">作業を開始するには無料アカウントで十分です。</span><span class="sxs-lookup"><span data-stu-id="70ba6-112">The free account is more than enough to get started.</span></span>

1. <span data-ttu-id="70ba6-113">[twilio.com](https://twilio.com) に移動します。</span><span class="sxs-lookup"><span data-stu-id="70ba6-113">Head to [twilio.com](https://twilio.com).</span></span>
2. <span data-ttu-id="70ba6-114">右上隅にある **[サインアップ]** という赤いボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="70ba6-114">Click the red **Sign Up** button in the top-right corner.</span></span>
3. <span data-ttu-id="70ba6-115">詳細を入力し、**[作業開始]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="70ba6-115">Fill in your details and click **Get Started**.</span></span>
4. <span data-ttu-id="70ba6-116">ご自分の電話番号を確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="70ba6-116">You'll need to verify your phone number.</span></span> <span data-ttu-id="70ba6-117">Twilio の無料アカウントでは、スパムに使用されないように確認済みの電話番号にのみメッセージを送信できます。</span><span class="sxs-lookup"><span data-stu-id="70ba6-117">Twilio free accounts let you send messages only to verified phone numbers to stop them being used for spam.</span></span> <span data-ttu-id="70ba6-118">Twilio によって、電話番号を確認するために入力する必要がある確認コードが送信されます。</span><span class="sxs-lookup"><span data-stu-id="70ba6-118">Twilio will send you a verification code that you need to enter to verify your phone.</span></span>
5. <span data-ttu-id="70ba6-119">"I'm here" など、最初のプロジェクト用の名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="70ba6-119">Provide a name for your first project, such as "I'm here".</span></span>
6. <span data-ttu-id="70ba6-120">Twilio のメッセージング ダッシュボードで、(ホーム アイコンがある) 左側の **[Console Dashboard]\(コンソール ダッシュボード\)** アイコンをクリックして、**[プロジェクト情報]** パネルを展開します。</span><span class="sxs-lookup"><span data-stu-id="70ba6-120">From the Twilio messaging dashboard, click the **Console Dashboard** icon on the left (it has a home icon) and expand the **Project Info** panel.</span></span> <span data-ttu-id="70ba6-121">ご自分の **ACCOUNT SID** と **AUTH TOKEN** はメモしておいてください。これらの値は後で必要になります。</span><span class="sxs-lookup"><span data-stu-id="70ba6-121">Take note of your **ACCOUNT SID** and **AUTH TOKEN** because you will need these values later.</span></span>

## <a name="launch-visual-studio"></a><span data-ttu-id="70ba6-122">Visual Studio を起動する</span><span class="sxs-lookup"><span data-stu-id="70ba6-122">Launch Visual Studio</span></span>

<span data-ttu-id="70ba6-123">このモジュールでは、仮想マシンを介して利用可能な、Visual Studio 2017 を使用してモバイル アプリと Azure Functions アプリを開発します。</span><span class="sxs-lookup"><span data-stu-id="70ba6-123">For this module, you'll develop the mobile app and Azure Functions app using Visual Studio 2017, available via a virtual machine.</span></span> <span data-ttu-id="70ba6-124">Xamarin.Forms アプリをビルドして iOS、Android、およびユニバーサル Windows プラットフォーム (UWP) を実行できますが、このモジュールでは UWP のみに焦点を合わせ、ラボの仮想マシン内で動作するようにします。</span><span class="sxs-lookup"><span data-stu-id="70ba6-124">Although Xamarin.Forms apps can be built to run on iOS, Android, and Universal Windows Platform (UWP), this module will just focus on UWP so that it works inside the lab virtual machine.</span></span> <span data-ttu-id="70ba6-125">その他のプラットフォームに固有の内容に関するリンクが提供されます。</span><span class="sxs-lookup"><span data-stu-id="70ba6-125">Links will be provided for anything specific to the other platforms.</span></span>

<!-- TODO - add HoL link button here -->

<span data-ttu-id="70ba6-126">既に Visual Studio をローカルにインストールしている場合は、ローカル インストールを使用してこのモジュールに従うことができます。</span><span class="sxs-lookup"><span data-stu-id="70ba6-126">If you already have Visual Studio installed locally, then you can follow this module using your local install.</span></span> <span data-ttu-id="70ba6-127">適切な構成がある場合は、UWP だけでなく、Android や iOS でも実行できます。</span><span class="sxs-lookup"><span data-stu-id="70ba6-127">You can run it on Android and iOS, as well as UWP, if you have the right configuration.</span></span> <span data-ttu-id="70ba6-128">適切なワークロードと SDK がインストールされていることを確認する場合は [Xamarin のインストールに関するドキュメント](https://docs.microsoft.com/xamarin/cross-platform/get-started/installation/windows)を参照し、UWP SDK については [UWP のインストールに関するドキュメント](https://docs.microsoft.com/visualstudio/cross-platform/develop-apps-for-the-universal-windows-platform-uwp#requirements)を参照してください。</span><span class="sxs-lookup"><span data-stu-id="70ba6-128">Check the [Xamarin installation docs](https://docs.microsoft.com/xamarin/cross-platform/get-started/installation/windows) to make sure you have the correct workloads and SDKs installed, and the [UWP installation docs](https://docs.microsoft.com/visualstudio/cross-platform/develop-apps-for-the-universal-windows-platform-uwp#requirements) for the UWP SDK.</span></span> <span data-ttu-id="70ba6-129">Azure Functions プロジェクトを作成できるようにするには、[Azure 開発](https://docs.microsoft.com/azure/azure-functions/functions-develop-vs#prerequisites)ワークロードをインストールする必要もあります。</span><span class="sxs-lookup"><span data-stu-id="70ba6-129">You will also need the [Azure Development](https://docs.microsoft.com/azure/azure-functions/functions-develop-vs#prerequisites) workload installed to allow creating Azure Functions projects.</span></span>

<span data-ttu-id="70ba6-130">macOS で Visual Studio for Mac を使用してこのモジュールに従う場合、UWP プロジェクトを作成することはできません。iOS または Android を対象にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="70ba6-130">If you want to follow this module on macOS using Visual Studio for Mac, then you won't be able to create the UWP project, and will have to target iOS or Android.</span></span> <span data-ttu-id="70ba6-131">Visual Studio for Mac 用のインストール手順については、[Xamarin のドキュメント](https://docs.microsoft.com/visualstudio/cross-platform/setup-and-install#mac-setup-apple-id-xcode-and-xamarin)を参照してください。アプリをビルドして発行するために行う必要がある手順は、このモジュールで示される手順と異なる場合もあります。</span><span class="sxs-lookup"><span data-stu-id="70ba6-131">You can find the installation instructions for Visual Studio for Mac in the [Xamarin docs](https://docs.microsoft.com/visualstudio/cross-platform/setup-and-install#mac-setup-apple-id-xcode-and-xamarin). The steps you will need to take to build and publish the app may also be different from those given in this module.</span></span>

## <a name="summary"></a><span data-ttu-id="70ba6-132">まとめ</span><span class="sxs-lookup"><span data-stu-id="70ba6-132">Summary</span></span>

<span data-ttu-id="70ba6-133">このユニットでは、SMS メッセージを送信するために使用する Twilio アカウントを作成し、Visual Studio を起動しました。</span><span class="sxs-lookup"><span data-stu-id="70ba6-133">In this unit, you created a Twilio account to use to send SMS messages and launched Visual Studio.</span></span> <span data-ttu-id="70ba6-134">次は、Xamarin.Forms アプリを作成し、Xamarin.Essentials NuGet パッケージを追加する方法を学習します。</span><span class="sxs-lookup"><span data-stu-id="70ba6-134">Next, you learn how to create a Xamarin.Forms app and add the Xamarin.Essentials NuGet package.</span></span>