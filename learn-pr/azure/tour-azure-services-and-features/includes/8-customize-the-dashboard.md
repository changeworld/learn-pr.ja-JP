次に、Azure Portal を使用し、基になっている JSON ファイルを直接編集することによって、ダッシュボードを作成および変更する方法を見てみましょう。

## <a name="what-is-a-dashboard"></a>ダッシュボードとは

"_ダッシュボード_" とは、Azure portal に表示される UI タイルのカスタマイズ可能なコレクションです。 タイルを追加、削除、配置して必要なビューを正確に作成してから、そのビューをダッシュボードとして保存します。 複数のダッシュボードがサポートされており、必要に応じてそれらを切り替えることができます。 自分のダッシュボードを他のチーム メンバーと共有することもできます。

ダッシュボードを使用すると、Azure を非常に柔軟に管理できます。 たとえば、組織内の特定のロール用のダッシュボードを作成した後、ロールベースのアクセス制御 (RBAC) を使用して、そのダッシュボードにアクセスできるユーザーを制御できます。 したがって、データベース管理者は SQL Database サービスのビューを含むダッシュボードを使用し、Azure Active Directory 管理者は Azure AD 内のユーザーとグループのビューを使用します。 ポータル内の運用環境と開発環境の間でポータルをカスタマイズし、管理している環境ごとに特定のダッシュボードを作成することもできます。

ダッシュボードは、JavaScript Object Notation (JSON) ファイルとして保存されます。 つまり、他のコンピューターとの間でアップロードまたはダウンロードしたり、Azure ディレクトリのメンバーと共有したりできます。 Azure では、ポータルで管理できる仮想マシンやストレージ アカウントと同様に、ダッシュボードはリソース グループ内に格納されます。

> [!TIP]
> ダッシュボードは JSON ファイルであるため、[プログラムでカスタマイズする](https://docs.microsoft.com/azure/azure-portal/azure-portal-dashboards-create-programmatically)こともできるので、魅力的な管理ツールとなっています。 さらに、一部のタイルの種類はクエリ ベースにすることができるので、ソース データが変更されたときに自動的に更新されます。

## <a name="explore-the-default-dashboard"></a>既定のダッシュボードを探索する

既定のダッシュボードには、"ダッシュボード" という名前が付けられています。 ポータルにログインすると、5 つの Web パーツを含むこのダッシュボードが表示されます。

![既定の Web パーツ](../media/8-dashboard-default-webparts.png)

既定の Web パーツは次のとおりです

1. すべてのリソース

1. Azure の概要

1. クイック スタートとチュートリアル

1. Marketplace

1. Service Health

## <a name="creating-and-managing-dashboards"></a>ダッシュボードの作成と管理

ダッシュボードの上部にあるコントロールを使用すると、ダッシュボードの作成、アップロード、ダウンロード、編集、共有を行うことができます。 また、ダッシュボードの全画面表示への切り替え、複製、または削除もできます。

![ダッシュボードのコントロールをカスタマイズする](../media/8-customise-dashboard-controls.png)

## <a name="select-dashboard"></a>ダッシュボードを選択する

ツール バーの左端に、**[ダッシュボードの選択]** ドロップダウン コントロールがあります。 このコントロールをクリックすると、お使いのアカウントで既に定義されているダッシュボードの中から選択できます。 このコントロールにより、目的の異なる複数のダッシュボードを簡単に定義し、その時に行おうとしていることに応じてダッシュボードを簡単に切り替えることができます。

作成したダッシュボードはすべて最初は非公開であることに注意してください。つまり、作成者だけが表示できます。 ダッシュボードを企業全体で使用できるようにするには、ダッシュボードを共有する必要があります。 そのオプションについては後ほど説明します。

## <a name="create-a-new-dashboard"></a>新しいダッシュボードを作成する

新しいダッシュボードを作成するには、**[新しいダッシュボード]** をクリックします。 タイルが含まれないダッシュボード ワークスペースが表示されます。 タイルを好きなように追加、削除、調整することができます。 ダッシュボードのカスタマイズが完了したら、**[カスタマイズ完了]** をクリックして保存し、そのダッシュボードに切り替えます。

## <a name="upload-and-download"></a>アップロードとダウンロード

**[アップロード]** および **[ダウンロード]** ボタンを使うと、現在のダッシュボードを JSON ファイルとしてダウンロードし、カスタマイズしてから配布およびアップロードするか、他のユーザーにそのファイルをアップロードさせて Azure portal に戻し、現在のダッシュボードを置き換えることができます。

**[ダウンロード]** をクリックすると、現在のダッシュボードが既定のダウンロード フォルダーにダウンロードされます。 ダウンロードしたファイルを開いて、JSON コードを表示します。

![ダッシュボードの JSON コード](../media/8-dashboard-json-code.png)

そのコードを手動で編集し (たとえば、タイルのサイズを変更)、**[アップロード]** ボタンをクリックして Azure に再びアップロードします。

### <a name="edit-a-dashboard"></a>ダッシュボードを編集する

JSON ファイルをダウンロードし、ファイル内の値を変更して、ファイルを Azure に アップロードすることによってダッシュボードを編集できますが、ユーザー インターフェイスをデザインする場合、この方法は直感的ではありません。 GUI を使用して現在のダッシュボードを構成するには、いくつかの方法で編集モードにします。

1. **[編集]** ボタンをクリックします。
1. ダッシュボードを右クリックし、**[編集]** をクリックします。 
1. ダッシュボードのタイルをポイントします。編集オプションと共に右上隅に `...` メニューが表示されます。

ダッシュボードが編集モードに切り替わります。

![ダッシュボードを編集する](../media/8-edit-dashboard.png)

左側のタイル ギャラリーにいくつかのタイルが表示されます。 カテゴリとリソース別に、タイル ギャラリーをフィルター処理することができます。

![タイル ギャラリー](../media/8-tile-gallery.png)

左側の一覧でタイルを選択し、作業領域にドラッグするだけで、タイルを簡単に追加できます。 その後は、各タイルを移動したり、サイズを変更したり、タイルに表示されるデータを変更したりできます。

> [!TIP]
> 多くのユーザーが気づいていない便利な機能の 1 つとして、子ブレード上の要素を取得し、ダッシュボードに配置できます。 項目をポイントし、`...` タイル編集メニューを探します。このメニューに含まれている [ダッシュボードにピン留めする] を使用すると、サービスからタイルをすばやく取得し、ダッシュボードに配置できます。

編集モードの作業領域は、正方形に分割されています。 各タイルは少なくとも 1 つの正方形を占める必要があり、タイルは最も近くて最大のタイル区分線セットにスナップされます。 重なったタイルは邪魔にならないように移動されます。 タイルを小さくすると、周辺のタイルは再び近くに移動されます。

#### <a name="change-tile-sizes"></a>タイルのサイズを変更する

一部のタイルには設定されたサイズがあり、プログラムによってのみサイズを編集できます。 ただし、右下隅に灰色のボタンがあるタイルは、そのコーナー インジケーターをドラッグすることによって編集できます。

![サイズ変更可能なタイル](../media/8-resizable-tile.png)

または、コンテキスト メニューを右クリックし、希望のサイズを指定します。

![タイルのサイズ](../media/8-tile-size.png)

ダッシュボードを作成するには、タイル ギャラリーからワークスペースにタイルを取得し、それらを再配置します。

#### <a name="change-tile-settings"></a>タイルの設定を変更する

一部のタイルには編集可能な設定があります。 たとえば、時計タイルの場合、ワークスペースにドラッグすると、**[時計の編集]** タイルが開きます。 表示するタイム ゾーンと、12 時間または 24 時間のどちらの形式で表示するかを設定できます。

![時計を編集する](../media/8-edit-clock.png)

多国籍企業や大陸横断企業の場合、異なるタイム ゾーンごとにさらに時計を追加できます。

#### <a name="accepting-your-edits"></a>編集内容の受け入れ

必要に応じてタイルを調整した後は、**[カスタマイズ完了]** をクリックするか、または右クリックして **[カスタマイズ完了]** をクリックします。

## <a name="edit-a-dashboard-by-changing-the-json-file"></a>JSON ファイルを変更することでダッシュボードを編集する

JSON ファイルを変更することで、ダッシュボードを編集することもできます。 この方法の方がより多くの設定変更オプションがありますが、Azure にファイルをアップロードして戻すまで、変更内容を見ることができません。

![JSON の設定](../media/8-json-code.png)

上の例では、タイルのサイズを変更するには、**colSpan** 変数と **rowSpan** 変数を編集した後、ファイルを保存し、それを Azure にアップロードします。 ファイルを他のユーザーに配布することもできます。

## <a name="reset-a-dashboard"></a>ダッシュボードをリセットする

ダッシュボードを既定のスタイルにリセットできます。 編集モードで右クリックして、**[既定の状態にリセット]** を選択します。 ダイアログ ボックスで、そのダッシュボードのリセットの確認を求められます。

## <a name="share-or-unshare-a-dashboard"></a>ダッシュボードを共有または共有解除する

新しく定義したダッシュボードはプライベートであり、自分のアカウントでのみ表示されます。 他のユーザーも表示できるようにするには、ダッシュボードを共有する必要があります。 ただし、他の Azure リソースと同様に、共有ダッシュボードを格納するリソース グループを指定する必要があります (または既存のリソース グループを使用します)。 既存のリソース グループがない場合は、ユーザーが指定した場所に Azure によって *dashboards* リソース グループが作成されます。 既存のリソース グループがある場合は、そのリソース グループを指定してダッシュボードを格納できます。

![共有 + アクセス制御 1](../media/8-share-dashboards-default.png)

テンプレートを共有すると、2 つ目の **[共有 + アクセス制御]** ブレードが表示されます。

![共有 + アクセス制御 2](../media/8-share-dashboards-access-control.png)

**[ユーザーの管理]** をクリックして、そのダッシュボードにアクセスできるユーザーを指定できます。

### <a name="switching-to-a-shared-dashboard"></a>共有ダッシュボードへの切り替え

共有ダッシュボードに切り替えるには、ダッシュボードの一覧をクリックして、**[すべてのダッシュボードを参照]** をクリックします。

![すべてのダッシュボードを参照](../media/8-browse-dashboards.png)

**[すべてのダッシュボード]** ブレードに共有ダッシュボードの名前が表示されます。 ダッシュボードをクリックするだけで、Azure portal に適用されます。

![共有ダッシュボード](../media/8-select-shared-dashboard.png)

## <a name="display-a-dashboard-as-a-full-screen"></a>ダッシュボードを全画面で表示する

ダッシュボードを最大サイズで表示する場合は、**[全画面表示]** ボタンをクリックすると、ブラウザーのメニューなしで現在のダッシュボードが表示されます。 画面の境界の外側に表示されているタイルがある場合は、画面の右側と下部にスライダー バーが表示されます。

全画面表示モードでの作業が終わったら、Esc キーを押すか、画面上部のダッシュボード名の横にある **[全画面表示を終了]** をクリックします。

## <a name="clone-a-dashboard"></a>ダッシュボードを複製する

ダッシュボードを複製すると、"\<ダッシュボード名> の複製" という名前のインスタント コピーが作成され、現在のダッシュボードとしてそのコピーに切り替わります。 複製により、共有する前にダッシュボードを簡単に作成することもできます。 たとえば、ほぼ望みどおりのダッシュボードがある場合は、それを複製し、必要な変更を行ってから共有します。

## <a name="delete-a-dashboard"></a>ダッシュボードを削除する

ダッシュボードを削除すると、使用可能なダッシュボードの一覧から削除されます。 ダッシュボードの削除の確認を求められますが、削除されたダッシュボードを回復する機能はありません。

新しいダッシュボードを作成して、これらのオプションを使ってみましょう。
