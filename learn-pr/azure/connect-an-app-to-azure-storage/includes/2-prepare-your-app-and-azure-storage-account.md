あなたの写真共有アプリケーションには、さまざまな種類のデータを格納する必要があります。 写真のようなバイナリ データと、ユーザー名や電子メール アドレスのようなテキスト形式のデータを格納する必要があります。 優れた開発者がそうするように、使用するストレージの形式を選択するときに、あなたは適切な設計を考慮したことを確認する必要があります。

ここでは、ストレージの戦略を選択する前に留意すべきいくつかの設計に関する考慮事項を検討します。 あなたは、使いやすく、選択した言語に適用でき、信頼性が高く、高速なものを必要としています。

## <a name="design-considerations"></a>設計上の考慮事項

Azure Storage では、インターネット経由で HTTP エンドポイントを使用して機能が公開されます。 インターネット接続に問題がある場合はどうなるでしょう? また、要求を作成するためのコードを記述したり、エンドポイントと通信したり、任意の応答を解析する必要がありますか?

## <a name="connectivity-and-networking-issues"></a>接続とネットワークの問題

ネットワークは中断なく常に使用でき、常に信頼性が高いのが理想ですが、これは現実的な目標ではありません。 ストレージはほぼすべてのアプリケーションの一部であり、Azure Storage API はネットワーク経由で公開されるため、ネットワーク停止の影響を考慮する必要があります。 Azure Storage が自分のニーズに適しているかどうかを判断するときの考慮事項の一部を次に示します。

* アプリケーションでは、Web 接続が常に維持できることを想定していますか?

Web アプリケーションを作成する場合、大抵は Web 接続が常に使用可能であると想定しています。少なくとも最初にアプリケーションにアクセスする場合はそうです。 これが確かであるとすると、オフライン シナリオを処理するために必要なコードと複雑さが減るため、アプリケーションの記述が容易になります。 デスクトップやモバイル デバイスにインストールされている Web 以外のアプリケーションでは、このような想定ができない場合があり、これはアプリケーションを設計するときに評価することです。 コンスタントな Web 接続が想定されるこれらのアプリでは、ネットワーク ドロップアウトなどの時折発生する接続エラーに少なくとも対処できる必要があります。

* Web 接続がない場合、アプリケーションの設計と実装は低下した機能セットをサポートしますか?

アプリケーションを定期的に切断できる場合、または切断した状態で少なくとも動作できる場合、アプリケーションは単にクラッシュしたりエラーを報告したりして使用できなくなるのではなく、適切に機能が低下しますか? 切断されたシナリオの対処には、多大な労力と複雑さが伴うため、これは重要な考慮事項です。 オフラインで操作できるように、必要なデータの特定の部分をローカルでデバイスに格納することができます。 接続が復元するまでアプリケーションの特定の要素を無効にする必要がありますか? これらの考慮事項はアプリケーションに固有のもので、このシナリオで必要な労力のため、早い段階で設計と実装に含めることが重要です。

## <a name="communicating-with-azure-storage"></a>Azure Storage と通信する

アプリケーションを記述するときに、処理のためにサービスに送信するデータの書式設定といった、低レベルの要素を処理するコードの記述について過度に心配したくないと思うのは当然です。 多くの場合、このタスクを大幅に簡素化するため、Azure Storage などのサービスと通信するクライアント用のライブラリが作成されます。 ただし、すべての言語にこれをサポートするクライアント ライブラリがあるわけではありません。

* 選択したテクノロジ スタックに使用可能なクライアント ライブラリはありますか?

ない場合、通常はより多くの労力を必要とする独自のサービス エンドポイント アクセス方法を作成することに満足していますか?

ライブラリが使用可能な場合、自分のテクノロジ スタックに使用可能なライブラリがあることを確認します。 .NET や Java などのより一般的なテクノロジ スタックを使用している場合、クライアント ライブラリは通常に使用できますが、Haskel や Scala などのあまり主流ではないテクノロジ スタックを使用している場合は、使用できない場合があります。 提供されたクライアント ライブラリを使用しない場合に必要となる追加の作業量は、非常に多くなることが多いため、アプリケーションの設計と実装で考慮に入れる必要があります。

このモジュールの目的のためとわかりやすくするため、ここで作成している .NET Core コンソール アプリケーションでは、インターネット接続が常に確保され、接続されていない場合には適切に機能低下するように設計されていることとします。

## <a name="summary"></a>まとめ

Azure Storage は、一連の HTTP API エンドポイント経由でその機能を公開する柔軟で強力なストレージ メカニズムです。 Azure Storage が自分のアプリケーションにとって最適な選択肢であることを確実にするため、ネットワーク接続の問題の影響と、設計および実装作業におけるライブラリ クライアントの可用性を考慮することが重要です。


