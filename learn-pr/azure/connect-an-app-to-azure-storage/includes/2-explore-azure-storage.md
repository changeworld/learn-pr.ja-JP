Azure ストレージ サービス、データのスタイル、およびアカウントの概要を取得してみましょう。 

Microsoft Azure Storage には、持続性のある、セキュリティで保護された、管理されたサービスおよびクラウドでスケーラブルなストレージです。 これらの用語を分割してみましょう。

| | |
|-|-|
| **持続性** | 冗長性により、一時的なハードウェア障害が発生した場合でも、データが安全に保たれます。 データ センターまたはローカル災害または自然災害から保護するための地理的リージョン間でデータをレプリケートすることもできます。 この方法でレプリケートされたデータは、予期しない停止が発生した場合でも高可用性を維持します。 |
| **セキュリティ保護** | Azure Storage に書き込まれたすべてのデータは、サービスによって暗号化されます。 Azure Storage では、データにアクセスできるユーザーをきめ細かく制御できます。 |
| **拡張性** | Azure Storage には、今日のアプリケーションのデータ ストレージとパフォーマンスに関するニーズを満たすために、高度にスケーラブルな設計が採用されています。 |
| **管理されています。** | メンテナンスや重大な問題は、Microsoft Azure がお客様に代わって処理します。 |

単一の Azure サブスクリプションには、それぞれが 500 TB のデータを保持できる最大 200 のストレージ アカウントをホストできます。 ビジネス ケースがある場合は、Azure Storage チームとの対話し、125 ペタバイト単位まで、最大ストレージのプッシュ サブスクリプションで最大 250 個のストレージ アカウントの承認を得る。

## <a name="azure-data-services"></a>Azure データ サービス

Azure ストレージには、次の 4 つの種類データにはが含まれています。

- **Blob**: テキストとバイナリ データの非常にスケーラブルなオブジェクト ストアです。
- **ファイル**: 管理されたファイルのクラウドの共有またはオンプレミス デプロイします。
- **キュー**: アプリケーション コンポーネント間の信頼できるメッセージング用のメッセージング ストア。
- **テーブル**: のスキーマレス ストレージ構造化データのための NoSQL ストア。 このサービスは、Cosmos DB から置き換えられ、ここでは説明しません。

Azure Storage でのこれらのデータ型はすべてからアクセスできる任意の場所の世界で HTTP または HTTPS です。 Microsoft では、REST API と、さまざまな言語での Azure Storage Sdk を提供します。 Azure portal で直接データを視覚的に確認できます。

### <a name="blob-storage"></a>Blob Storage

Azure Blob storage とは、膨大な量のテキストやバイナリ データなどの非構造化データを格納するために最適化された、オブジェクト ストレージ ソリューションです。 BLOB ストレージは、次の目的に最適です。

- 画像または完全に静的な web サイトなど、ブラウザーに直接ドキュメントを配信します。
- 分散アクセス用にファイルを格納する。
- ビデオおよびオーディオをストリーミング配信する。
- バックアップと復元、ディザスター リカバリー、およびアーカイブのデータを格納します。
- オンプレミス サービスまたは Azure ホステッド サービスで分析するデータを格納する。

Azure Storage でサポートされている 3 種類の BLOB:

| Blob の種類 | 説明 |
|-----------|-------------|
| **ブロック BLOB** | ブロック blob を使用してテキストを格納またはバイナリ ファイルのサイズまで最大で 5 TB (100 MB の 50,000 ブロック) します。 ブロック BLOB は主に、始めから終わりまで読み込まれるファイルの保存に使用されます。メディア ファイルや Web サイトの画像ファイルなどです。 統合 (コミット)、最終的な blob が、小さなブロックとして 100 MB より大きいファイルをアップロードする必要があるために、ブロック blob が付けられました。 |
| **ページ BLOB** | ページ blob が保持するために使用されるランダム アクセス ファイルのサイズを 8 tb までです。 ページ blob は、Azure Virtual Machines (Azure Vm) の持続性のあるディスクを提供するために使用する Vhd のバックアップ用ストレージとして主に使用されます。 512 バイト ページを読み書きするランダム アクセスを提供するため、ページ BLOB という名前が付いています。 |
| **追加 BLOB** | 追加の blob が作られるようなブロック blob、ブロックが用に最適化されている操作を追加します。 これらは同じ blob に 1 つまたは複数のソースのログ情報を頻繁に使用されます。 たとえば、すべての複数の Vm で実行されているアプリケーションの同じ追加 blob にログ、トレースを記述する可能性があります。 1 つの追加 BLOB は最大 195 GB になります。 |

### <a name="files"></a>ファイル

Azure Files では、標準のサーバー メッセージ ブロック (SMB) プロトコルを使用してアクセスできる可用性の高いネットワーク ファイル共有を設定することができます。 これは、複数の Vm が読み取り/書き込みアクセスの両方で同じファイルを共有できることを意味します。 また、REST インターフェイスまたはストレージ クライアント ライブラリを使用してファイルを読み取ることもできます。 一定の時間のプライベート ファイルに対するきめ細かいアクセスを許可する任意のファイルへの一意の URL を関連付けることもできます。 ファイル共有は、多くの一般的なシナリオで使用できます。

- すべてのユーザーが同じバージョンを使用してように、Vm、ツール、またはユーティリティの共有の構成ファイルを保存します。
- ログ、メトリック、診断などのファイルと、クラッシュ ダンプ。
- 時間の期間にわたってアプリのクラウドへの移行を許可するには、オンプレミス アプリケーションと Azure Vm 間で共有データ。

### <a name="queues"></a>キュー

Azure Queue サービスは、メッセージの保管と取得に使用します。 キューに許容されるメッセージ サイズは最大 64 KB で、1 つのキューに数百万件のメッセージを格納することができます。 一般に、非同期的に処理するメッセージのリストを格納するのがキューの用途となります。

キューを使用して、疎、アプリケーションのさまざまな部分を結び付けることができます。 たとえば、ユーザーによってアップロードされた写真の画像処理を実行しますでした。 おそらくなんらかの顔検出を提供するまたは人は、すべてのイメージを検索できますので、機能をタグ付け、サービスに保存されています。 キューを使用して、当社の画像を処理できる新しいイメージがアップロードされているし、処理可能なことを知ることがサービスにメッセージを渡す可能性があります。 この種のアーキテクチャを使用すると、開発およびサービスの各部分を個別に更新ができます。

## <a name="azure-storage-accounts"></a>Azure ストレージ アカウント

アプリケーションからこれらのサービスにアクセスするには、作成する必要がある、_ストレージ アカウント_します。 ストレージ アカウントは、保存して、データ オブジェクトにアクセスする Azure の一意の名前空間を提供します。 ストレージ アカウントには、blob、ファイル、キュー、テーブル、およびそのアカウントで作成した VM ディスクが含まれています。

### <a name="creating-a-storage-account"></a>ストレージ アカウントの作成

Azure portal、Azure PowerShell、または Azure CLI を使用して Azure ストレージ アカウントを作成することができます。 Azure Storage では、さまざまな価格と機能がサポートされている 3 つの個別のアカウント オプションを提供します。

> [!div class="mx-tableFixed"]
> | アカウントの種類 | 説明 |
> |--------------|-------------|
> | **汎用 v2 (GPv2)** | 汎用 v2 (GPv2) アカウントは、BLOB、ファイル、キュー、テーブルの最新機能すべてをサポートするストレージ アカウントです。 GPv2 アカウントの価格は、最も低いギガバイトの料金を配信する設計されています。 |
> | **汎用 v1 (GPv1)** | 汎用 v1 (GPv1) アカウントのすべての Azure ストレージ サービスへのアクセスを提供するが、最新の機能またはあたりギガバイトの料金には、最低を持っていません。 たとえば、GPv1 では、クール ストレージとアーカイブ ストレージがサポートされません。 この種類のアカウントは、GPv1 トランザクションの料金が比較的低いため、変更頻度が高いワークロードや読み取り速度が速いワークロードでメリットが得られることがあります。 |
> | **Blob Storage アカウント** | 従来のアカウントの種類では、blob ストレージ アカウントすべては、同じブロック blob の機能として、GPv2 がブロックのみをサポートしているに限定されており、追加 blob。 価格については、汎用 v2 アカウントと大きな違いはありません。 |

ストレージ アカウントの作成に関する詳細を表示する場合は、ことを経由することを確認して、 **Azure ストレージ アカウントを作成**ラーニング ポータルでのモジュール。