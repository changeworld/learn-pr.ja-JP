<span data-ttu-id="92c4e-101">単純なブックマーク参照サービスを作成するとします。</span><span class="sxs-lookup"><span data-stu-id="92c4e-101">Imagine that you want to create a simple bookmark lookup service.</span></span> <span data-ttu-id="92c4e-102">このサービスは、最初は読み取り専用です。</span><span class="sxs-lookup"><span data-stu-id="92c4e-102">Your service is read-only initially.</span></span> <span data-ttu-id="92c4e-103">ユーザーは、エントリを見つけるときに、そのエントリの ID を含む要求を送信すると、URL が返されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-103">If users want to find an entry, they send a request with the ID of the entry and you return the URL.</span></span> <span data-ttu-id="92c4e-104">次のフローチャートはこのフローを示しています。</span><span class="sxs-lookup"><span data-stu-id="92c4e-104">The following flowchart explains the flow:</span></span>

![Cosmos DB バックエンドでブックマークを見つけるプロセスを示すフロー図。](../media/5-find-bookmark-flow-small.png)

<span data-ttu-id="92c4e-109">ユーザーからテキストを含む要求が送信されたら、キーまたは ID としてそのテキストを含むエントリをバックエンド データベースで検索することを試みます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-109">When users send you a request with some text, you try to find an entry in your back-end database that contains this text as a key or ID.</span></span> <span data-ttu-id="92c4e-110">そのエントリが見つかったかどうかを示す結果を返します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-110">You return a result that indicates whether you found the entry.</span></span>

<span data-ttu-id="92c4e-111">データはどこかに保存する必要があります。</span><span class="sxs-lookup"><span data-stu-id="92c4e-111">You need to store the data somewhere.</span></span> <span data-ttu-id="92c4e-112">このフローチャートでは、データ ストアは Azure Cosmos DB インスタンスです。</span><span class="sxs-lookup"><span data-stu-id="92c4e-112">In this flowchart, the data store is an Azure Cosmos DB instance.</span></span> <span data-ttu-id="92c4e-113">しかし、関数からデータベースに接続し、データを読み取るにはどうすればよいのでしょうか。</span><span class="sxs-lookup"><span data-stu-id="92c4e-113">But how do you connect to a database from a function and read data?</span></span> <span data-ttu-id="92c4e-114">関数の世界では、そのジョブのために "*入力バインディング*" を構成します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-114">In the world of functions, you configure an *input binding* for that job.</span></span>  <span data-ttu-id="92c4e-115">Azure portal では、バインディングを簡単に構成できます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-115">Configuring a binding through the Azure portal is straightforward.</span></span> <span data-ttu-id="92c4e-116">この後説明しますが、ストレージ接続を開くなどのタスクのコードを記述する必要はありません。</span><span class="sxs-lookup"><span data-stu-id="92c4e-116">As you'll see shortly, you don't have to write code for such tasks as opening a storage connection.</span></span> <span data-ttu-id="92c4e-117">Azure Functions ランタイムとバインディングによって、これらのタスクが自動的に処理されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-117">The Azure Functions runtime and bindings take care of those tasks for you.</span></span>

## <a name="create-an-azure-cosmos-db-account"></a><span data-ttu-id="92c4e-118">Azure Cosmos DB アカウントを作成する</span><span class="sxs-lookup"><span data-stu-id="92c4e-118">Create an Azure Cosmos DB account</span></span>

> [!NOTE]
> <span data-ttu-id="92c4e-119">このユニットは Azure Cosmos DB のチュートリアルではありません。</span><span class="sxs-lookup"><span data-stu-id="92c4e-119">This unit is not intended to be a tutorial on Azure Cosmos DB.</span></span> <span data-ttu-id="92c4e-120">このモジュールの修了後、詳細を学ぶことに関心がある場合は、Cosmos DB の完全なラーニング パスがあります。</span><span class="sxs-lookup"><span data-stu-id="92c4e-120">There is a complete learning path on Cosmos DB if you are interested in learning more after finishing this module.</span></span>

### <a name="create-a-database-account"></a><span data-ttu-id="92c4e-121">データベース アカウントを作成する</span><span class="sxs-lookup"><span data-stu-id="92c4e-121">Create a database account</span></span>

<span data-ttu-id="92c4e-122">データベース アカウントとは、1 つ以上のデータベースを管理するためのコンテナーです。</span><span class="sxs-lookup"><span data-stu-id="92c4e-122">A database account is a container for managing one or more databases.</span></span> <span data-ttu-id="92c4e-123">データベースを作成するには、データベース アカウントを作成しておく必要があります。</span><span class="sxs-lookup"><span data-stu-id="92c4e-123">Before we can create a database, we need to create a database account.</span></span>

1. <span data-ttu-id="92c4e-124">サンドボックスをアクティブ化したときと同じアカウントを使用して [Azure portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true) にサインインしていることを確認します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-124">Make sure you are signed into the [Azure portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true) using the same account you activated the sandbox with.</span></span>

1. <span data-ttu-id="92c4e-125">Azure portal の左上隅にある **[リソースの作成]** ボタンを選択し、**[データベース]** > **[Azure Cosmos DB]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-125">Select the **Create a resource** button found on the upper left-hand corner of the Azure portal, then select **Databases** > **Azure Cosmos DB**.</span></span>

1. <span data-ttu-id="92c4e-126">**[新しいアカウント]** ページで、新しい Azure Cosmos DB アカウントの設定を入力します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-126">In the **New account** page, enter the settings for the new Azure Cosmos DB account.</span></span>

    | <span data-ttu-id="92c4e-127">設定</span><span class="sxs-lookup"><span data-stu-id="92c4e-127">Setting</span></span> | <span data-ttu-id="92c4e-128">値</span><span class="sxs-lookup"><span data-stu-id="92c4e-128">Value</span></span> | <span data-ttu-id="92c4e-129">説明</span><span class="sxs-lookup"><span data-stu-id="92c4e-129">Description</span></span> |
    |---------|-------|-------------|
    | <span data-ttu-id="92c4e-130">ID</span><span class="sxs-lookup"><span data-stu-id="92c4e-130">ID</span></span> |<span data-ttu-id="92c4e-131"><*一意の名前を入力*></span><span class="sxs-lookup"><span data-stu-id="92c4e-131">*Enter a unique name*</span></span>|<span data-ttu-id="92c4e-132">この Azure Cosmos DB アカウントを識別するための一意の名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-132">Enter a unique name to identify this Azure Cosmos DB account.</span></span> <span data-ttu-id="92c4e-133">指定した ID に `documents.azure.com` が追加されて URI が作成されるので、一意であっても識別可能な ID を使用してください。</span><span class="sxs-lookup"><span data-stu-id="92c4e-133">Because `documents.azure.com` is appended to the ID that you provide to create your URI, use a unique but identifiable ID.</span></span><br><br><span data-ttu-id="92c4e-134">ID には英小文字、数字、ハイフン (-) のみを使用できます。また、3 から 50 文字である必要があります。</span><span class="sxs-lookup"><span data-stu-id="92c4e-134">The ID can contain only lowercase letters, numbers, and the hyphen (-) character, and it must contain 3 to 50 characters.</span></span> |
    | <span data-ttu-id="92c4e-135">API</span><span class="sxs-lookup"><span data-stu-id="92c4e-135">API</span></span> |<span data-ttu-id="92c4e-136">SQL</span><span class="sxs-lookup"><span data-stu-id="92c4e-136">SQL</span></span>|<span data-ttu-id="92c4e-137">API によって、作成するアカウントの種類が決まります。</span><span class="sxs-lookup"><span data-stu-id="92c4e-137">The API determines the type of account to create.</span></span> <span data-ttu-id="92c4e-138">Azure Cosmos DB には、アプリケーションのニーズに応じて、SQL (ドキュメント データベース)、Gremlin (グラフ データベース)、MongoDB (ドキュメント データベース)、Azure Table、Cassandra の 5 つの API が用意されています。現時点では、それぞれ別のアカウントが必要です。</span><span class="sxs-lookup"><span data-stu-id="92c4e-138">Azure Cosmos DB provides five APIs to suit the needs of your application: SQL (document database), Gremlin (graph database), MongoDB (document database), Azure Table, and Cassandra, each of which currently require a separate account.</span></span> <br><br><span data-ttu-id="92c4e-139">**[SQL]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-139">Select **SQL**.</span></span> <span data-ttu-id="92c4e-140">現時点では、Azure Cosmos DB トリガー、入力バインディング、出力バインディングは、SQL API アカウントと Graph API アカウントでのみ使用できます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-140">At this time, the Azure Cosmos DB trigger, input bindings, and output bindings only work with SQL API and Graph API accounts.</span></span> |
    | <span data-ttu-id="92c4e-141">サブスクリプション</span><span class="sxs-lookup"><span data-stu-id="92c4e-141">Subscription</span></span> | <span data-ttu-id="92c4e-142">コンシェルジェ サブスクリプション</span><span class="sxs-lookup"><span data-stu-id="92c4e-142">Concierge subscription</span></span> | <span data-ttu-id="92c4e-143">この Azure Cosmos DB アカウントに使用する Azure サブスクリプションを選択します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-143">Select Azure subscription that you want to use for this Azure Cosmos DB account.</span></span> |
    <span data-ttu-id="92c4e-144">リソース グループ</span><span class="sxs-lookup"><span data-stu-id="92c4e-144">Resource Group</span></span>|<span data-ttu-id="92c4e-145">既存のものを使用</span><span class="sxs-lookup"><span data-stu-id="92c4e-145">Use existing</span></span><br><br><span data-ttu-id="92c4e-146">次に、**<rgn>[サンドボックス リソース グループ名]</rgn>** を選択します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-146">Then select **<rgn>[sandbox resource group name]</rgn>**.</span></span> | <span data-ttu-id="92c4e-147">このモジュールで作成したすべてのリソースを無料のサンドボックス リソース グループにまとめるため、**[既存のものを使用]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-147">We're selecting **Use existing**, because we want to group all resources created for this module under the free sandbox resource group.</span></span> |
    | <span data-ttu-id="92c4e-148">場所</span><span class="sxs-lookup"><span data-stu-id="92c4e-148">Location</span></span> | <span data-ttu-id="92c4e-149">**[既存のものを使用]** が設定されると自動的に入力されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-149">Auto-filled once **Use existing** is set.</span></span> | <span data-ttu-id="92c4e-150">Azure Cosmos DB アカウントをホストする地理的な場所を選択します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-150">Select the geographic location in which to host your Azure Cosmos DB account.</span></span> <span data-ttu-id="92c4e-151">データに最も高速にアクセスできるように、ユーザーに最も近い場所を使用します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-151">Use the location that's closest to your users to give them the fastest access to the data.</span></span> <span data-ttu-id="92c4e-152">この演習では、場所は、既存のリソース グループに設定されている場所として事前に決められています。</span><span class="sxs-lookup"><span data-stu-id="92c4e-152">In this lab, the location is pre-determined for us as the location set for the existing resource group.</span></span>|

    <span data-ttu-id="92c4e-153">**[新しいアカウント]** ブレードのその他のフィールドはすべて既定値のままにします。このモジュールで使用するからです。</span><span class="sxs-lookup"><span data-stu-id="92c4e-153">Leave all other fields in the **New account** blade at their default values because we're using them in this module.</span></span>  <span data-ttu-id="92c4e-154">これには **[Geo 冗長の有効化]**、**[マルチ マスターを有効にする]**、**[仮想ネットワーク]** などがあります。</span><span class="sxs-lookup"><span data-stu-id="92c4e-154">That includes **Enable geo-redundancy**, **Enable Multi Master**, **Virtual networks**.</span></span>

1. <span data-ttu-id="92c4e-155">**[作成]** を選択し、データベース アカウントをプロビジョニングし、デプロイします。</span><span class="sxs-lookup"><span data-stu-id="92c4e-155">Select **Create** to provision and deploy the database account.</span></span>

1. <span data-ttu-id="92c4e-156">デプロイには時間がかかることがあります。</span><span class="sxs-lookup"><span data-stu-id="92c4e-156">Deployment can take some time.</span></span> <span data-ttu-id="92c4e-157">通知ハブに **"デプロイメントに成功しました"** というメッセージが表示されるのを待ってから次に進みます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-157">So, wait for a **Deployment succeeded** message in the Notification Hub before proceeding.</span></span>

    ![データベース アカウントのデプロイが完了したことを示す通知](../media/5-db-deploy-success.PNG)

1. <span data-ttu-id="92c4e-159">ポータルで **[リソースに移動]** を選択して、データベース アカウントに移動します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-159">Select **Go to resource** to navigate to the database account in the portal.</span></span> <span data-ttu-id="92c4e-160">次に、データベースにコレクションを追加します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-160">We'll add a collection to the database next.</span></span>

### <a name="add-a-collection"></a><span data-ttu-id="92c4e-161">コレクションの追加</span><span class="sxs-lookup"><span data-stu-id="92c4e-161">Add a collection</span></span>

<span data-ttu-id="92c4e-162">Cosmos DB では、ユーザーが生成した任意のエンティティが*コンテナー*に保持されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-162">In Cosmos DB, a *container* holds arbitrary user-generated entities.</span></span> <span data-ttu-id="92c4e-163">SQL API および MongoDB API アカウントの場合、コンテナーは "*コレクション*" にマップされます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-163">For SQL and MongoDB API accounts, a container maps to a *collection*.</span></span> <span data-ttu-id="92c4e-164">コレクション内にドキュメントを保存します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-164">Inside a collection, we store documents.</span></span>

<span data-ttu-id="92c4e-165">Azure portal でデータ エクスプローラー ツールを使用して、データベースとコレクションを作成しましょう。</span><span class="sxs-lookup"><span data-stu-id="92c4e-165">Let's use the Data Explorer tool in the Azure portal to create a database and collection.</span></span>

1. <span data-ttu-id="92c4e-166">**[データ エクスプローラー]** > **[新しいコレクション]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-166">Select **Data Explorer** > **New Collection**.</span></span>

2. <span data-ttu-id="92c4e-167">**[コレクションの追加]** で、新しいコレクションの設定を入力します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-167">Under **Add collection**, enter the settings for the new collection.</span></span>

    >[!TIP]
    ><span data-ttu-id="92c4e-168">**[コレクションの追加]** 領域が右端に表示されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-168">The **Add Collection** area is displayed on the far right.</span></span> <span data-ttu-id="92c4e-169">この領域を表示するために、右にスクロールすることが必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="92c4e-169">You may need to scroll right to see it.</span></span>

    |<span data-ttu-id="92c4e-170">設定</span><span class="sxs-lookup"><span data-stu-id="92c4e-170">Setting</span></span>|<span data-ttu-id="92c4e-171">推奨値</span><span class="sxs-lookup"><span data-stu-id="92c4e-171">Suggested value</span></span>|<span data-ttu-id="92c4e-172">説明</span><span class="sxs-lookup"><span data-stu-id="92c4e-172">Description</span></span>
    |---|---|---|
    |<span data-ttu-id="92c4e-173">データベース ID</span><span class="sxs-lookup"><span data-stu-id="92c4e-173">Database ID</span></span>|[!INCLUDE [cosmos-db-name](./cosmos-db-name.md)]| <span data-ttu-id="92c4e-174">データベース名は 1 文字以上 255 文字以内にする必要があります。/、\\、#、? は使えず、末尾にスペースを入れることもできません。</span><span class="sxs-lookup"><span data-stu-id="92c4e-174">Database names must contain from 1 through 255 characters, and they cannot contain /, \\, #, ?, or a trailing space.</span></span><br><br><span data-ttu-id="92c4e-175">ここでは自由に入力できますが、新しいデータベースの名前には [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] を推奨します。このユニットではこれを参照することになります。</span><span class="sxs-lookup"><span data-stu-id="92c4e-175">You are free to enter whatever you want here, but we suggest [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] as the name for the new database, and that's what we'll refer to in this unit.</span></span> |
    |<span data-ttu-id="92c4e-176">コレクション ID</span><span class="sxs-lookup"><span data-stu-id="92c4e-176">Collection ID</span></span>|[!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)]|<span data-ttu-id="92c4e-177">新しいコレクションの名前として [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] を入力します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-177">Enter [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] as the name for our new collection.</span></span> <span data-ttu-id="92c4e-178">コレクション ID の文字要件はデータベース名と同じです。</span><span class="sxs-lookup"><span data-stu-id="92c4e-178">Collection IDs have the same character requirements as database names.</span></span>|
    |<span data-ttu-id="92c4e-179">ストレージの容量</span><span class="sxs-lookup"><span data-stu-id="92c4e-179">Storage capacity</span></span>| <span data-ttu-id="92c4e-180">固定 (10 GB)</span><span class="sxs-lookup"><span data-stu-id="92c4e-180">Fixed (10 GB)</span></span>|<span data-ttu-id="92c4e-181">既定値の **[固定 (10 GB)]** を使用します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-181">Use the default value of **Fixed (10 GB)**.</span></span> <span data-ttu-id="92c4e-182">この値はデータベースの記憶域容量です。</span><span class="sxs-lookup"><span data-stu-id="92c4e-182">This value is the storage capacity of the database.</span></span>|
    |<span data-ttu-id="92c4e-183">スループット</span><span class="sxs-lookup"><span data-stu-id="92c4e-183">Throughput</span></span>|<span data-ttu-id="92c4e-184">1000 RU</span><span class="sxs-lookup"><span data-stu-id="92c4e-184">1000 RU</span></span>|<span data-ttu-id="92c4e-185">スループットを 1 秒あたり 1000 要求ユニット (RU/秒) に変更します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-185">Change the throughput to 1000 request units per second (RU/s).</span></span> <span data-ttu-id="92c4e-186">スループットを 400 RU/秒に設定するには、ストレージ容量を**固定 (10 GB)** に設定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="92c4e-186">Storage capacity must be set to **Fixed (10 GB)** to set throughput to 400 RU/s.</span></span> <span data-ttu-id="92c4e-187">待ち時間を短縮する必要がある場合は、後でパフォーマンスをスケールアップできます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-187">If you want to reduce latency, you can scale up the performance later.</span></span>|

3. <span data-ttu-id="92c4e-188">**[OK]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="92c4e-188">Click **OK**.</span></span> <span data-ttu-id="92c4e-189">新しいデータベースとコレクションがデータ エクスプローラーに表示されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-189">The Data Explorer displays the new database and collection.</span></span> <span data-ttu-id="92c4e-190">これでデータベースが用意されました。</span><span class="sxs-lookup"><span data-stu-id="92c4e-190">So, now we have a database.</span></span> <span data-ttu-id="92c4e-191">データベース内でコレクションを定義しました。</span><span class="sxs-lookup"><span data-stu-id="92c4e-191">Inside the database, we've defined a collection.</span></span> <span data-ttu-id="92c4e-192">次に、データ (ドキュメントとも呼ばれます) を追加します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-192">Next, we'll add some data, also known as documents.</span></span>

### <a name="add-test-data"></a><span data-ttu-id="92c4e-193">テスト データを追加する</span><span class="sxs-lookup"><span data-stu-id="92c4e-193">Add test data</span></span>

<span data-ttu-id="92c4e-194">データベース内で [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] というコレクションを定義しました。</span><span class="sxs-lookup"><span data-stu-id="92c4e-194">We've defined a collection in our database called [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)].</span></span> <span data-ttu-id="92c4e-195">Web ページ ブックマークの一覧のように、各ドキュメントに URL と ID を保存します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-195">We want to store a URL and ID in each document, like a list of web page bookmarks.</span></span>

<span data-ttu-id="92c4e-196">データ エクスプローラーを使用して、新しいコレクションにデータを追加します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-196">You'll add data to your new collection using Data Explorer.</span></span>

1. <span data-ttu-id="92c4e-197">データ エクスプローラーの [コレクション] ウィンドウに新しいデータベースが表示されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-197">In Data Explorer, the new database appears in the Collections pane.</span></span> <span data-ttu-id="92c4e-198">[!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] データベース、[!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] コレクションの順に展開し、**[ドキュメント]** を選択して、**[新しいドキュメント]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-198">Expand the [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)] database, expand the [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] collection, select **Documents**, and then select **New Document**.</span></span>

2. <span data-ttu-id="92c4e-199">新しいドキュメントの既定の内容を次の JSON に置き換えます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-199">Replace the default content of the new document with the following JSON.</span></span>

     ```json
     {
         "id": "docs",
         "URL": "https://docs.microsoft.com/azure"
     }
     ```

3. <span data-ttu-id="92c4e-200">JSON を **[ドキュメント]** タブに追加したら、**[保存]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="92c4e-200">After you've added the JSON to the **Documents** tab, select **Save**.</span></span>

    <span data-ttu-id="92c4e-201">追加したプロパティよりも多くのプロパティがあることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="92c4e-201">Notice that there are more properties than the ones we added.</span></span> <span data-ttu-id="92c4e-202">これらはすべて下線で始まっています (_rid、_self、_etag、_attachments、_ts)。</span><span class="sxs-lookup"><span data-stu-id="92c4e-202">They all begin with an underline (_rid, _self, _etag, _attachments, _ts).</span></span> <span data-ttu-id="92c4e-203">これらはシステムによって生成されたプロパティであり、ドキュメントの管理に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-203">These are properties generated by the system to help manage the document.</span></span>

    |<span data-ttu-id="92c4e-204">プロパティ</span><span class="sxs-lookup"><span data-stu-id="92c4e-204">Property</span></span>  |<span data-ttu-id="92c4e-205">説明</span><span class="sxs-lookup"><span data-stu-id="92c4e-205">Description</span></span>  |
    |---------|---------|
    | `_rid`     |     <span data-ttu-id="92c4e-206">リソース ID は一意の識別子であり、リソース モデルのリソース スタックごとの階層も示します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-206">The resource ID is a unique identifier that is also hierarchical per the resource stack on the resource model.</span></span> <span data-ttu-id="92c4e-207">ドキュメント リソースの配置と移動のために内部で使用されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-207">It is used internally for placement and navigation of the document resource.</span></span>    |
    | `_self`     |   <span data-ttu-id="92c4e-208">リソースのアドレス可能な一意の URI。</span><span class="sxs-lookup"><span data-stu-id="92c4e-208">The unique addressable URI for the resource.</span></span>      |
    | `_etag`     |   <span data-ttu-id="92c4e-209">オプティミスティック同時実行制御に必要です。</span><span class="sxs-lookup"><span data-stu-id="92c4e-209">Required for optimistic concurrency control.</span></span>     |
    | `_attachments`     |  <span data-ttu-id="92c4e-210">添付リソースのアドレス可能パス。</span><span class="sxs-lookup"><span data-stu-id="92c4e-210">The addressable path for the attachments resource.</span></span>       |
    | `_ts`     |    <span data-ttu-id="92c4e-211">このリソースの最終更新を示すタイムスタンプ。</span><span class="sxs-lookup"><span data-stu-id="92c4e-211">The time stamp of the last update of this resource.</span></span>    |

4. <span data-ttu-id="92c4e-212">コレクションにドキュメントをさらに追加しましょう。</span><span class="sxs-lookup"><span data-stu-id="92c4e-212">Let's add a few more documents into the collection.</span></span> <span data-ttu-id="92c4e-213">次の内容でさらに 4 つのドキュメントを作成します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-213">Create four more documents with the following content.</span></span> <span data-ttu-id="92c4e-214">作業内容を必ず保存してください。</span><span class="sxs-lookup"><span data-stu-id="92c4e-214">Remember to save your work.</span></span>

    ```json
    {
        "id": "portal",
        "URL": "https://portal.azure.com"
    }
    ```

    ```json
    {
        "id": "learn",
        "URL": "https://docs.microsoft.com/learn"
    }
    ```

    ```json
    {
        "id": "marketplace",
        "URL": "https://azuremarketplace.microsoft.com/marketplace/apps"
    }
    ```

    ```json
    {
        "id": "blog",
        "URL": "https://azure.microsoft.com/blog"
    }
    ```

1. <span data-ttu-id="92c4e-215">完了すると、コレクションは次のようになります。</span><span class="sxs-lookup"><span data-stu-id="92c4e-215">When you've finished, your collection should look like the following:</span></span>

    ![ブックマーク コレクションに追加したエントリの一覧を示す、ポータルの SQL API UI](../media/5-db-bookmark-coll.PNG)

<span data-ttu-id="92c4e-217">ブックマーク コレクションにエントリが追加されました。</span><span class="sxs-lookup"><span data-stu-id="92c4e-217">You now have a few entries in your bookmark collection.</span></span> <span data-ttu-id="92c4e-218">シナリオは次のように動作します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-218">Our scenario will work as follows.</span></span> <span data-ttu-id="92c4e-219">たとえば、"id=docs" が指定された要求が届いたら、ブックマーク コレクション内でその ID を検索し、URL `https://docs.microsoft.com/azure` を返します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-219">If a request arrives with, for example, "id=docs", you'll look up that ID in your bookmarks collection and return the URL `https://docs.microsoft.com/azure`.</span></span> <span data-ttu-id="92c4e-220">このコレクション内の値を検索する Azure 関数を作成しましょう。</span><span class="sxs-lookup"><span data-stu-id="92c4e-220">Let's make an Azure function that looks up values in this collection.</span></span>

## <a name="create-your-function"></a><span data-ttu-id="92c4e-221">関数を作成する</span><span class="sxs-lookup"><span data-stu-id="92c4e-221">Create your function</span></span>

1. <span data-ttu-id="92c4e-222">前のユニットで作成した関数アプリに移動します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-222">Navigate to the function app that you created in the preceding unit.</span></span>

1. <span data-ttu-id="92c4e-223">関数アプリを展開し、関数のコレクションをポイントして、**[関数]** の横の **[追加]** (**+**) ボタンをクリックします。</span><span class="sxs-lookup"><span data-stu-id="92c4e-223">Expand your function app, hover over the functions collection, and then select the **Add** (**+**) button next to **Functions**.</span></span>
   <span data-ttu-id="92c4e-224">この操作により、関数作成プロセスが開始されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-224">This action starts the function creation process.</span></span> <span data-ttu-id="92c4e-225">次のアニメーションはこの操作を示しています。</span><span class="sxs-lookup"><span data-stu-id="92c4e-225">The following animation illustrates the action:</span></span>

   ![[関数] メニュー項目をポイントするとプラス記号が表示されることを示すアニメーション。](../media/3-func-app-plus-hover-small.gif)

   <span data-ttu-id="92c4e-227">このページには、サポートされているすべてのトリガーが表示されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-227">The page displays the complete set of supported triggers.</span></span>

1. <span data-ttu-id="92c4e-228">**[HTTP トリガー]** (次のスクリーン ショットの最初のエントリ) を選択します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-228">Select **HTTP trigger**, which is the first entry in the following screenshot:</span></span>

    ![画像の左上に HTTP トリガーが最初に表示されている、トリガー テンプレートの選択 UI の一部を示すスクリーン ショット。](../media/5-trigger-templates-small.png)

1. <span data-ttu-id="92c4e-230">右側に表示された **[新しい関数]** ダイアログに次の値を入力します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-230">Fill out the **New Function** dialog that appears to the right using the following values.</span></span>

    | <span data-ttu-id="92c4e-231">フィールド</span><span class="sxs-lookup"><span data-stu-id="92c4e-231">Field</span></span> | <span data-ttu-id="92c4e-232">値</span><span class="sxs-lookup"><span data-stu-id="92c4e-232">Value</span></span> |
    |----------|--------|
    | <span data-ttu-id="92c4e-233">言語</span><span class="sxs-lookup"><span data-stu-id="92c4e-233">Language</span></span> | <span data-ttu-id="92c4e-234">**JavaScript**</span><span class="sxs-lookup"><span data-stu-id="92c4e-234">**JavaScript**</span></span> |
    | <span data-ttu-id="92c4e-235">名前</span><span class="sxs-lookup"><span data-stu-id="92c4e-235">Name</span></span>     | [!INCLUDE [func-name-find](./func-name-find.md)] |
    | <span data-ttu-id="92c4e-236">承認レベル</span><span class="sxs-lookup"><span data-stu-id="92c4e-236">Authorization level</span></span> | <span data-ttu-id="92c4e-237">**関数**</span><span class="sxs-lookup"><span data-stu-id="92c4e-237">**Function**</span></span> |

1. <span data-ttu-id="92c4e-238">**[作成]** を選択して関数を作成します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-238">Select **Create** to create your function.</span></span>
    <span data-ttu-id="92c4e-239">この操作により、コード エディターで *index.js* ファイルが開き、HTTP によってトリガーされる関数の既定の実装が表示されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-239">This action opens the *index.js* file in the code editor and displays a default implementation of the HTTP-triggered function.</span></span>

### <a name="verify-the-function"></a><span data-ttu-id="92c4e-240">関数を検証する</span><span class="sxs-lookup"><span data-stu-id="92c4e-240">Verify the function</span></span>

<span data-ttu-id="92c4e-241">新しい関数を次のようにテストすることで、ここまでの作業内容を検証できます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-241">You can verify what we have done so far by testing our new function as follows:</span></span>

1. <span data-ttu-id="92c4e-242">新しい関数で、右上の **[関数の URL の取得]** をクリックし、**[既定値 (関数キー)]** を選択して、**[コピー]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="92c4e-242">In your new function, click **Get function URL** at the top right, select **default (Function key)**, and then click **Copy**.</span></span>

1. <span data-ttu-id="92c4e-243">コピーした関数 URL をブラウザーのアドレス バーに貼り付けます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-243">Paste the function URL you copied into your browser's address bar.</span></span> <span data-ttu-id="92c4e-244">URL の末尾にクエリ文字列値 `&name=<yourname>` を追加し、**Enter** キーを押して要求を実行します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-244">Add the query string value `&name=<yourname>` to the end of the URL and press **Enter** to execute the request.</span></span> <span data-ttu-id="92c4e-245">Azure 関数からの応答がブラウザーにすぐに表示されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-245">You should get a response from the Azure Function right in the browser.</span></span>

<span data-ttu-id="92c4e-246">関数の必要最小限の動作を設定しました。次に、Azure Cosmos DB (このシナリオでは [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] コレクション) からデータを読み取りましょう。</span><span class="sxs-lookup"><span data-stu-id="92c4e-246">Now that we have our bare-bones function working, let's turn our attention to reading data from our Azure Cosmos DB, or in our scenario, our [!INCLUDE [cosmos-coll-name](./cosmos-coll-name.md)] collection.</span></span>

## <a name="add-an-azure-cosmos-db-input-binding"></a><span data-ttu-id="92c4e-247">Azure Cosmos DB 入力バインディングを追加する</span><span class="sxs-lookup"><span data-stu-id="92c4e-247">Add an Azure Cosmos DB input binding</span></span>

<span data-ttu-id="92c4e-248">データベースからデータを読み取るには、入力バインディングを定義する必要があります。</span><span class="sxs-lookup"><span data-stu-id="92c4e-248">To read data from the database, you need to define an input binding.</span></span> <span data-ttu-id="92c4e-249">次に説明するように、データベースと通信できるバインディングをわずかな手順で構成できます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-249">As you'll see, you can configure a binding that can talk to your database in just a few steps.</span></span>

1. <span data-ttu-id="92c4e-250">左側のウィンドウで **[統合]** を選択して統合タブを開きます。使用したテンプレートによって、HTTP トリガーと HTTP 出力バインディングが作成されています。</span><span class="sxs-lookup"><span data-stu-id="92c4e-250">Select **Integrate** in the left pane to open the integration tab. The template you used created an HTTP trigger and an HTTP output binding.</span></span> <span data-ttu-id="92c4e-251">ここでは、新しい Azure Cosmos DB 入力バインディングを追加します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-251">Now add your new Azure Cosmos DB input binding.</span></span>

2. <span data-ttu-id="92c4e-252">**[入力]** 列の **[新しい入力]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-252">Select **New Input** in the **Inputs** column.</span></span>
   <span data-ttu-id="92c4e-253">使用可能な入力バインディングの全種類の一覧が表示されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-253">A list of all possible input binding types is displayed.</span></span>

3. <span data-ttu-id="92c4e-254">この一覧で、**[Azure Cosmos DB]** を選択し、**[選択]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="92c4e-254">In the list, select **Azure Cosmos DB**, and then select **Select**.</span></span>
   <span data-ttu-id="92c4e-255">この操作により、Azure Cosmos DB 入力構成ページが開きます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-255">This action opens the Azure Cosmos DB input configuration page.</span></span> <span data-ttu-id="92c4e-256">次に、データベースへの接続を設定します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-256">Next, you'll set up a connection to your database.</span></span>

4. <span data-ttu-id="92c4e-257">**[Azure Cosmos DB アカウント接続]** ボックスの横の **[新規]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-257">Next to the **Azure Cosmos DB account connection** box, select **new**.</span></span>
   <span data-ttu-id="92c4e-258">この操作により、**[接続]** ウィンドウが開きます。**Azure Cosmos DB アカウント**と Azure サブスクリプションが既に選択されています。</span><span class="sxs-lookup"><span data-stu-id="92c4e-258">This action opens the **Connection** window, which already has **Azure Cosmos DB account** and your Azure subscription selected.</span></span> <span data-ttu-id="92c4e-259">あとは、データベース アカウント ID を選択するだけです。</span><span class="sxs-lookup"><span data-stu-id="92c4e-259">The only thing left to do is to select a database account ID.</span></span>

5. <span data-ttu-id="92c4e-260">「データベース アカウントを作成する」で、ID 値を指定する必要がありました。</span><span class="sxs-lookup"><span data-stu-id="92c4e-260">In the "Create a database account" section, you had to supply an ID value.</span></span> <span data-ttu-id="92c4e-261">**[データベース アカウント]** ドロップダウン リストでその値を見つけ、**[選択]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="92c4e-261">Find that value in the **Database Account** drop-down list, and then click **Select**.</span></span>

6. <span data-ttu-id="92c4e-262">データベースへの新しい接続が構成され、**[Azure Cosmos DB アカウント接続]** フィールドに表示されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-262">A new connection to the database is configured and is shown in the **Azure Cosmos DB account connection** field.</span></span> <span data-ttu-id="92c4e-263">この抽象名の背後にある実際の内容に興味がある場合は、*[値の表示]* をクリックして接続文字列を表示します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-263">If you're curious about what is actually behind this abstract name, click *show value* to reveal the connection string.</span></span>

<span data-ttu-id="92c4e-264">特定の ID でブックマークを検索するので、受け取った ID をバインディングに関連付けましょう。</span><span class="sxs-lookup"><span data-stu-id="92c4e-264">You want to look up a bookmark with a specific ID, so let's tie the ID we receive to the binding.</span></span>

7. <span data-ttu-id="92c4e-265">**[ドキュメント ID (任意)]** フィールドに「`{id}`」と入力します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-265">In the **Document ID (optional)** field, enter `{id}`.</span></span> <span data-ttu-id="92c4e-266">この構文は "*バインド式*" と呼ばれます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-266">This syntax is known as a *binding expression*.</span></span> <span data-ttu-id="92c4e-267">関数は、クエリ文字列を使用して検索する ID を指定した HTTP 要求によってトリガーされます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-267">The function is triggered by an HTTP request that uses a query string to specify the ID to look up.</span></span> <span data-ttu-id="92c4e-268">ID はコレクション内で一意となるため、バインディングにより 0 ドキュメント (見つからない) か 1 ドキュメント (見つかった) が返されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-268">Since IDs are unique in our collection, the binding will return either 0 (not found) or 1 (found) documents.</span></span>

8. <span data-ttu-id="92c4e-269">次の表の値を使用し、このページの残りのフィールドに注意深く入力します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-269">Carefully fill out the remaining fields on this page using the values in the following table.</span></span> <span data-ttu-id="92c4e-270">各フィールド名の右にある情報アイコンをクリックすれば、各フィールドの詳しい目的をいつでも確認できます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-270">At any time, you can click on the information icon to the right of each field name to learn more about the purpose of each field.</span></span>

    |<span data-ttu-id="92c4e-271">設定</span><span class="sxs-lookup"><span data-stu-id="92c4e-271">Setting</span></span>  |<span data-ttu-id="92c4e-272">値</span><span class="sxs-lookup"><span data-stu-id="92c4e-272">Value</span></span>  |<span data-ttu-id="92c4e-273">説明</span><span class="sxs-lookup"><span data-stu-id="92c4e-273">Description</span></span>  |
    |---------|---------|---------|
    |<span data-ttu-id="92c4e-274">ドキュメント パラメーター名</span><span class="sxs-lookup"><span data-stu-id="92c4e-274">Document parameter name</span></span>     |  <span data-ttu-id="92c4e-275">**ブックマーク**</span><span class="sxs-lookup"><span data-stu-id="92c4e-275">**bookmark**</span></span>       |  <span data-ttu-id="92c4e-276">コードでこのバインディングを識別するための名前。</span><span class="sxs-lookup"><span data-stu-id="92c4e-276">The name used to identify this binding in your code.</span></span>      |
    |<span data-ttu-id="92c4e-277">データベース名</span><span class="sxs-lookup"><span data-stu-id="92c4e-277">Database name</span></span>     |  [!INCLUDE [cosmos-db-name](./cosmos-db-name.md)]       | <span data-ttu-id="92c4e-278">使用するデータベース。</span><span class="sxs-lookup"><span data-stu-id="92c4e-278">The database to work with.</span></span> <span data-ttu-id="92c4e-279">この値は、このレッスンで以前に設定したデータベース名です。</span><span class="sxs-lookup"><span data-stu-id="92c4e-279">This value is the database name we set earlier in this lesson.</span></span>        |
    |<span data-ttu-id="92c4e-280">コレクション名</span><span class="sxs-lookup"><span data-stu-id="92c4e-280">Collection Name</span></span>     |  [!INCLUDE [cosmos-db-name](./cosmos-coll-name.md)]        | <span data-ttu-id="92c4e-281">データの読み取り元のコレクション。</span><span class="sxs-lookup"><span data-stu-id="92c4e-281">The collection from which we'll read data.</span></span> <span data-ttu-id="92c4e-282">この設定はレッスンの前半で定義しました。</span><span class="sxs-lookup"><span data-stu-id="92c4e-282">This setting was defined earlier in the lesson.</span></span> |
    |<span data-ttu-id="92c4e-283">SQL クエリ (任意)</span><span class="sxs-lookup"><span data-stu-id="92c4e-283">SQL Query (optional)</span></span>    |   <span data-ttu-id="92c4e-284">空白のままにします</span><span class="sxs-lookup"><span data-stu-id="92c4e-284">leave blank</span></span>       |   <span data-ttu-id="92c4e-285">ID に基づき、一度に 1 ドキュメントだけ取得しています。</span><span class="sxs-lookup"><span data-stu-id="92c4e-285">We are only retrieving one document at a time based on the ID.</span></span> <span data-ttu-id="92c4e-286">そのため、この場合は SQL クエリを使用するよりドキュメント ID フィールドでフィルター処理するほうが効果的です。</span><span class="sxs-lookup"><span data-stu-id="92c4e-286">So, filtering with the Document ID field is a better than using a SQL Query in this instance.</span></span> <span data-ttu-id="92c4e-287">エントリを 1 つ返す SQL クエリを作成することもできます (`SELECT * from b where b.ID = {id}`)。</span><span class="sxs-lookup"><span data-stu-id="92c4e-287">We could craft a SQL Query to return one entry (`SELECT * from b where b.ID = {id}`).</span></span> <span data-ttu-id="92c4e-288">このクエリでは確かにドキュメントが返されますが、ドキュメント コレクションのドキュメントを返します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-288">That query would indeed return a document, but it would return it in a document collection.</span></span> <span data-ttu-id="92c4e-289">コードで無駄にコレクションを操作しなければならないことがあります。</span><span class="sxs-lookup"><span data-stu-id="92c4e-289">Our code would have to manipulate a collection unnecessarily.</span></span> <span data-ttu-id="92c4e-290">複数のドキュメントを取得するときに SQL クエリの手法を使用してください。</span><span class="sxs-lookup"><span data-stu-id="92c4e-290">Use the SQL Query approach when you want to get multiple documents.</span></span>   |
    |<span data-ttu-id="92c4e-291">パーティション キー (省略可能)</span><span class="sxs-lookup"><span data-stu-id="92c4e-291">Partition key (optional)</span></span>     |   <span data-ttu-id="92c4e-292">空白のままにします</span><span class="sxs-lookup"><span data-stu-id="92c4e-292">leave blank</span></span>      |  <span data-ttu-id="92c4e-293">ここでは既定値をそのまま使用してかまいません。</span><span class="sxs-lookup"><span data-stu-id="92c4e-293">We can accept the default here.</span></span>       |

9. <span data-ttu-id="92c4e-294">**[保存]** をクリックして、このバインディング構成に対するすべての変更を保存します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-294">Select **Save** to save all changes to this binding configuration.</span></span>

<span data-ttu-id="92c4e-295">バインディングが定義されたので、関数で使用します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-295">Now that you have your binding defined, it's time to use it in your function.</span></span>

## <a name="update-function-implementation"></a><span data-ttu-id="92c4e-296">関数の実装を更新する</span><span class="sxs-lookup"><span data-stu-id="92c4e-296">Update function implementation</span></span>

1. <span data-ttu-id="92c4e-297">関数 [!INCLUDE [func-name-find](./func-name-find.md)] を選択して、*index.js* をコード エディターで開きます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-297">Select your function, [!INCLUDE [func-name-find](./func-name-find.md)], to open *index.js* in the code editor.</span></span> <span data-ttu-id="92c4e-298">データベースから読み取るための入力バインディングを追加したので、このバインディングを使用するようにロジックを更新します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-298">You've added an input binding to read from your database, so update the logic to use this binding.</span></span>

2. <span data-ttu-id="92c4e-299">*index.js* 内のすべてのコードを次のスニペットのコードに置き換え、**[保存]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="92c4e-299">Replace all code in *index.js* with the code from the following snippet and hit **Save**.</span></span>

   [!code-javascript[](../code/find-bookmark-single.js)]

<span data-ttu-id="92c4e-300">受信 HTTP 要求によって関数がトリガーされ、`id` クエリ パラメーターが Cosmos DB 入力バインディングに渡されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-300">An incoming HTTP request triggers the function, and an `id` query parameter is passed to the Cosmos DB input binding.</span></span> <span data-ttu-id="92c4e-301">データベースでこの ID に一致するドキュメントが見つかった場合、`bookmark` パラメーターが見つかったドキュメントに設定されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-301">If the database finds a document that matches this ID, then the `bookmark` parameter will be set to the located document.</span></span> <span data-ttu-id="92c4e-302">その場合、ブックマークが設定されたドキュメント内の URL 値を含む応答を作成します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-302">In that case, we construct a response that contains the URL value found in the bookmarked document.</span></span> <span data-ttu-id="92c4e-303">このキーに一致するドキュメントが見つからなかった場合は、ペイロードと、ドキュメントが見つからなかったことをユーザーに伝える状態コードで応答します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-303">If no document is found matching this key, we would respond with a payload and status code that tells the user the bad news.</span></span>

## <a name="try-it-out"></a><span data-ttu-id="92c4e-304">試してみる</span><span class="sxs-lookup"><span data-stu-id="92c4e-304">Try it out</span></span>

1. <span data-ttu-id="92c4e-305">右上の **[関数の URL の取得]** を選択し、**[既定値 (関数キー)]**、**[コピー]** の順に選択して関数の URL をコピーします。</span><span class="sxs-lookup"><span data-stu-id="92c4e-305">Select **Get function URL** at the top right, select **default (Function key)**, and then select **Copy** to copy the function's URL.</span></span>

2. <span data-ttu-id="92c4e-306">コピーした関数 URL をブラウザーのアドレス バーに貼り付けます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-306">Paste the function URL you copied into your browser's address bar.</span></span> <span data-ttu-id="92c4e-307">この URL の末尾にクエリ文字列値 `&id=docs` を追加し、キーボードの `Enter` キーを押して要求を実行します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-307">Add the query string value `&id=docs` to the end of this URL and press the `Enter` key on your keyboard to execute the request.</span></span> <span data-ttu-id="92c4e-308">そのリソースの URL を含む応答が表示されます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-308">You should see a response that includes a URL to that resource.</span></span>

3. <span data-ttu-id="92c4e-309">`&id=docs` を `&id=missing` に置き換え、応答を確認します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-309">Replace `&id=docs` with `&id=missing`, and observe the response.</span></span>

4. <span data-ttu-id="92c4e-310">前のクエリ文字列を `&id=` に置き換え、応答を確認します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-310">Replace the previous query string with `&id=`, and observe the response.</span></span>

    >[!TIP]
    ><span data-ttu-id="92c4e-311">関数ポータル UI の **[テスト]** タブを使用して関数をテストすることもできます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-311">You can also test the function using the **Test** tab in the function portal UI.</span></span> <span data-ttu-id="92c4e-312">クエリ パラメーターを追加するか、要求本文を指定することで、前の手順で説明した同じ結果が得られます。</span><span class="sxs-lookup"><span data-stu-id="92c4e-312">You can add a query parameter or supply a request body to get the same results as described in the preceding steps.</span></span>

<span data-ttu-id="92c4e-313">このユニットでは、Azure Cosmos DB データベースから読み取るために、最初の入力バインディングを手動で作成しました。</span><span class="sxs-lookup"><span data-stu-id="92c4e-313">In this unit, we created our first input binding manually to read from an Azure Cosmos DB database.</span></span> <span data-ttu-id="92c4e-314">バインディングにより、データベースを検索してデータを読み取るために記述するコードの量が最小限に抑えられました。</span><span class="sxs-lookup"><span data-stu-id="92c4e-314">The amount of code we wrote to search our database and read data was minimal, thanks to bindings.</span></span> <span data-ttu-id="92c4e-315">作業のほとんどは、宣言によってバインディングを構成することで行い、残りはプラットフォームによって処理されました。</span><span class="sxs-lookup"><span data-stu-id="92c4e-315">We did most of our work configuring the binding declaratively, and the platform took care of the rest.</span></span>

<span data-ttu-id="92c4e-316">次のユニットでは、Azure Cosmos DB 出力バインディングを使用して、ブックマーク コレクションにさらにデータを追加します。</span><span class="sxs-lookup"><span data-stu-id="92c4e-316">In the next unit, we'll add more data to our bookmark collection through an Azure Cosmos DB output binding.</span></span>