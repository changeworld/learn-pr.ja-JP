データ ソースに接続するには、"*入力バインディング*" を構成する必要があります。 このバインディングにより、最小限のコードを記述してメッセージを作成できるようになります。 ストレージ接続を開くなどのタスクのコードを記述する必要はありません。 Azure Functions ランタイムとバインディングによって、これらのタスクが自動的に処理されます。

## <a name="input-binding-types"></a>入力バインディングの種類

入力バインディングには複数の種類がありますが、すべての種類で入力と出力の両方がサポートされているわけではありません。 入力バインディングは、該当する種類のデータを取り込むときにいつでも使用できます。 ここでは、入力バインディングをサポートする種類と、どのような場合にそれらを使用するのかを見ていきましょう。

- **Blob Storage**: Blob Storage バインディングを使用すると、BLOB からの読み取りが可能になります。

- **Cosmos DB**: Azure Cosmos DB 入力バインディングでは、SQL API を使用して 1 つ以上の Azure Cosmos DB ドキュメントを取得し、関数の入力パラメーターに渡します。 ドキュメント ID またはクエリ パラメーターは、関数を呼び出したトリガーに基づいて決定することができます。

- **Microsoft Graph**: Microsoft Graph 入力バインディングを使用すると、OneDrive からのファイルの読み取りや、Excel からのデータの読み取りが可能になります。また、Microsoft Graph API とやり取りできるように、認証トークンを取得することもできます。
- **Mobile Apps**: Mobile Apps 入力バインディングでは、モバイル テーブル エンドポイントからレコードを読み込んで関数に渡します。

- **Table Storage**: Azure Table Storage を使用してデータを読み取り、作業することができます。

## <a name="how-to-create-an-input-binding"></a>入力バインディングを作成する方法

バインディングを入力として定義するには、`direction` を `in` として定義する必要があります。
パラメーターはバインディングの種類によって異なる場合があります。パラメーターの詳細については、[Microsoft のドキュメント](https://docs.microsoft.com/azure/azure-functions/functions-triggers-bindings#supported-bindings?azure-portal=true)をご覧ください。

## <a name="what-is-a-binding-expression"></a>バインド式とは

バインド式とは、function.json、関数パラメーター、またはコード内の特殊なテキストであり、関数が呼び出されて値が生成されたときに評価されます。 たとえば、バインド式を使用して現在の時刻を取得したり、アプリ設定から値を取得したりできます。

### <a name="types-of-binding-expressions"></a>バインド式の種類

- アプリ設定
- トリガー ファイル名
- トリガー メタデータ
- JSON ペイロード
- 新しい GUID
- 現在の日付と時刻
- バインド式

ほとんどの式は、中かっこで囲むことによって識別されます。 ただし、アプリ設定のバインド式は、他のバインド式とは異なる方法で識別されます。これらは中かっこではなく、パーセント記号で囲まれます。 たとえば、BLOB 出力バインディング パスが `%Environment%/newblob.txt` であり、アプリ設定の Environment 値が Development の場合、Development コンテナーに BLOB が作成されます。

入力バインディングを使用すると、関数をデータ ソースに接続できます。 接続できるデータ ソースの種類は複数ありますが、種類によってパラメーターが異なります。 function.json、関数パラメーター、またはコードでバインド式を使用して、さまざまなソースの値を解決できます。