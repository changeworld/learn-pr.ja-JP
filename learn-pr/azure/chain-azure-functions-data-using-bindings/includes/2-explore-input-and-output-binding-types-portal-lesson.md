多くのソフトウェア ソリューションにおいて、データへのアクセスとデータの処理は重要なタスクです。 次のシナリオを考えてみましょう。

* 受信データを Blob Storage から Azure Cosmos DB に移動する方法を実装するよう依頼された。
* 社内の別のコンポーネントで処理するために、受信メッセージをキューに送信したい。
* サービスでキューからゲーマー スコアを取得し、オンライン スコアボードを更新する必要がある。

これらの例はすべて、データの移動に関するものです。 データ ソースと送信先はシナリオによって異なりますが、パターンは似ています。 データ ソースに接続し、データを読み書きします。 Azure Functions では、バインディングを使用してデータやサービスとの統合できるようにします。 

## <a name="what-is-a-binding"></a>バインディングとは

関数では、バインディングによって、コード内からデータに接続する宣言型の方法が提供されます。 バインディングにより、関数内で一貫した方法でデータ ストリームと簡単に統合できるようになります。 トリガーでは関数を呼び出す方法を定義します。 使用できるトリガーは 1 つだけですが、1 つの関数で複数のバインディングを使用できます。 これが強力なのは、"*接続文字列*" などの値をハード コードしなくても、データ ソースに接続できるためです。

### <a name="two-kinds-of-bindings"></a>2 種類のバインディング

関数に使用できるバインディングには、次の 2 種類があります。

1. **入力バインディング**: 入力バインディングとは、データ **ソース**への接続です。 関数はこのソースからデータを読み取ります。

1. **出力バインディング**: 出力バインディングとは、データの**送信先**への接続です。 関数はこの送信先にデータを書き込みます。

### <a name="types-of-supported-bindings"></a>サポートされるバインディングの種類

バインディングの "*種類*" では、データの読み取り先または送信先を定義します。 Web 要求に応答するためのバインディングと、ストレージと対話するためのさまざまなバインディングがあります。

よく使用されるバインディングを次に示します。
- BLOB
- キュー
- CosmosDB
- Event Hubs
- 外部ファイル
- 外部テーブル
- HTTP

### <a name="binding-properties"></a>バインディングのプロパティ

すべてのバインディングで必要な 4 つのプロパティがあります。 使用しているバインディングやストレージの種類に基づいて、追加のプロパティを提供することが必要な場合があります。

- **名前**: `name` プロパティでは、データにアクセスするために使用する関数パラメーターを定義します。 たとえば、キュー入力バインディングでは、これはキュー メッセージの内容を受け取る関数パラメーターの名前になります。 

- **種類**: `type` プロパティでは、バインディングの種類 (対話するデータまたはサービスの種類) を指定します。

- **方向**: `direction` プロパティでは、データが流れる方向 (入力バインディングか、出力バインディングか) を指定します。

- **接続**: `connection` プロパティは、接続文字列自体ではなく、接続文字列を含むアプリ設定の名前です。 バインディングでは、"function.json にはサービス シークレットを含めない" というベスト プラクティスを適用するために、アプリ設定に保存された接続文字列を使用します。

## <a name="create-a-binding"></a>バインディングを作成する

バインディングは JSON で定義されます。 バインディングは関数の構成ファイルで構成されます。このファイルは `function.json` という名前で、関数コードと同じフォルダーにあります。

 "*入力バインディング*" のサンプルを詳しく見てみましょう。

```json
    ...
    {
      "name": "headshotBlob",
      "type": "blob",
      "path": "thumbnail-images/{filename}",
      "connection": "HeadshotStorageConnection",
      "direction": "in"
    },
    ...
```

このバインディングを作成するには、次の手順に従います。

1. `function.json` ファイルにバインディングを作成します。

1. `name` 変数の値を指定します。 この例では、変数に BLOB データが保持されます。

1. ストレージの `type` を指定します。前の例では、Blob Storage を使用しています。

1. コンテナーとそこに格納される項目名を指定する、`path` を指定します。 BLOB の場合、`path` プロパティは必須です。

1. アプリケーションの設定ファイルで定義されている `connection` 文字列設定名を指定します。 これは、ストレージに接続する際の接続文字列を見つけるための参照として使用されます。

1. BLOB からデータを読み取るため、`direction` を `in` として定義します。

バインディングは、関数へのデータに接続するために使用されます。 この例では、入力バインディングを使用して、関数によってサムネイルとして処理されるユーザー画像に接続しました。