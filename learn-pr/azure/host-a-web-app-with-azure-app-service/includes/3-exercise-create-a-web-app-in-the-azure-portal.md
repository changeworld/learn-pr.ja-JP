<span data-ttu-id="ca80c-101">このユニットでは、Azure portal を使用して Web アプリを作成します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-101">In this unit, you will use the Azure portal to create a web app.</span></span>

[!include[](../../../includes/azure-sandbox-activate.md)]

## <a name="create-a-web-app"></a><span data-ttu-id="ca80c-102">Web アプリを作成する</span><span class="sxs-lookup"><span data-stu-id="ca80c-102">Create a web app</span></span>

<span data-ttu-id="ca80c-103">サンドボックスをアクティブ化したときと同じアカウントを使用して、[Azure portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true) にサインインします。</span><span class="sxs-lookup"><span data-stu-id="ca80c-103">Sign into the [Azure portal](https://portal.azure.com/learn.docs.microsoft.com?azure-portal=true) using the same account you activated the sandbox with.</span></span>

1. <span data-ttu-id="ca80c-104">左側のナビゲーションの上部にある **[リソースの作成]** リンクをクリックします。</span><span class="sxs-lookup"><span data-stu-id="ca80c-104">Click the **Create a resource** link at the top of the left-hand navigation.</span></span> <span data-ttu-id="ca80c-105">Azure 上で作成するあらゆるものがリソースです。</span><span class="sxs-lookup"><span data-stu-id="ca80c-105">Everything you create on Azure is a resource.</span></span>

1. <span data-ttu-id="ca80c-106">ポータルの表示が **[Marketplace]** ページに変わります。</span><span class="sxs-lookup"><span data-stu-id="ca80c-106">The portal navigates you to the **Marketplace** page.</span></span> <span data-ttu-id="ca80c-107">ここから、作成するリソースを検索したり、ユーザーが Azure portal で作成した人気のあるリソースの 1 つを選択したりすることができます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-107">From here, you can search for the resource you want to create or select one of the popular resources that people create in the Azure portal.</span></span>

1. <span data-ttu-id="ca80c-108">**[Web]** > **[Web アプリ]** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="ca80c-108">Click **Web** > **Web App**.</span></span> <span data-ttu-id="ca80c-109">ポータルの表示が **[新しい Web アプリを作成する]** ページにリダイレクトされます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-109">The portal redirects you to the **Create New Web App** page.</span></span>

1. <span data-ttu-id="ca80c-110">新しい Web アプリを作成すると、Azure portal では自動的にアプリを作成するために情報が要求されます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-110">When you create a new web app, the Azure portal requests some information to create the app for you.</span></span> <span data-ttu-id="ca80c-111">このセクションでは、次の基本情報を提供する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ca80c-111">In this section, you need to provide the following basic information:</span></span>

    1. <span data-ttu-id="ca80c-112">**アプリ名**: クライアントは、アプリケーションを `BestBike` という名前にする必要があります。</span><span class="sxs-lookup"><span data-stu-id="ca80c-112">**App name**: Your client wants to name the application `BestBike`.</span></span> <span data-ttu-id="ca80c-113">このフィールドにその名前を入力します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-113">Type the name in this field.</span></span> <span data-ttu-id="ca80c-114">この値は、Azure でホストされている他のすべての Web アプリの間でグローバルに一意である必要があり、他の Web アプリがそのアプリ名を使用していないことが確認されます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-114">This value must be globally unique among all other web apps hosted on Azure, and the portal will make sure no one else has used the app name.</span></span> <span data-ttu-id="ca80c-115">名前を確実に一意にするには、一意のバリアントが見つかるまで、アプリ名にいくつかの数字を追加します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-115">To ensure your name is unique, add some numbers to your app's name until you find a unique variant.</span></span>

    2. <span data-ttu-id="ca80c-116">**サブスクリプション**: このフィールドでは、ドロップダウン リストからアクティブな Azure サブスクリプションを選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ca80c-116">**Subscription**: In this field, you need to select an active Azure subscription from the drop-down list.</span></span> <span data-ttu-id="ca80c-117">コンシェルジェ サブスクリプションを選択します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-117">Select the Concierge subscription.</span></span>

    3. <span data-ttu-id="ca80c-118">**OS**: このフィールドでは、新しい Web アプリをホストするために、**Windows** または **Linux** のいずれかを使用することを決定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ca80c-118">**OS**: In this field, you need to decide whether to use **Windows** or **Linux** to host your new web app.</span></span> <span data-ttu-id="ca80c-119">この設定は、以下で選択または作成する App Service プランに直接影響します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-119">This setting directly affects the App Service plan that you are going to select or create below.</span></span> <span data-ttu-id="ca80c-120">ご記憶のとおり、App Service プランでは仮想マシンを使用します。これは、ご自分のアプリケーションを実行するマシン上で必要なすべてのリソース (CPU、RAM など) を含むオペレーティング システムです。</span><span class="sxs-lookup"><span data-stu-id="ca80c-120">If you remember, an App Service plan resembles a virtual machine that is an operating system with all the resource (CPU, RAM, etc.) needed on that machine to run your application.</span></span> <span data-ttu-id="ca80c-121">この場合、クライアントは Windows マシンで Web アプリをホストすることを選びます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-121">In this case, your client prefers to host the web app over a Windows machine.</span></span> <span data-ttu-id="ca80c-122">そのため、**[Windows]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-122">Therefore, make the selection **Windows**.</span></span>

    4. <span data-ttu-id="ca80c-123">**Application Insights**: Azure Application Insights は、ご自分の Web app と Web サービスでの品質の問題を検出および診断するのに役立ち、ユーザーがそれを使って実際に行う内容を解釈するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-123">**Application Insights**: Azure Application Insights helps you detect and diagnose quality issues in your web apps and web services, and helps you understand what your users actually do with it.</span></span> <span data-ttu-id="ca80c-124">クライアントの要件の 1 つは、クライアントの Web サイトからのトラフィックに関する分析情報レポートを表示し、トラフィックが多いときと少ないときの傾向を調べる機能です。</span><span class="sxs-lookup"><span data-stu-id="ca80c-124">One of the requirements of your client is the ability to view some insight reports about the traffic coming over their website and to study some trends of when the traffic goes high and when it goes low.</span></span> <span data-ttu-id="ca80c-125">ここでは、**[オン]** を選択して、この Web アプリに対して Application Insights を有効にします。</span><span class="sxs-lookup"><span data-stu-id="ca80c-125">In this case, select the **On** option to turn on Application Insights for this web app.</span></span> <span data-ttu-id="ca80c-126">**[オン]** を選択したら、Application Insights データを保存する場所またはリージョンも選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ca80c-126">Once you select the **On** option, you are also required to select the location or region that will store the Application Insights data.</span></span> <span data-ttu-id="ca80c-127">Application Insights は、限られた数のリージョンでのみ使用できることに注意してください。</span><span class="sxs-lookup"><span data-stu-id="ca80c-127">Note that Application Insights are available in only a limited number of regions.</span></span> <span data-ttu-id="ca80c-128">このデモでは、利用可能なリージョンのいずれかを選択します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-128">For this demo, select any of the available regions.</span></span>

## <a name="use-the-sandbox-resource-group"></a><span data-ttu-id="ca80c-129">サンドボックス リソース グループを使用する</span><span class="sxs-lookup"><span data-stu-id="ca80c-129">Use the sandbox resource group</span></span>

<span data-ttu-id="ca80c-130">Azure Web アプリは、リソース グループの一部である必要があります。</span><span class="sxs-lookup"><span data-stu-id="ca80c-130">An Azure web app must be part of a resource group.</span></span> <span data-ttu-id="ca80c-131">**[既存のものを使用]** を選択し、<rgn>[サンドボックス リソース グループ名]</rgn> を選択します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-131">Select **Use existing** and choose <rgn>[sandbox resource group name]</rgn>.</span></span>

## <a name="create-an-app-service-plan"></a><span data-ttu-id="ca80c-132">App Service プランを作成する</span><span class="sxs-lookup"><span data-stu-id="ca80c-132">Create an App Service plan</span></span>

<span data-ttu-id="ca80c-133">このフィールドでは、ご自分のアプリケーションを実行する App Service プランを選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ca80c-133">In this field, you need to select an App Service plan to run your application.</span></span> <span data-ttu-id="ca80c-134">既定では、作成した最新の App Service プランがポータルで選択されます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-134">By default, the portal selects the most recent App Service plan that you created.</span></span> <span data-ttu-id="ca80c-135">**[App Service プラン/場所]** フィールドをクリックして、**[App Service プラン]** ページに移動します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-135">Click on the **App Service plan/Location** field to navigate to the **App Service plan** page.</span></span>

<span data-ttu-id="ca80c-136">**[新規作成]** リンクをクリックして、**[新しい App Service プラン]** ページに移動します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-136">Click on the **Create new** link to navigate to the **New App Service Plan** page.</span></span> <span data-ttu-id="ca80c-137">新しい App Service プランを作成するために情報が要求されます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-137">The portal requests some information from you in order to create the new App Service plan.</span></span>

1. <span data-ttu-id="ca80c-138">**App Service プラン**: このフィールドでは、新しい App Service プランに名前を指定します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-138">**App Service plan**: In this field, you provide a name for the new App Service plan.</span></span> <span data-ttu-id="ca80c-139">このアプリの場合、上記で選択した Web アプリ名を入力し、このリソースを他のリソースと簡単に区別できるように、`-app-service-plan` というサフィックスを追加します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-139">For this app, type the same web app name you chose above and append a suffix of `-app-service-plan` to easily distinguish this resource from others.</span></span>

2. <span data-ttu-id="ca80c-140">**場所**: このフィールドでは、この App Service プランが存在するリージョンを選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ca80c-140">**Location**: In this field, you need to select the region where this App Service plan resides.</span></span> <span data-ttu-id="ca80c-141">つまり、App Service プランで、アプリケーションを実行するために必要な仮想マシンをセットアップする地理的な場所を選択します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-141">In other words, select the geographical location where the App Service plan will set up the virtual machine(s) that are required to run your application.</span></span> <span data-ttu-id="ca80c-142">ここでは、一覧で任意のオプションを選択できます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-142">In this case, you can select any of the options in the list below.</span></span>

[!include[](../../../includes/azure-sandbox-regions-first-mention-note-friendly.md)]

3. <span data-ttu-id="ca80c-143">**価格レベル**: このフィールドでは、ご自分のアプリケーションをホストする仮想マシンのサイズを選択する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ca80c-143">**Pricing tier**: In this field, you need to select the size of the virtual machine that is going to host your application.</span></span> <span data-ttu-id="ca80c-144">**>** 記号をクリックし、**[価格レベル]** ページに移動します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-144">Click on the **>** sign to navigate to the **Pricing tier** page.</span></span>

    <span data-ttu-id="ca80c-145">ここでは、多くのオプションから選択できます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-145">Here you have many options to choose from.</span></span> <span data-ttu-id="ca80c-146">このポータルでは、必要なワークロードのレベルによってそれらのオプションがグループ化されます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-146">The portal groups those options by the level of workload needed.</span></span> <span data-ttu-id="ca80c-147">利用できる 3 つのワークロード カテゴリは、Dev/Test、Production、Isolated です。</span><span class="sxs-lookup"><span data-stu-id="ca80c-147">The three workload categories available are Dev/Test, Production, and Isolated.</span></span> <span data-ttu-id="ca80c-148">Azure でホストするアプリケーションの要件に応じて、該当するワークロード カテゴリを選択します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-148">Depending on the requirements of the application you want to host on Azure, you will select the relevant workload category.</span></span> <span data-ttu-id="ca80c-149">**BestBike** アプリケーションがビルドされ、調整中であるため、自分に適した最小ワークロード カテゴリから開始します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-149">As the **BestBike** application is building and shaping up, you will start with the minimal workload category that works for you.</span></span> <span data-ttu-id="ca80c-150">クライアントの要件の 1 つは、アプリケーションからの新しい変更をライブでテストする機能でした。</span><span class="sxs-lookup"><span data-stu-id="ca80c-150">Remember, one of the client's requirements was the ability to test live any new changes coming over the application.</span></span> <span data-ttu-id="ca80c-151">今後のユニットでは、この要件を実現するために、**デプロイ スロット**を追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="ca80c-151">In the coming units, you will see that to achieve this requirement, you will need to add **deployment slots**.</span></span> <span data-ttu-id="ca80c-152">デプロイ スロットは、最小価格レベルの **S1** から利用できます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-152">Deployment slots are available starting at a minimum pricing tier of **S1**.</span></span> <span data-ttu-id="ca80c-153">そのため、**[運用ワークロード]** カテゴリの **[S1]** 価格レベルを選択します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-153">Therefore, select the **S1** pricing tier under the **Production Workload** category.</span></span> <span data-ttu-id="ca80c-154">次に、**[適用]** をクリックして、上で選択した価格レベルを確認します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-154">Then, click on **Apply** to confirm the pricing tier you have selected above.</span></span>

    > [!NOTE]
    > <span data-ttu-id="ca80c-155">このモジュールから、**[Production]** と **[Isolated]** ワークロード カテゴリのみで **デプロイ スロット**をご自分の Web アプリに追加できることが通知されます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-155">You will notice throughout this module that only **Production** and **Isolated** workload categories allow you to add **deployment slots** to your web app.</span></span>

    <span data-ttu-id="ca80c-156">**[新しい App Service プラン]** ページに戻ります。</span><span class="sxs-lookup"><span data-stu-id="ca80c-156">Now, you are back to the **New App Service plan** page.</span></span>

    ![設定にこの演習のサンプル値を使用した [新しい App Service プラン] ページを示すスクリーンショット。](../media/3-new-app-service-plan.PNG)

4. <span data-ttu-id="ca80c-158">**[OK]** をクリックして、新しい App Service プランを使用します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-158">Click the **OK** button to use your new App Service Plan.</span></span>

    <span data-ttu-id="ca80c-159">ポータルの表示がメインの **[Web アプリの作成]** ページに戻ります。</span><span class="sxs-lookup"><span data-stu-id="ca80c-159">The portal navigates you back to the main **Create Web App** page.</span></span>

    ![Web アプリ リソースの検索の進行状況が強調表示された、Azure の新しいリソース ページを示すスクリーンショット。](../media/3-new-web-app.png)

5. <span data-ttu-id="ca80c-161">**[作成]** をクリックして、Web アプリの作成プロセスを開始します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-161">Click the **Create** button to start the process of creating the web app.</span></span>

    > [!NOTE]
    > <span data-ttu-id="ca80c-162">Web アプリが作成され、使用できる状態になるまで数秒かかることがあります。</span><span class="sxs-lookup"><span data-stu-id="ca80c-162">It can take a few seconds to get your web app created and ready for your use.</span></span>

<span data-ttu-id="ca80c-163">ダッシュボード ページにリダイレクトされ、Web アプリが作成されると通知されます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-163">The portal redirects you to the dashboard page and notifies you once it creates the web app.</span></span>

<span data-ttu-id="ca80c-164">アプリの準備ができたら、Azure portal で新しいアプリに移動します。</span><span class="sxs-lookup"><span data-stu-id="ca80c-164">Once the app is ready, navigate to the new app in the Azure portal.</span></span>

1. <span data-ttu-id="ca80c-165">左側のナビゲーションで **[すべてのリソース]** メニューをクリックします。</span><span class="sxs-lookup"><span data-stu-id="ca80c-165">Click the **All resources** menu on the left side navigation.</span></span> <span data-ttu-id="ca80c-166">**[すべてのリソース]** ページに、Azure portal で作成されたすべてのリソースが一覧表示されます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-166">The **All resources** page lists all the resources that you have created in the Azure portal.</span></span>

2. <span data-ttu-id="ca80c-167">先ほど作成された BestBike App Service をクリックします。</span><span class="sxs-lookup"><span data-stu-id="ca80c-167">Click through the BestBike App Service just created for you.</span></span>

    > [!NOTE]
    > <span data-ttu-id="ca80c-168">"BestBike" という名前でアプリを検索すると、新しい Web アプリ用に作成された Application Insights リソースと App Service プラン リソースも見つかる場合があります。</span><span class="sxs-lookup"><span data-stu-id="ca80c-168">If you search for your app by the name "BestBike", you may also find the Application Insights and App Service Plan resources created for your new web app.</span></span> <span data-ttu-id="ca80c-169">必ず、種類が **App Service** であるリソースをクリックしてください。</span><span class="sxs-lookup"><span data-stu-id="ca80c-169">Make sure you are clicking through the resource with the type of **App Service**.</span></span>

    ![新しく作成された BestBike123 App Service が強調表示された、[すべてのリソース] ページ内の検索結果の例を示すスクリーンショット。](../media/3-web-app.PNG)

<span data-ttu-id="ca80c-171">**[概要]** セクションが選択された、Web アプリ サービスのホーム ページが開きます。</span><span class="sxs-lookup"><span data-stu-id="ca80c-171">The portal opens the web app service home page with the **Overview** section selected.</span></span>

![[概要] セクションの URL リンクが強調表示された BestBike App Service ページを示すスクリーンショット。](../media/3-web-app-home.PNG)

<span data-ttu-id="ca80c-173">新しい Web アプリの既定のコンテンツをプレビューするには、Azure portal の右上にある **URL** をクリックします。</span><span class="sxs-lookup"><span data-stu-id="ca80c-173">To preview your new web app's default content, click on the **URL** in the top right of the Azure portal.</span></span> <span data-ttu-id="ca80c-174">プレースホルダー Web ページが表示された場合は、Web アプリが正常に作成されたことを示しています。</span><span class="sxs-lookup"><span data-stu-id="ca80c-174">If you see a placeholder web page, it means you have successfully created the web app.</span></span>
