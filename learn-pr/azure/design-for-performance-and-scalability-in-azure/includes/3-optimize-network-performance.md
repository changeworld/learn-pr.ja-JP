<span data-ttu-id="af5ab-101">ネットワーク パフォーマンスはユーザーのエクスペリエンスに大きな影響を及ぼす可能性があります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-101">Network performance can have a dramatic impact on a user's experience.</span></span> <span data-ttu-id="af5ab-102">多くの異なるサービスを使用した複雑なアーキテクチャにおいては、各ホップでの待ち時間を最小限に抑えることが、全体のパフォーマンスを大きく左右します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-102">In complex architectures with many different services, minimizing the latency at each hop can have a huge impact on the overall performance.</span></span> <span data-ttu-id="af5ab-103">このユニットでは、ネットワーク待ち時間の重要性と、使用するアーキテクチャでのネットワーク待ち時間を削減する方法について説明します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-103">In this unit, we'll talk about the importance of network latency and how to reduce it within your architecture.</span></span> <span data-ttu-id="af5ab-104">また、Azure ユーザーと Azure との間の待ち時間だけでなく、Azure リソース間のネットワーク待ち時間を最小限に抑えるために、Lamna Healthcare がどのように戦略を採用したかについても説明します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-104">We'll also discuss how Lamna Healthcare adopted strategies to minimize network latency between their Azure resources as well as between their users and Azure.</span></span>

## <a name="the-importance-of-network-latency"></a><span data-ttu-id="af5ab-105">ネットワーク待ち時間の重要性</span><span class="sxs-lookup"><span data-stu-id="af5ab-105">The importance of network latency</span></span>

<span data-ttu-id="af5ab-106">待ち時間は、遅延の測定基準です。</span><span class="sxs-lookup"><span data-stu-id="af5ab-106">Latency is a measure of delay.</span></span> <span data-ttu-id="af5ab-107">ネットワーク待ち時間は、なんらかのネットワーク インフラストラクチャを介してソースから宛先に到達するために必要な時間です。</span><span class="sxs-lookup"><span data-stu-id="af5ab-107">Network latency is the time needed to get from a source to a destination across some network infrastructure.</span></span> <span data-ttu-id="af5ab-108">この所要時間は一般的にラウンドトリップ遅延として知られています。ラウンドトリップ遅延とは、ソースから宛先に到達し、再び戻ってくるのにかかる時間です。</span><span class="sxs-lookup"><span data-stu-id="af5ab-108">This time period is commonly known as a round-trip delay, or the time taken to get from the source to destination and back again.</span></span>

<span data-ttu-id="af5ab-109">従来のデータセンター環境では、多くの場合にリソースでは同じ場所と共通のインフラストラクチャ セットを共有しているため、待ち時間が最小限に抑えられる可能性があります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-109">In a traditional datacenter environment, latency may be minimal since resources often share the same location and a common set of infrastructure.</span></span> <span data-ttu-id="af5ab-110">リソースが物理的に近い場所にあれば、ソースから宛先に到達するためにかかる時間は短くなります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-110">The time taken to get from source to destination is lower when resources are physically close together.</span></span>

<span data-ttu-id="af5ab-111">それに比べて、クラウド環境はスケールに対応できるように構築されています。</span><span class="sxs-lookup"><span data-stu-id="af5ab-111">In comparison, a cloud environment is built for scale.</span></span> <span data-ttu-id="af5ab-112">クラウドでホストされたリソースが、同じラックやデータセンター、さらにはリージョン内に存在するとは限りません。</span><span class="sxs-lookup"><span data-stu-id="af5ab-112">Cloud-hosted resources may not be in the same rack, datacenter, or even region.</span></span> <span data-ttu-id="af5ab-113">この分散型アプローチが、ネットワーク通信のラウンドトリップ時間に影響を与える可能性があります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-113">This distributed approach can have an impact on the round-trip time of your network communications.</span></span> <span data-ttu-id="af5ab-114">すべての Azure リージョンは高速なファイバー バックボーンで相互接続されていますが、それでも光の速度が物理的な限界です。</span><span class="sxs-lookup"><span data-stu-id="af5ab-114">While all Azure regions are interconnected by a high-speed fiber backbone, the speed of light is still a physical limitation.</span></span> <span data-ttu-id="af5ab-115">異なる物理的な場所にあるサービス間の呼び出しでは、やはり、それらの場所間の距離に直接関係したネットワーク待ち時間が発生します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-115">Calls between services in different physical locations will still have network latency directly correlated to the distance between them.</span></span>

<span data-ttu-id="af5ab-116">さらに、アプリケーションの通信量が多いほど、必要なラウンドトリップの回数も増えます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-116">On top of this, the chattier an application, the more round trips that are required.</span></span> <span data-ttu-id="af5ab-117">1 回のラウンドトリップに伴う待ち時間がラウンドトリップごとに付加されて、全体的な待ち時間が増加します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-117">Each round trip comes with a latency tax, with each round trip adding to the overall latency.</span></span> <span data-ttu-id="af5ab-118">次の図は、ユーザーによって認識される待ち時間が要求の処理に必要なラウンドトリップの組み合わせであることを示しています。</span><span class="sxs-lookup"><span data-stu-id="af5ab-118">The following illustration shows how the latency perceived by the user is the combination of the roundtrips required to service the request.</span></span>

![クラウド内の地理的に異なる場所に配置されたリソース間のネットワーク待ち時間を示す図。](../media/3-networkLatency.png)

<span data-ttu-id="af5ab-120">Azure リソース間のパフォーマンスと、エンド ユーザーからご使用の Azure リソースまでのパフォーマンスを改善する方法を見てみましょう。</span><span class="sxs-lookup"><span data-stu-id="af5ab-120">Now let's take a look at how to improve performance between Azure resources and from your end users to your Azure resources.</span></span>

## <a name="latency-between-azure-resources"></a><span data-ttu-id="af5ab-121">Azure リソース間の待ち時間</span><span class="sxs-lookup"><span data-stu-id="af5ab-121">Latency between Azure resources</span></span>

<span data-ttu-id="af5ab-122">Lamna Healthcare では、西ヨーロッパの Azure リージョンにある複数の Web サーバーと 1 つのデータベースを使用して、新しい患者予約システムのパイロット運用を実施しようとしています。</span><span class="sxs-lookup"><span data-stu-id="af5ab-122">Imagine that Lamna Healthcare is piloting a new patient booking system running on several web servers and a database in the West Europe Azure region.</span></span> <span data-ttu-id="af5ab-123">このアーキテクチャでは、リソースが Azure リージョンの内部に併置されているため、データがネットワーク上にある時間が最小限に抑えられます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-123">This architecture minimizes the data time on the wire as resources are co-located inside an Azure region.</span></span>

<span data-ttu-id="af5ab-124">システムのパイロット運用が順調に進み、オーストラリアのユーザーにまで拡大されたとします。</span><span class="sxs-lookup"><span data-stu-id="af5ab-124">Suppose that the pilot of the system went well and has been expanded to users in Australia.</span></span> <span data-ttu-id="af5ab-125">オーストラリアのユーザーが Web サイトを閲覧すると、西ヨーロッパのリソースまでのラウンドトリップ時間が発生し、ネットワーク待ち時間によってエンド ユーザー エクスペリエンスが低下します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-125">Users in Australia will incur the round-trip time to the resources in West Europe to view the website, and their end-user experience will be poor due to the network latency.</span></span>

<span data-ttu-id="af5ab-126">ユーザーの待ち時間を削減するため、Lamna Healthcare チームは、オーストラリア東部リージョンにおいて、追加のフロントエンド インスタンスをホストすることにしました。</span><span class="sxs-lookup"><span data-stu-id="af5ab-126">The Lamna Healthcare team decide to host another front-end instance in the Australia East region to reduce user latency.</span></span> <span data-ttu-id="af5ab-127">この設計では、Web サーバーからエンド ユーザーにコンテンツを返すのにかかる時間の削減が期待できる一方、オーストラリア東部のフロントエンド Web サーバーと西ヨーロッパのデータベースとの間の通信に長い待ち時間が存在するため、エクスペリエンスの低下はまだ改善されません。</span><span class="sxs-lookup"><span data-stu-id="af5ab-127">While this design helps reduce the time for the web server to return content to end users, their experience is still poor since there's significant latency communicating between the front-end web servers in Australia East and the database in West Europe.</span></span>

<span data-ttu-id="af5ab-128">残りの待ち時間を削減できる方法がいくつかあります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-128">There are a few ways we could reduce the remaining latency:</span></span>

- <span data-ttu-id="af5ab-129">オーストラリア東部にデータベースの読み取りレプリカを作成します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-129">Create a read-replica of the database in Australia East.</span></span> <span data-ttu-id="af5ab-130">これにより、読み取りのパフォーマンスは向上しますが、書き込みにはまだ待ち時間が伴います。</span><span class="sxs-lookup"><span data-stu-id="af5ab-130">This would allow reads to perform well, but writes would still incur latency.</span></span> <span data-ttu-id="af5ab-131">Azure SQL Database の geo レプリケーションにより、読み取りレプリカが実現します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-131">Azure SQL Database geo-replication allows for read-replicas.</span></span>
- <span data-ttu-id="af5ab-132">Azure SQL データ同期機能を使用してリージョン間でデータを同期します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-132">Sync your data between regions with Azure SQL Data Sync.</span></span>
- <span data-ttu-id="af5ab-133">Azure Cosmos DB などのグローバル分散データベースを使用します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-133">Use a globally distributed database such as Azure Cosmos DB.</span></span> <span data-ttu-id="af5ab-134">これにより、場所に関係なく読み取りと書き込みの両方を発生させることができますが、ご利用のアプリケーションでデータを保存および参照する方法を変更する必要がある可能性があります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-134">This would allow both reads and writes to occur regardless of location, but may require changes to the way your application stores and references data.</span></span>
- <span data-ttu-id="af5ab-135">Azure Redis Cache などのキャッシュ テクノロジを使用して、頻繁にデータにアクセスするリモート データベースへの待ち時間の長い呼び出しを最小限に抑えます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-135">Use caching technology such as Azure Redis Cache to minimize high-latency calls to remote databases for frequently accessed data.</span></span>

<span data-ttu-id="af5ab-136">ここでの目標は、アプリケーションの各レイヤー間のネットワーク待ち時間を最小限に抑えることです。</span><span class="sxs-lookup"><span data-stu-id="af5ab-136">The goal here is to minimize the network latency between each layer of the application.</span></span> <span data-ttu-id="af5ab-137">これをどのように解決するかは実際のアプリケーションとデータのアーキテクチャによって異なりますが、Azure には、これを解決するメカニズムが複数のサービス上に用意されています。</span><span class="sxs-lookup"><span data-stu-id="af5ab-137">How this is solved depends on your application and data architecture, but Azure provides mechanisms to solve this on several services.</span></span>

## <a name="latency-between-users-and-azure-resources"></a><span data-ttu-id="af5ab-138">ユーザーと Azure リソース間の待ち時間</span><span class="sxs-lookup"><span data-stu-id="af5ab-138">Latency between users and Azure resources</span></span>

<span data-ttu-id="af5ab-139">Azure リソース間の待ち時間を見てきましたが、ユーザーとクラウド アプリケーションとの間の待ち時間も考慮する必要があります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-139">We've looked at the latency between our Azure resources, but we should also consider the latency between users and our cloud application.</span></span> <span data-ttu-id="af5ab-140">ユーザーへのフロントエンド ユーザー インターフェイスのデリバリーを最適化する必要があります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-140">We're looking to optimize delivery of the front end-user interface to our users.</span></span> <span data-ttu-id="af5ab-141">エンド ユーザーとアプリケーションとの間のネットワーク パフォーマンスを改善する方法を見てみましょう。</span><span class="sxs-lookup"><span data-stu-id="af5ab-141">Let's take a look at some ways to improve the network performance between end users and the application.</span></span>

### <a name="use-a-dns-load-balancer-for-endpoint-path-optimization"></a><span data-ttu-id="af5ab-142">エンドポイント パスの最適化に DNS ロード バランサーを使用する</span><span class="sxs-lookup"><span data-stu-id="af5ab-142">Use a DNS load balancer for endpoint path optimization</span></span>

<span data-ttu-id="af5ab-143">Lamna Healthcare の例では、既に説明したように、チームはオーストラリア東部に追加の Web フロントエンド ノードを作成しました。</span><span class="sxs-lookup"><span data-stu-id="af5ab-143">In the Lamna Healthcare example, we saw that the team created an additional web front-end node in Australia East.</span></span> <span data-ttu-id="af5ab-144">ただし、エンド ユーザーは、どのフロントエンド エンドポイントを使用するかを明示的に指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-144">However, end users have to explicitly specify which front-end endpoint they want to use.</span></span> <span data-ttu-id="af5ab-145">ソリューションの設計者として、Lamna Healthcare はユーザーにとってのエクスペリエンスをできる限りスムーズにしたいと考えています。</span><span class="sxs-lookup"><span data-stu-id="af5ab-145">As the designer of a solution, Lamna Healthcare wants to make the experience as smooth as possible for their users.</span></span>

<span data-ttu-id="af5ab-146">Azure Traffic Manager が役に立つ可能性があります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-146">Azure Traffic Manager could help.</span></span> <span data-ttu-id="af5ab-147">Traffic Manager は DNS ベースのロード バランサーです。これを使用すると、Azure リージョン内および Azure リージョン間でのトラフィックの分散が可能になります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-147">Traffic Manager is a DNS-based load balancer that enables you to distribute traffic within and across Azure regions.</span></span> <span data-ttu-id="af5ab-148">ユーザーに Web フロントエンドの特定のインスタンスを選択してもらわなくても、Traffic Manager を使用すれば、次のようないくつかの特性に基づいてユーザーをルーティングすることができます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-148">Rather than having the user browse to a specific instance of our web front end, Traffic Manager can route users based upon a set of characteristics:</span></span>

- <span data-ttu-id="af5ab-149">**優先度** - フロントエンド インスタンスの番号付きリストを指定します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-149">**Priority** - You specify an ordered list of front-end instances.</span></span> <span data-ttu-id="af5ab-150">最も優先度が高いインスタンスが利用不可の場合には、Traffic Manager によって、利用可能な次のインスタンスにユーザーがルーティングされます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-150">If the one with the highest priority is unavailable, Traffic Manager will route the user to the next available instance.</span></span>
- <span data-ttu-id="af5ab-151">**重み付け** - 各フロントエンド インスタンスに重みを設定します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-151">**Weighted** - You would set a weight against each front-end instance.</span></span> <span data-ttu-id="af5ab-152">それらの定義済み比率に従い、Traffic Manager によってトラフィックが分散されます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-152">Traffic Manager then distributes traffic according to those defined ratios.</span></span>
- <span data-ttu-id="af5ab-153">**パフォーマンス** - Traffic Manager により、ユーザーはネットワーク待ち時間に基づいて最も近いフロントエンド インスタンスにルーティングされます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-153">**Performance** - Traffic Manager routes users to the closest front-end instance based on network latency.</span></span>
- <span data-ttu-id="af5ab-154">**地理** - フロントエンド デプロイの地理的リージョンを設定し、データ主権規制やコンテンツのローカライズに基づいてユーザーをルーティングすることができます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-154">**Geographic** - You could set up geographical regions for front-end deployments, routing your users based upon data sovereignty mandates or localization of content.</span></span>

<span data-ttu-id="af5ab-155">Traffic Manager プロファイルをネストすることもできます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-155">Traffic Manager profiles can also be nested.</span></span> <span data-ttu-id="af5ab-156">最初は、地理的ルーティングを使用して異なる複数の地理的な場所 (たとえば、ヨーロッパとオーストラリア) の間でユーザーをルーティングし、次にパフォーマンス ルーティングという方法を使用して、ローカル フロントエンド デプロイにルーティングすることができます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-156">You could first route your users across different geographies (for example, Europe and Australia) using geographic routing and then route them to local front-end deployments using the performance routing method.</span></span>

<span data-ttu-id="af5ab-157">Lamna Healthcare で西ヨーロッパとオーストラリアに Web フロントエンドがデプロイされたとします。</span><span class="sxs-lookup"><span data-stu-id="af5ab-157">Consider that Lamna Healthcare has deployed a web front end in West Europe and Australia.</span></span> <span data-ttu-id="af5ab-158">西ヨーロッパにプライマリ デプロイと共に Azure SQL Database をデプロイし、オーストラリア東部に読み取りレプリカをデプロイしたと仮定します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-158">Assume they have deployed Azure SQL Database with their primary deployment in West Europe, and a read replica in Australia East.</span></span> <span data-ttu-id="af5ab-159">また、アプリケーションからローカルの SQL インスタンスに接続して読み取りクエリを実行できると仮定しましょう。</span><span class="sxs-lookup"><span data-stu-id="af5ab-159">Let's also assume the application can connect to the local SQL instance for read queries.</span></span>

<span data-ttu-id="af5ab-160">チームは Traffic Manager インスタンスをパフォーマンス モードでデプロイし、Traffic Manager プロファイルとしてフロントエンド インスタンスを 2 つ追加します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-160">The team deploy a Traffic Manager instance in performance mode and add the two front-end instances as Traffic Manager profiles.</span></span> <span data-ttu-id="af5ab-161">エンド ユーザーがカスタム ドメイン名 (たとえば、lamnahealthcare.com) にナビゲートすると、Traffic Manager にルーティングされます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-161">As an end user, you navigate to a custom domain name (for example, lamnahealthcare.com) which routes to Traffic Manager.</span></span> <span data-ttu-id="af5ab-162">次に、Traffic Manager から、最適なネットワーク待ち時間のパフォーマンスに基づいて、西ヨーロッパまたはオーストラリア東部のフロントエンドの DNS 名が返されます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-162">Traffic Manager then returns the DNS name of the West Europe or Australia East front end based on the best network latency performance.</span></span>

<span data-ttu-id="af5ab-163">この負荷分散は DNS を経由してのみ処理されることに注意してください。ここではインライン負荷分散やキャッシングは行われず、単にユーザーに最も近いフロントエンドの DNS 名が Traffic Manager から返されます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-163">It's important to note that this load balancing is only handled via DNS, there's no inline load balancing or caching that's happening here, Traffic Manager is simply returning the DNS name of the closest front end to the user.</span></span>

### <a name="use-cdn-to-cache-content-close-to-users"></a><span data-ttu-id="af5ab-164">CDN を使用してユーザーに近いコンテンツをキャッシュする</span><span class="sxs-lookup"><span data-stu-id="af5ab-164">Use CDN to cache content close to users</span></span>

<span data-ttu-id="af5ab-165">Web サイトでは、何らかの形式の静的コンテンツ (ページ全体、またはイメージやビデオなどの資産) が使用されると考えられます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-165">The website will likely be using some form of static content (either whole pages or assets such as images and videos).</span></span> <span data-ttu-id="af5ab-166">Azure CDN などのコンテンツ配信ネットワーク (CDN) を使用することで、このコンテンツをより高速にユーザーに配信できます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-166">This content could be delivered to users faster by using a content delivery network (CDN) such as Azure CDN.</span></span> 

<span data-ttu-id="af5ab-167">Lamna が Azure CDN にコンテンツをデプロイすると、それらの項目は世界中の複数のサーバーにコピーされます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-167">When Lamna deploys content to Azure CDN, those items are copied to multiple servers around the globe.</span></span> <span data-ttu-id="af5ab-168">それらの項目の 1 つとして、Blob Storage から提供される `HowToCompleteYourBillingForms.MP4` というビデオがあるとします。</span><span class="sxs-lookup"><span data-stu-id="af5ab-168">Let's say one of those items is a video served from blob storage: `HowToCompleteYourBillingForms.MP4`.</span></span> <span data-ttu-id="af5ab-169">そしてチームは、各ユーザーのビデオへのリンクが Blob Storage を参照するのではなく、実際にはそのユーザーに最も近い CDN エッジ サーバーを参照するように、Web サイトを構成します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-169">The team then configure the website so that each user's link to the video will actually reference the CDN edge server nearest them, rather than referencing blob storage.</span></span> <span data-ttu-id="af5ab-170">このアプローチでは、コンテンツと宛先の距離が近くなり、待ち時間が短縮されてユーザー エクスペリエンスが向上します。</span><span class="sxs-lookup"><span data-stu-id="af5ab-170">This approach puts content closer to the destination, reducing latency and improving user experience.</span></span> <span data-ttu-id="af5ab-171">次の図は、Azure CDN を使用し、宛先に近い場所にコンテンツを配置して、待ち時間を短縮し、ユーザー エクスペリエンスを向上させる方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="af5ab-171">The following illustration shows how using Azure CDN puts content closer to the destination which reduces latency and improves the user experience.</span></span>

![待ち時間を短縮するための Azure コンテンツ配信ネットワークの使用方法を示す図。](../media/3-cdnSketch.png)

<span data-ttu-id="af5ab-173">コンテンツ配信ネットワークは、キャッシュされた動的コンテンツをホストするために使用することも "_できます_"。</span><span class="sxs-lookup"><span data-stu-id="af5ab-173">Content delivery networks _can_ also be used to host cached dynamic content.</span></span> <span data-ttu-id="af5ab-174">しかし、キャッシュされたコンテンツはソースと比較して古い可能性があるため、さらに配慮が必要です。</span><span class="sxs-lookup"><span data-stu-id="af5ab-174">Extra consideration is required, though, since cached content may be out of date compared with the source.</span></span> <span data-ttu-id="af5ab-175">コンテンツの期限切れは、TTL (有効期限) を設定することによって制御できます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-175">Context expiration can be controlled by setting a time to live (TTL).</span></span> <span data-ttu-id="af5ab-176">TTL の値が大きすぎる場合は、古いコンテンツが表示される可能性があり、そのためにキャッシュを消去することが必要になります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-176">If the TTL is too high, out-of-date content may be displayed and the cache would need to be purged.</span></span>

<span data-ttu-id="af5ab-177">キャッシュされたコンテンツを処理する 1 つの方法として、**動的サイトの高速化**と呼ばれる機能を使用する方法があります。この機能を使用すると、動的コンテンツを含む Web ページのパフォーマンスを高めることができます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-177">One way to handle cached content is with a feature called **dynamic site acceleration**, which can increase performance of webpages with dynamic content.</span></span> <span data-ttu-id="af5ab-178">動的サイトの高速化により、ソリューションに含まれるその他のサービス (たとえば、API エンドポイント) への、待ち時間の少ないパスを提供することもできます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-178">Dynamic site acceleration can also provide a low-latency path to additional services in your solution (for example, an API endpoint).</span></span>

### <a name="use-expressroute-for-connectivity-from-on-premises-to-azure"></a><span data-ttu-id="af5ab-179">オンプレミスから Azure への接続に ExpressRoute を使用する</span><span class="sxs-lookup"><span data-stu-id="af5ab-179">Use ExpressRoute for connectivity from on-premises to Azure</span></span>

<span data-ttu-id="af5ab-180">オンプレミス環境から Azure へのネットワーク接続を最適化することも重要です。</span><span class="sxs-lookup"><span data-stu-id="af5ab-180">Optimizing network connectivity from your on-premises environment to Azure is also important.</span></span> <span data-ttu-id="af5ab-181">アプリケーションに接続するユーザーに対しては、仮想マシン上でホストされているか、Azure App Service のような PaaS 型サービスでホストされているかにかかわらず、アプリケーションへの接続を確実に最適化する必要があります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-181">For users connecting to applications, whether they're hosted on virtual machines or on PaaS offerings like Azure App Service, you'll want to ensure they have the best connection to your applications.</span></span> 

<span data-ttu-id="af5ab-182">ユーザーをサービスに接続する場合、パブリック インターネットを常に使用できますが、インターネットのパフォーマンスは一定ではなく、外部の問題によって影響されることがあります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-182">You can always use the public internet to connect users to your services, but internet performance can vary and may be impacted by outside issues.</span></span> <span data-ttu-id="af5ab-183">さらに、すべてのサービスをインターネット上に公開することを希望しておらず、Azure リソースへのプライベート接続が必要な場合があります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-183">On top of that, you may not want to expose all of your services over the internet, and you may want a private connection to your Azure resources.</span></span>

<span data-ttu-id="af5ab-184">インターネットを使用したサイト間の VPN もオプションの 1 つですが、高スループットのアーキテクチャの場合、VPN のオーバーヘッドとインターネットの可変性によって待ち時間が大幅に増加する可能性があります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-184">Site-to-site VPN over the internet is also an option, but for high throughput architectures, VPN overhead and internet variability can increase latency noticeably.</span></span>

<span data-ttu-id="af5ab-185">Azure ExpressRoute が役に立ちます。</span><span class="sxs-lookup"><span data-stu-id="af5ab-185">Azure ExpressRoute can help.</span></span> <span data-ttu-id="af5ab-186">ExpressRoute はネットワークと Azure との間の、非公開の専用接続です。これを使用すると、パフォーマンスが保証され、エンド ユーザーがすべての Azure リソースへの最適なパスを確実に使用できるようになります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-186">ExpressRoute is a private, dedicated connection between your network and Azure, giving you guaranteed performance and ensuring that your end users have the best path to all of your Azure resources.</span></span> <span data-ttu-id="af5ab-187">次の図は、ExpressRoute 回線がオンプレミス アプリケーションと Azure リソース間に接続性を提供する方法を示しています。</span><span class="sxs-lookup"><span data-stu-id="af5ab-187">The following illustration shows how ExpressRoute Circuit provides connectivity between on-premises applications and Azure resources.</span></span>

![お客様のネットワークを Azure リソースと接続する ExpressRoute 回線を示すアーキテクチャ図。](../media/3-expressroute-connection-overview.png)

<span data-ttu-id="af5ab-189">もう一度 Lamna のシナリオを見てみると、Lamna は ExpressRoute の回線をオーストラリア東部と西ヨーロッパの両方にプロビジョニングし、施設内のエンド ユーザー エクスペリエンスをさらに改善することに決めました。</span><span class="sxs-lookup"><span data-stu-id="af5ab-189">Once again looking at Lamna's scenario, they decide to further improve end-user experience for users who are in their facilities by provisioning an ExpressRoute circuit in both Australia East and West Europe.</span></span> <span data-ttu-id="af5ab-190">これで、エンド ユーザーが予約システムに直接接続できるようになり、確実にアプリケーションの待ち時間が可能な限り少なくなります。</span><span class="sxs-lookup"><span data-stu-id="af5ab-190">This gives their end users a direct connection to their booking system and ensures the lowest latency possible for their application.</span></span>

<span data-ttu-id="af5ab-191">可能な最良のパフォーマンスをエンド ユーザーが確実に得られるようにするには、ネットワーク待ち時間がアーキテクチャに与える影響を考慮することが重要です。</span><span class="sxs-lookup"><span data-stu-id="af5ab-191">Considering the impact of network latency on your architecture is important to ensure the best possible performance for your end users.</span></span> <span data-ttu-id="af5ab-192">エンド ユーザーと Azure との間および Azure リソース間のネットワーク待ち時間を削減するための、いくつかのオプションについて説明しました。</span><span class="sxs-lookup"><span data-stu-id="af5ab-192">We've taken a look at some options to lower network latency between end users and Azure and between Azure resources.</span></span>