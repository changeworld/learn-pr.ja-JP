<span data-ttu-id="be979-101">設定した間隔でロジックを実行することはよくあります。</span><span class="sxs-lookup"><span data-stu-id="be979-101">It's common to execute a piece of logic at a set interval.</span></span> <span data-ttu-id="be979-102">あなたはブログ所有者で、購読者が最新の投稿を読んでいないことに気付いたとします。</span><span class="sxs-lookup"><span data-stu-id="be979-102">Imagine you're a blog owner and you notice that your subscribers aren't reading your most recent posts.</span></span> <span data-ttu-id="be979-103">最良の対処として、1 週間に一度、ブログをチェックするように知らせる電子メールを送信することにしました。</span><span class="sxs-lookup"><span data-stu-id="be979-103">You decide that the best action is to send an email once a week to remind them to check your blog.</span></span> <span data-ttu-id="be979-104">このロジックを実装するために、Azure 関数とタイマー トリガーを使用して、関数を毎週呼び出します。</span><span class="sxs-lookup"><span data-stu-id="be979-104">You implement this logic using an Azure function with a timer trigger to invoke your function weekly.</span></span>

<span data-ttu-id="be979-105">ここでは、タイマー トリガーを作成し、トリガーを一定の間隔で実行するように指示する方法を学びます。</span><span class="sxs-lookup"><span data-stu-id="be979-105">Here, you'll learn how to create a timer trigger and instruct the trigger to run at a consistent interval.</span></span>

## <a name="what-is-a-timer-trigger"></a><span data-ttu-id="be979-106">タイマー トリガーとは</span><span class="sxs-lookup"><span data-stu-id="be979-106">What is a timer trigger?</span></span>

<span data-ttu-id="be979-107">タイマー トリガーは、一定の間隔で関数を実行するトリガーです。</span><span class="sxs-lookup"><span data-stu-id="be979-107">A timer trigger is a trigger that executes a function at a consistent interval.</span></span> <span data-ttu-id="be979-108">タイマー トリガーを作成するには、2 つの情報を指定する必要があります。</span><span class="sxs-lookup"><span data-stu-id="be979-108">To create a timer trigger, you need to supply two pieces of information.</span></span> <span data-ttu-id="be979-109">最初の要件は、*タイムスタンプ パラメーター名*です。これは単純に、コード内のトリガーにアクセスするための識別子です。</span><span class="sxs-lookup"><span data-stu-id="be979-109">The first requirement is a *Timestamp parameter name*, which is simply an identifier to access the trigger in code.</span></span> <span data-ttu-id="be979-110">2 番目の要件は、*スケジュール*です。これは、タイマーの間隔を設定する *CRON 式*です。</span><span class="sxs-lookup"><span data-stu-id="be979-110">The second requirement is a *Schedule*, which is a *CRON expression* that sets the interval for the timer.</span></span>

## <a name="what-is-a-cron-expression"></a><span data-ttu-id="be979-111">CRON 式とは</span><span class="sxs-lookup"><span data-stu-id="be979-111">What is a CRON expression?</span></span>

<span data-ttu-id="be979-112">*CRON 式*は、時刻のセットを表す 6 つのフィールドで構成される文字列です。</span><span class="sxs-lookup"><span data-stu-id="be979-112">A *CRON expression* is a string that consists of six fields that represent a set of times.</span></span>

<span data-ttu-id="be979-113">Azure での、6 つのフィールドの順序は、{second} {minute} {hour} {day} {month} {day of week} です。</span><span class="sxs-lookup"><span data-stu-id="be979-113">The order of the six fields in Azure is: {second} {minute} {hour} {day} {month} {day of the week}.</span></span>

<span data-ttu-id="be979-114">たとえば、5 分ごとに実行されるトリガーを作成する *CRON 式*は、次のようになります。</span><span class="sxs-lookup"><span data-stu-id="be979-114">For example, a *CRON expression* to create a trigger that executes every five minutes looks like:</span></span>

```
0 */5 * * * *
```

<span data-ttu-id="be979-115">最初は、この文字列は複雑に見えるかもしれません。</span><span class="sxs-lookup"><span data-stu-id="be979-115">At first, this string may look confusing.</span></span> <span data-ttu-id="be979-116">*CRON 式*について詳しく説明するときに、再度個々に解説します。</span><span class="sxs-lookup"><span data-stu-id="be979-116">We'll come back and break down these concepts when we have a deeper look at *CRON expressions*.</span></span>

<span data-ttu-id="be979-117">*CRON 式*を作成するには、いくつかの特殊文字について基本を理解している必要があります。</span><span class="sxs-lookup"><span data-stu-id="be979-117">To build a *CRON expression*, you need to have a basic understanding of some of the special characters.</span></span>

| <span data-ttu-id="be979-118">特殊文字</span><span class="sxs-lookup"><span data-stu-id="be979-118">Special character</span></span> | <span data-ttu-id="be979-119">意味</span><span class="sxs-lookup"><span data-stu-id="be979-119">Meaning</span></span> | <span data-ttu-id="be979-120">例</span><span class="sxs-lookup"><span data-stu-id="be979-120">Example</span></span> |
| ------------- | ------------- | ------------- |
| *      | <span data-ttu-id="be979-121">フィールド内のすべての値を選択する</span><span class="sxs-lookup"><span data-stu-id="be979-121">Selects every value in a field</span></span> | <span data-ttu-id="be979-122">曜日フィールド内でのアスタリスク "*" は、*すべての\*曜日を意味します。</span><span class="sxs-lookup"><span data-stu-id="be979-122">An asterisk "\*" in the day of the week field means *every* day.</span></span> |
| <span data-ttu-id="be979-123">,</span><span class="sxs-lookup"><span data-stu-id="be979-123">,</span></span>      | <span data-ttu-id="be979-124">リスト内の項目を区切る</span><span class="sxs-lookup"><span data-stu-id="be979-124">Separates items in a list</span></span> | <span data-ttu-id="be979-125">曜日フィールド内でのコンマ "1, 3" は、月曜日 (1 日目) と水曜日 (3 日目) を意味します。</span><span class="sxs-lookup"><span data-stu-id="be979-125">A comma "1,3" in the day of the week field means just Mondays (day 1) and Wednesdays (day 3).</span></span> |
| -      | <span data-ttu-id="be979-126">範囲を指定する</span><span class="sxs-lookup"><span data-stu-id="be979-126">Specifies a range</span></span> | <span data-ttu-id="be979-127">時間フィールド内でのハイフン "10 - 12" は、10 時、11 時、および 12 時を含む範囲を意味します。</span><span class="sxs-lookup"><span data-stu-id="be979-127">A hyphen "10-12" in the hour field means a range that includes the hours 10, 11, and 12.</span></span> |
| /      | <span data-ttu-id="be979-128">増分を指定する</span><span class="sxs-lookup"><span data-stu-id="be979-128">Specifies an increment</span></span> | <span data-ttu-id="be979-129">分フィールド内でのスラッシュ"\*/10" は、10 分ごとの増分を意味します。</span><span class="sxs-lookup"><span data-stu-id="be979-129">A slash "\*/10" in the minutes field means an increment of every 10 minutes.</span></span> |

<span data-ttu-id="be979-130">では、元の CRON 式の例に戻ります。</span><span class="sxs-lookup"><span data-stu-id="be979-130">Now we'll go back to the original CRON expression example.</span></span> <span data-ttu-id="be979-131">フィールドごとに分けて詳しく理解してみましょう。</span><span class="sxs-lookup"><span data-stu-id="be979-131">Let’s try to understand it better by breaking it down field by field.</span></span>

```
0 */5 * * * *
```

<span data-ttu-id="be979-132">**最初のフィールド**は、秒を表します。</span><span class="sxs-lookup"><span data-stu-id="be979-132">The **first field** represents seconds.</span></span> <span data-ttu-id="be979-133">このフィールドでは、0 から 59 までの値を使用できます。</span><span class="sxs-lookup"><span data-stu-id="be979-133">This field supports the values 0-59.</span></span> <span data-ttu-id="be979-134">このフィールドには 0 が含まれているため、最初の指定可能な値である 1 秒を選択しています。</span><span class="sxs-lookup"><span data-stu-id="be979-134">Because the field contains a zero, it selects the first possible value, which is one second.</span></span>

<span data-ttu-id="be979-135">**2 番目のフィールド**は、分を表します。</span><span class="sxs-lookup"><span data-stu-id="be979-135">The **second field** represents minutes.</span></span> <span data-ttu-id="be979-136">"*/5" という値には 2 つの特殊文字が含まれています。まず、アスタリスク (*) は "フィールド内のすべての値を選択する" ことを意味します。</span><span class="sxs-lookup"><span data-stu-id="be979-136">The value "*/5" contains two special characters. First, the asterisk (*) means "select every value within the field."</span></span> <span data-ttu-id="be979-137">このフィールドは分を表すため、選択可能な値は 0 から 59 までです。</span><span class="sxs-lookup"><span data-stu-id="be979-137">Because this field represents minutes, the possible values are 0-59.</span></span> <span data-ttu-id="be979-138">2 つ目の特殊文字はスラッシュ (/) で、これは増分を表します。</span><span class="sxs-lookup"><span data-stu-id="be979-138">The second special character is the slash (/), which represents an increment.</span></span> <span data-ttu-id="be979-139">これらの文字を組み合わせると、0 から 59 までのすべての値から、5 番目ごとのすべての値を選択することを意味します。</span><span class="sxs-lookup"><span data-stu-id="be979-139">WHen you combine these characters together, it means for all values 0-59, select every fifth value.</span></span> <span data-ttu-id="be979-140">簡単に言うと、"5 分ごと" です。</span><span class="sxs-lookup"><span data-stu-id="be979-140">An easier way to say that is simply "every five minutes."</span></span>

<span data-ttu-id="be979-141">**残りの 4 つのフィールド**は、時間、日、月、曜日を表します。</span><span class="sxs-lookup"><span data-stu-id="be979-141">The **remaining four fields** represent the hour, day, month, and weekday of the week.</span></span> <span data-ttu-id="be979-142">これらのフィールドにおいて、アスタリスクはすべての値を選択することを意味します。</span><span class="sxs-lookup"><span data-stu-id="be979-142">An asterisk for these fields means to select every possible value.</span></span> <span data-ttu-id="be979-143">この例では、"毎月、毎日、1 時間ごと" を選択しています。</span><span class="sxs-lookup"><span data-stu-id="be979-143">In this example, we select "every hour of every day of every month."</span></span>

<span data-ttu-id="be979-144">すべてのフィールドをまとめると、この式は "毎月、毎日、1 時間ごと、5 分ごとの最初の秒" と読むことができます。</span><span class="sxs-lookup"><span data-stu-id="be979-144">When you put all of the fields together, the expression is read as "on the first second, of every fifth minute of every hour, of every day, of every month".</span></span>

## <a name="how-to-create-a-timer-trigger"></a><span data-ttu-id="be979-145">タイマー トリガーを作成する方法</span><span class="sxs-lookup"><span data-stu-id="be979-145">How to create a timer trigger</span></span>

<span data-ttu-id="be979-146">タイマー トリガーは、Azure portal 内だけで作成できます。</span><span class="sxs-lookup"><span data-stu-id="be979-146">A timer trigger can be created completely within the Azure portal.</span></span> <span data-ttu-id="be979-147">Azure 関数内で、定義済みのトリガーの種類の一覧から **[タイマー トリガー]** を選択します。</span><span class="sxs-lookup"><span data-stu-id="be979-147">In your Azure function, select **timer trigger** from the list of predefined trigger types.</span></span> <span data-ttu-id="be979-148">実行するロジックを入力します。</span><span class="sxs-lookup"><span data-stu-id="be979-148">Enter the logic that you want to execute.</span></span> <span data-ttu-id="be979-149">**[タイムスタンプ パラメーター名]** と **[CRON 式]** を指定します。</span><span class="sxs-lookup"><span data-stu-id="be979-149">Supply a **Timestamp parameter name** and the **CRON expression**.</span></span>

## <a name="summary"></a><span data-ttu-id="be979-150">まとめ</span><span class="sxs-lookup"><span data-stu-id="be979-150">Summary</span></span>

<span data-ttu-id="be979-151">タイマー トリガーは、一貫したスケジュールに基づいて Azure 関数を呼び出すトリガーです。</span><span class="sxs-lookup"><span data-stu-id="be979-151">A timer trigger invokes an Azure function on a consistent schedule.</span></span> <span data-ttu-id="be979-152">タイマー トリガーのスケジュールを定義するには、*CRON 式*を作成します。CRON 式は一連の時間を表す文字列です。</span><span class="sxs-lookup"><span data-stu-id="be979-152">To define the schedule for a timer trigger, we build a *CRON expression*, which is a string that represents a set of times.</span></span>

