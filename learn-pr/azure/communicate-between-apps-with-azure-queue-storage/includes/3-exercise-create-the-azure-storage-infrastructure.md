トラフィックの急増により中間層に負荷がかかることがわかりました。 これに対処するため、アーティクル アップロード アプリケーションのフロントエンドと中間層の間にキューを追加することにしました。

キューを作成するための最初の手順は、データを格納する Azure ストレージ アカウントの作成です。

<!-- Activate the sandbox -->
[!include[](../../../includes/azure-sandbox-activate.md)]

## <a name="create-a-storage-account-with-the-azure-cli"></a>Azure CLI を使用してストレージ アカウントを作成する

> [!TIP] 
> 通常は、関連するすべてのリソースを保持する "_リソース グループ_" を作成することで、新しいプロジェクトを開始します。 このケースでは、Azure サンドボックスを使用します。このサンドボックスでは、<rgn>[サンドボックス リソース グループ名]</rgn> という名前のリソース グループが提供されます。

`az storage account create` コマンドを使用して、ストレージ アカウントを作成します。 コマンドは、右側の Cloud Shell ウィンドウに入力できます。

コマンドには、いくつかのパラメーターが必要です。

| パラメーター | 値 |
|-----------|-------|
| `--name`  | 名前を設定します。 ストレージ アカウントはその名前を使用してパブリック URL を生成するため、一意でなければなりません。 また、アカウント名の長さは 3 から 24 文字で、数字と小文字のみを使用できます。 **articles** のプレフィックスとランダムな数値のサフィックスを使用することをお勧めします。ただし、任意の文字列を使用することもできます。 |
| `-g`        | **リソース グループ**を指定します。_<rgn>[サンドボックス リソース グループ名]</rgn>_ を値として使用します。 |
| `--kind`    | **ストレージ アカウントの種類**を設定します。_StorageV2_ を使用して汎用 V2 アカウントを作成します。 |
| `--sku`     | **レプリケーションとストレージの種類**を設定します。既定値は _Standard_RAGRS_ です。 単にデータ センター内でローカルで冗長になるだけの _Standard_LRS_ を使用しましょう。 |
| `-l`        | リソース グループの所有者に依存しない**場所**を設定します。 これは省略可能ですが、これにより、リソース グループとは異なるリージョンにキューを配置できるようになります。 自分の近くに配置します。下のサンドボックスで利用可能なリージョンの一覧から選択します。 |

<!-- Resource selection -->
[!include[](../../../includes/azure-sandbox-regions-first-mention-note.md)]

上記のパラメーターを使用するコマンド ラインの例を次に示します。 `--name` パラメーターを必ず変更してください。

```azurecli
az storage account create --name [unique-name] -g <rgn>[Sandbox resource group name]</rgn> --kind StorageV2 --sku Standard_LRS
```

<!-- Paste tip-->
[!include[](../../../includes/azure-cloudshell-copy-paste-tip.md)]
