この演習では、Data Migration Assistant を使用して既存のデータベースを評価し、現在、Azure SQL Database でサポートされていないローカルの SQL Server インスタンスで使用される機能を確認します。

## <a name="setup"></a>セットアップ

1. まだインストールしていない場合は、[**Data Migration Assistant**](https://www.microsoft.com/en-us/download/details.aspx?id=53595) をインストールします。

1. SQL Server インスタンスを実行している必要であり、接続の詳細を利用できることを確認します。
1. [**** LOD VM に置き換えられる可能性が高い *****] <!-- TODO: -->

1. インターネット ブラウザーを起動して、 https://docs.microsoft.com/en-us/sql/samples/adventureworks-install-configure?view=sql-server-2017 に移動します。

1. 「**OLTP のダウンロード**」で、**AdventureWorks2008R2.bak** をクリックして、ご利用のローカル コンピューターに保存します。

1. Management Studio で、*AdventureWorks 2008R2* をご使用の既定のインスタンスに復元します。

## <a name="create-an-assessment"></a>評価の作成

1. **Microsoft Data Migration Assistant** を起動します。

1. アプリの左側にあるナビゲーションで、__+__ をクリックして新しい DMA プロジェクトを作成します。

1. 次のオプションを指定します。
    - **プロジェクト タイプ** - *[評価]* を選択します
    - **プロジェクト名** - プロジェクトの名前を入力します。たとえば、"Bicycle DB Assessment" です
    - **ソース サーバーの種類** - *[SQL Server]* を選択します
    - **対象サーバーの種類** - *[Azure SQL Database]* を選択します

1. **[作成]** をクリックします。
    ![Data Migration Assistant でご利用の AdventureWorks SQL Server データに対して記述された構成を示すスクリーンショット。](../media-draft/3-create-assessment.png)

1. 評価レポートの種類を選択します。次の両方をチェックします。
    - データベース互換性をチェックする
    - 機能パリティをチェックする

1. **[次へ]** をクリックします。

## <a name="add-databases-to-assess"></a>評価するデータベースの追加

1. **[ソースの追加]** をクリックして接続メニューを開きます。
2. 次の情報を入力します
    - 既存の SQL Server インスタンスの名前を入力します
    - **[認証]** の種類を選択します
    - サーバーの接続プロパティを指定します
3. **[接続]** をクリックします。
4. **[ソースの追加]** で、評価するデータベースを選択します。 この演習では、**AdventureWorks2008R2** を選択します。
5. **[追加]** をクリックします。
    > [!NOTE]
    > 複数の SQL Server インスタンスからデータベースを追加するには、**[ソースの追加]** ボタンを使用します。 複数のデータベースを削除するには、Shift + Ctrl キーを押しながら削除するデータベースを選択して、**[ソースの削除]** をクリックします。

6. **[評価の開始]** をクリックします。

## <a name="view-results"></a>結果の表示

複数のデータベースがある場合、各データベースの結果は利用できるようになるとすぐに表示されます。 すべてのデータベースの評価が完了するまで待機する必要はありません。

1. **AdventureWorks** の評価が完了したら、**[互換性の問題]** と **[機能に関する推奨事項]** をクリックして結果を表示します。
    - SQL Server の機能パリティ カテゴリには、完全にサポートされない可能性がある機能とこれらの問題を解決するための手順が一覧表示されます。 機能パリティの問題では、移行は停止されません。
    - 互換性の問題カテゴリには、移行を妨げる機能とこれらの問題を解決するための手順が一覧されます。

## <a name="summary"></a>まとめ

この演習では、ローカルにインストールされた SQL Server データベースを評価して、データベースを Azure SQL Database に移行したときに、利用できない機能があるかどうかを検証しました。