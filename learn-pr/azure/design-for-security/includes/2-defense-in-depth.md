セキュリティには "イージー ボタン" はありません。また、セキュリティの観点からすべての問題を解決するソリューションはありません。 たとえば、Lamna Healthcare では環境内でのセキュリティを無視しているものの、この領域を特に重視する必要があることは認識しているとします。 どこから始めてよいか、あるいは環境を安全なものにするためにソリューションを購入するだけでよいのかがよくわかりません。 総合的なアプローチが必要であることはわかっていますが、何が最適であるかがわかりません。 ここでは、多層防御の主な概念と、多層防御の戦略をサポートするための主なセキュリティ テクノロジとアプローチを確認します。また、独自の Azure サービスを設計する際にこれらの概念を適用する方法について説明します。

## <a name="a-layered-approach-to-security"></a>セキュリティへの階層型アプローチ

*多層防御*は、情報への不正なアクセスを目的とする攻撃の進行を遅らせる一連のメカニズムを採用する戦略です。 各層で保護が提供されるため、1 つの層が破られた場合、後続の層が既に用意されており、さらなる露出を防ぐことができます。 Microsoft では、自社の物理データセンター内と Azure サービス間の両方でのセキュリティに階層型アプローチを適用しています。 多層防御の目的は、情報を保護し、情報へのアクセスが許可されていない個人から盗まれないようにすることです。 セキュリティ体制を定義するために使用される一般的な原則は、機密性、整合性、可用性 (CIA と総称される) です。

- __機密性__ - 最小特権の原則です。 情報へのアクセスを、アクセスが明示的に許可されている個人にのみ限定します。 この情報には、ユーザーのパスワード、リモート アクセス証明書、電子メールの内容の保護が含まれます。

- __整合性__ - 保存中や転送中の情報に対する承認されていない変更を防ぎます。 データ転送で使用される一般的な方法は、一方向のハッシュ アルゴリズムを使用してデータの一意のフィンガープリントを作成する送信者のためのものです。 ハッシュはデータと共に受信者に送信されます。 データのハッシュは受信者によって再計算され、元のものと比較され、データが転送中に失われたり、変更されていないのかを確認します。

- __可用性__ - 承認されたユーザーがサービスを利用できるようにします。 サービス拒否攻撃は、これの最も一般的な悪意のある例です。 自然災害もまた、単一障害点を回避し、アプリケーションの複数のインスタンスを地理的に分散した場所にデプロイするためのシステム設計を促すものです。

## <a name="security-layers"></a>セキュリティ層

多層防御は、同心円状の輪のセットとして視覚化でき、データは中央でセキュリティ保護されます。 各輪では、データに関するセキュリティ層が追加されます。 このアプローチでは、単一の保護層に依存する必要がなくなり、攻撃速度を落とすことができます。また、自動または手動によるアラート テレメトリが提供されます。 それでは各層を見ていきましょう。

![多層防御](../media-draft/defense_in_depth_layers_small.PNG)

### <a name="data"></a>データ

ほとんどすべての場合、攻撃者は次のようなデータを狙っています。

- データベースに格納されたデータ
- 仮想マシン内のディスク上に格納されたデータ
- Office 365 などの SaaS アプリケーションに格納されたデータ
- クラウド ストレージに格納されたデータ

適切にセキュリティで保護されるように、データを格納し、データへのアクセスを制御する必要があります。 多くの場合、データの機密性、整合性、可用性を確保するために適用する必要がある制御とプロセスを示す規制上の要件があります。

### <a name="applications"></a>アプリケーション

- アプリケーションがセキュリティで保護されており、脆弱性がないようにします
- 機密性の高いアプリケーション シークレットをセキュリティで保護されたストレージ メディアに格納します
- すべてのアプリケーション開発に関する設計要件を安全なものにします

アプリケーション開発のライフ サイクルにセキュリティを統合することは、コードにおける脆弱性の数を減らすのに役立ちます。 すべての開発チームが既定でアプリケーションをセキュリティで保護するようにし、セキュリティ要件を交渉の余地のないものにします。

### <a name="compute"></a>コンピューティング

- 仮想マシンへのアクセスをセキュリティで保護します
- エンドポイント保護を実装し、システムにパッチを適用して最新の状態に保ちます

マルウェア、パッチが適用されていないシステム、および適切にセキュリティ保護されていないシステムにより、環境が攻撃を受けやすくなります。 この層では、コンピューティング リソースが安全であり、ここに示すセキュリティの問題を最小限に抑えるために適切に制御していることを確認することに重点を置きます。

### <a name="networking"></a>ネットワーク

- リソース間の通信を制限します
- 既定で拒否します
- 必要に応じて、インバウンド インターネット アクセスを限定し、アウトバウンドを制限します
- オンプレミス ネットワークへのセキュリティで保護された接続を実装します

この層では、すべてのリソース間でのネットワーク接続を制限し、必要なもののみを許可することに重点を置きます。 この通信を制限することで、ネットワーク全体の侵入拡大のリスクを軽減することができます。

### <a name="perimeter"></a>境界

- 分散型サービス拒否 (DDoS) 保護を使用して、エンド ユーザーに対するサービス拒否が発生する前に大規模な攻撃をフィルター処理します
- 境界ファイアウォールを使用して、ネットワークに対する悪意のある攻撃を識別し、警告します

ネットワーク境界で、リソースに対するネットワークベースの攻撃から保護する目的があります。 これらの攻撃を識別し、影響を排除し、警告することは、ネットワークを安全に保つために重要なことです。

### <a name="policies--access"></a>ポリシーとアクセス

- インフラストラクチャへのアクセスを制御し、変更を制御します
- シングル サインオンと多要素認証を使用します
- イベントと変更を監査します

ポリシーとアクセス層では、ID がセキュリティで保護されていることと、付与されたアクセス権のみが必要であることと、変更がログに記録されていることを確認することに集中します。

### <a name="physical-security"></a>物理的なセキュリティ

- 物理的なセキュリティを構築し、データ センター内のコンピューティング ハードウェアへのアクセスを制御することが、防御の最前線となります

物理的なセキュリティの目的は、資産へのアクセスに対する物理的な保護措置を講じることです。 これにより、他の層をバイパスできなくなり、損失や盗難が適切に処理されます。

各層では CIA の懸念事項を 1 つ以上の実装できます。

|#|輪|例|原則
|---|---|---|---|
|1|データ|Azure Blob Storage に保存中のデータの暗号化|整合性|
|2|アプリケーション|SSL/TLS で暗号化されたセッション|整合性|
|3|コンピューティング|OS および階層型ソフトウェア パッチを定期的に適用します|可用性|
|4|ネットワーク|ネットワーク セキュリティ規則|機密性|
|5|境界|DDoS 保護|可用性|
|6|ポリシーとアクセス|Azure Active Directory ユーザー認証|整合性|
|7|物理的なセキュリティ|Azure データ センターの生体認証アクセス制御|機密性|

## <a name="shared-responsibilities"></a>共同責任

お客様が制御するデータセンターからクラウド データセンターへのコンピューティング環境の移行時に、セキュリティの責任も移行されます。 現在、セキュリティはクラウド プロバイダーとお客様の両方に共通の懸念事項です。

![shared_responsibility.png](../media-draft/shared_responsibilities.png)

## <a name="continuous-improvement"></a>継続的な改善

脅威の状況はリアルタイムに大きく変わるため、セキュリティ アーキテクチャが完全になることはありません。 Microsoft およびお客様は、これらの脅威に対するインテリジェントですばやい大規模な対応が必要になります。

[Azure Security Center](https://azure.microsoft.com/en-us/services/security-center/) は、オンプレミスおよび Azure でのセキュリティ イベントを把握し、対応するための統合セキュリティ管理と高度な脅威保護を実現します。 一方、Azure のお客様には、セキュリティ アーキテクチャを継続的に再評価し、進化させる責任があります。

## <a name="defense-in-depth-at-lamna-healthcare"></a>Lamna Healthcare での多層防御

Lamna Healthcare では、IT チーム全体の多層防御が重視されています。 組織は機密性の高い大量の医療データに対する責任があるため、包括的なアプローチが最適であることを認識しています。 

組織全体でこれを推進することに重点を置くセキュリティ チームと共に、各 IT チームからの担当者を含む仮想チームを形成しました。 脆弱性とその対処方法に関する技術者や設計者の教育に取り組み、組織でのプロジェクトの移動の際にガイダンスを提供します。

この作業がまだ行われていないことを認識しており、通常のポリシー、プロセス、技術およびアーキテクチャについて確認し、セキュリティを強化するための方法を常に模索するようにしています。

## <a name="summary"></a>まとめ

セキュリティへの多層防御のアプローチとこのアプローチの層がどのようなものであるかや、各層で重視されている内容を確認しました。 アーキテクチャでのセキュリティにこのアプローチを使用することで、先に進み、単一の層やテクノロジに焦点を当てるのではなく、環境全体で包括的にセキュリティに対処できるようになります。