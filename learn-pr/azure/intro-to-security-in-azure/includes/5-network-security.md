攻撃や未承認のアクセスからネットワークを保護することは、すべてのアーキテクチャの重要な部分です。 ここでは、ネットワーク セキュリティとはどのようなものか、階層型アプローチをアーキテクチャに統合する方法、環境にネットワーク セキュリティを提供するときに Azure がどのように役立つかについて見ていきます。

## <a name="a-layered-approach-to-network-security"></a>ネットワーク セキュリティに対する階層型アプローチ

このモジュールの共通スレッドでは、セキュリティに対して階層型アプローチが採用されており、このアプローチはネットワーク層でも違いません。 ネットワーク境界のセキュリティ保護、またはネットワーク内のサービス間のネットワーク セキュリティに注目するだけでは、十分ではありません。 階層型アプローチでは、攻撃者が 1 つの階層を突破した場合でも、それ以上の攻撃を制限するための保護がさらに存在するように、複数レベルの保護が提供されています。

Azure においてネットワーク フットプリントをセキュリティ保護するために階層型アプローチ向けのツールがどのように提供されるのかを見てみましょう。

### <a name="internet-protection"></a>インターネットからの保護

まず、ネットワークの境界の場合は、インターネットからの攻撃を制限および排除することに注目します。 出発点として最も適しているのは、インターネットに接続しているリソースを評価し、必要な場合にのみ受信および送信の通信を許可することです。 任意の種類の受信ネットワーク トラフィックを許可しているすべてのリソースを明らかにし、それらが必要であること、そして必要なポート/プロトコルのみに制限されていることを確認します。 Azure Security Center はこの情報を探すのに最適な場所です。ネットワーク セキュリティ グループ (NSG) が関連付けられていないインターネット接続リソース、およびファイアウォールの背後でセキュリティ保護されていないリソースがわかります。

境界で受信の保護を行うには 2 つの選択肢があります。

* Application Gateway は、一般的な既知の脆弱性に対する保護を提供する Web アプリケーション ファイアウォールを含むロード バランサーです。

* 非 http サービスまたは高度な構成に対しては、ネットワーク仮想アプライアンス (NVA) を使用できます。 NVA は、ハードウェア ファイアウォール アプライアンスに似ています。


インターネットに公開されているすべてのリソースには、サービス拒否攻撃を受けるリスクがあります。 この種の攻撃は、リソースが低速または応答不能になるほど多くの要求を送信することによって、ネットワーク リソースの制圧を試みます。 これらの攻撃を軽減するため、Azure DDoS では、すべての Azure サービスに対する基本的な保護と、ユーザーのリソースに合わせてさらにカスタマイズできる拡張保護が提供されています。 DDoS 保護は、攻撃トラフィックをブロックし、残りのトラフィックをその目的の宛先に転送します。 攻撃の検出から数分以内に、Azure Monitor メトリックを使用してユーザーに通知が届きます。

<!--TODO: replace with final media which was submitted for Design-for-security-in-azure -->
![DDoS](../media-COPIED-FROM-DESIGNFORSECURITY/ddos.png)

### <a name="virtual-network-security"></a>仮想ネットワークのセキュリティ

仮想ネットワーク (VNet) の内部の場合は、リソース間の通信を必要なものだけに制限することが重要です。

仮想マシン間の通信では、ネットワーク セキュリティ グループ (NSG) が、不要な通信を制限するための重要な部分です。 ネットワーク セキュリティ グループは、ネットワーク インターフェイスおよびサブネットとの間の双方向の通信について、許可する通信と拒否する通信の一覧を提供し、完全にカスタマイズ可能です。

サービス エンドポイントへのアクセスを制限することで、サービスへのパブリック インターネット アクセスを完全に除去することができます。 サービス エンドポイントを使用すると、Azure サービス アクセスを仮想ネットワークに限定することができます。

### <a name="network-integration"></a>ネットワーク統合

一般に、オンプレミス ネットワークからの通信を提供したり、Azure 内のサービス間の通信をよりよくするには、既存のネットワーク インフラストラクチャを統合する必要があります。 この統合を処理してネットワークのセキュリティを強化するには、いくつかの主要な方法があります。

仮想プライベート ネットワーク (VPN) 接続は、ネットワーク間に安全な通信チャネルを確立する一般的な方法です。 Azure VNet とオンプレミスの VPN デバイスの間の接続は、ユーザーのネットワークと Azure 上のユーザーの VNet の間にセキュリティ保護された通信を提供する優れた方法です。

ユーザーのネットワークと Azure の間に専用のプライベート接続を提供するには、ExpressRoute を使用できます。 ExpressRoute を利用すると、接続プロバイダーが提供するプライベート接続を介して、オンプレミスのネットワークを Microsoft クラウドに拡張できます。 ExpressRoute では、Microsoft Azure、Office 365、Dynamics 365 などの Microsoft クラウド サービスへの接続を確立できます。 このようにすると、インターネット経由の代わりにプライベート回線でこのトラフィックを送信することによって、オンプレミスの通信のセキュリティが向上します。 エンド ユーザーにインターネットを介したこれらのサービスへのアクセスを許可する必要はなく、アプライアンス経由でこのトラフィックを送信することによりトラフィックをさらに検査できます。

## <a name="summary"></a>まとめ

ネットワーク セキュリティに対する階層型アプローチは、ネットワーク ベースの攻撃による露出のリスクを減らすのに役立ちます。 Azure では、インターネットに接続されたリソース、内部リソース、およびオンプレミス ネットワーク間の通信をセキュリティ保護するための、複数のサービスと機能が提供されています。 これらの機能を使用すれば、Azure 上でセキュリティ保護されたソリューションを作成できます。