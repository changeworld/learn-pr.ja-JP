<span data-ttu-id="0bdbf-101">ほとんどの組織にとって、データは最も重要でかけがえのない資産です。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-101">For most organizations, data is the most valuable and irreplaceable asset.</span></span> <span data-ttu-id="0bdbf-102">暗号化は、階層型セキュリティ戦略における最強の最終防御線として機能します。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-102">Encryption serves as the last and strongest line of defense in a layered security strategy.</span></span> 

<span data-ttu-id="0bdbf-103">Contoso Shipping は、データがデータ センターからモバイル アプリに転送される間は暗号化のみがデータを保護する手段であることを認識しています。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-103">Contoso Shipping knows that encryption is the only protection their data has once it leaves the data center as it heads to those mobile apps.</span></span>

## <a name="what-is-encryption"></a><span data-ttu-id="0bdbf-104">暗号化とは</span><span class="sxs-lookup"><span data-stu-id="0bdbf-104">What is encryption?</span></span>

<span data-ttu-id="0bdbf-105">暗号化は、承認されていない閲覧者がデータの読み取りと使用を実行できなくするプロセスです。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-105">Encryption is the process of making data unreadable and unusable to unauthorized viewers.</span></span> <span data-ttu-id="0bdbf-106">暗号化されたデータを使用または読み取るには、*復号化*する必要があります。その場合、秘密鍵を使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-106">To use or read the encrypted data, it must be *decrypted*, which requires the use of a secret key.</span></span> <span data-ttu-id="0bdbf-107">暗号化には、**対称**と**非対称**という最上位レベルの 2 つの種類があります。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-107">There are two top-level types of encryption: **symmetric** and **asymmetric**.</span></span>

<span data-ttu-id="0bdbf-108">対称暗号化では、データの暗号化と復号化で同じキーが使用されます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-108">Symmetric encryption uses the same key to encrypt and decrypt the data.</span></span> <span data-ttu-id="0bdbf-109">たとえば、デスクトップのパスワード マネージャー アプリケーションがあるとします。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-109">Consider a desktop password manager application.</span></span> <span data-ttu-id="0bdbf-110">パスワードを入力すると、そのパスワードは自分の個人キーで暗号化されます (多くの場合、キーはマスター キーワードから派生します)。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-110">You enter your passwords and they are encrypted with your own personal key (your key is often derived from your master password).</span></span> <span data-ttu-id="0bdbf-111">データを取得する必要がある場合、同じキーが使用され、データが復号化されます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-111">When the data needs to be retrieved, the same key is used, and the data is decrypted.</span></span>

<span data-ttu-id="0bdbf-112">非対称暗号化では公開鍵と秘密鍵のペアが使用されます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-112">Asymmetric encryption uses a public key and private key pair.</span></span> <span data-ttu-id="0bdbf-113">いずれのキーでも暗号化できますが、その暗号化されたデータは、単一のキーで復号できません。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-113">Either key can encrypt but a single key can't decrypt its own encrypted data.</span></span> <span data-ttu-id="0bdbf-114">復号するには、ペアになっているキーが必要です。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-114">To decrypt, you need the paired key.</span></span> <span data-ttu-id="0bdbf-115">非対称暗号化は、トランスポート層セキュリティ (TLS) (HTTPS で使用) やデータの署名などで使用されます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-115">Asymmetric encryption is used for things like Transport Layer Security (TLS) (used in HTTPS) and data signing.</span></span>

<span data-ttu-id="0bdbf-116">対称と非対称の両方の暗号化は、データを適切に保護する役割を果たします。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-116">Both symmetric and asymmetric encryption play a role in properly securing your data.</span></span> 

<span data-ttu-id="0bdbf-117">暗号化は通常、保存時の暗号化と転送中の暗号化という 2 つの方法で行われます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-117">Encryption is typically approached in two ways: encryption at rest and encryption in transit.</span></span>

## <a name="encryption-in-transit"></a><span data-ttu-id="0bdbf-118">転送中の暗号化</span><span class="sxs-lookup"><span data-stu-id="0bdbf-118">Encryption in transit</span></span>

<span data-ttu-id="0bdbf-119">転送中のデータとは、インターネット上やプライベート ネットワーク経由などで、ある場所から別の場所に頻繁に移動されるデータのことです。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-119">Data in transit is the data actively moving from one location to another, such as across the internet or through a private network.</span></span> <span data-ttu-id="0bdbf-120">セキュリティで保護された転送は、いくつかの異なる層で処理できます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-120">Secure transfer can be handled by several different layers.</span></span> <span data-ttu-id="0bdbf-121">これは、ネットワーク上に送信する前に、データをアプリケーション層で暗号化することで実現できます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-121">It could be done by encrypting the data at the application layer prior to sending it over a network.</span></span> <span data-ttu-id="0bdbf-122">HTTPS は、アプリケーション層の転送中の暗号化の一例です。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-122">HTTPS is an example of application layer in transit encryption.</span></span> 

<span data-ttu-id="0bdbf-123">また、仮想プライベート ネットワーク (VPN) など、セキュリティで保護されたチャネルをネットワーク層に設定して、2 つのシステム間でデータを送信することもできます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-123">You can also set up a secure channel, like a virtual private network (VPN), at a network layer, to transmit data between two systems.</span></span> 

<span data-ttu-id="0bdbf-124">転送中のデータを暗号化することで、外部のオブザーバーからデータが保護され、露出のリスクを制限しながらデータを転送するためのメカニズムが提供されます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-124">Encrypting data in transit protects the data from outside observers and provides a mechanism to transmit data while limiting risk of exposure.</span></span> 

![転送中の暗号化](../media/encryption-in-transit.png)


## <a name="encryption-at-rest"></a><span data-ttu-id="0bdbf-126">保存時の暗号化</span><span class="sxs-lookup"><span data-stu-id="0bdbf-126">Encryption at rest</span></span>

<span data-ttu-id="0bdbf-127">保存データは、物理メディアに格納されているデータです。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-127">Data at rest is the data that has been stored on a physical medium.</span></span> <span data-ttu-id="0bdbf-128">サーバーのディスク上に格納されているデータ、データベース内に格納されているデータ、ストレージ アカウントに格納されているデータなどがあります。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-128">This could be data stored on the disk of a server, data stored in a database, or data stored in a storage account.</span></span> <span data-ttu-id="0bdbf-129">ストレージ メカニズムに関係なく、保存データの暗号化により、復号化に必要なキーとシークレットなしでは格納されているデータを読み取れなくなります。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-129">Regardless of the storage mechanism, encryption of data at rest ensures that the stored data is unreadable without the keys and secrets needed to decrypt it.</span></span> <span data-ttu-id="0bdbf-130">攻撃者は、暗号化されたデータが保存されているハード ドライブにアクセスできても、暗号化キーにはアクセスできなかった場合、データのセキュリティを侵害することが難しくなります。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-130">If an attacker was to obtain a hard drive with encrypted data and did not have access to the encryption keys, the attacker would not compromise the data without great difficulty.</span></span>

<span data-ttu-id="0bdbf-131">暗号化されている実際のデータは、その内容、使用状況、組織での重要性によって異なる場合があります。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-131">The actual data that is encrypted could vary in its content, usage, and importance to the organization.</span></span> <span data-ttu-id="0bdbf-132">企業に欠かせない財務情報、企業が発展させた知的財産、企業で格納されている顧客や従業員に関する個人データ、さらにはデータ自体の暗号化に使用されるキーやシークレットである場合があります。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-132">This could be financial information critical to the business, intellectual property that has been developed by the business, personal data about customers or employees that the business stores, and even the keys and secrets used for the encryption of the data itself.</span></span>

![保存時の暗号化](../media/encryption-at-rest.png)

## <a name="encryption-on-azure"></a><span data-ttu-id="0bdbf-134">Azure での暗号化</span><span class="sxs-lookup"><span data-stu-id="0bdbf-134">Encryption on Azure</span></span>

<span data-ttu-id="0bdbf-135">Azure で複数のサービスにまたがるデータを暗号化できる方法をいくつか見ていきましょう。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-135">Let's take a look at some ways that Azure enables you to encrypt data across services.</span></span>

:::row:::
  :::column:::
    <span data-ttu-id="0bdbf-136">![暗号化されたストレージを表す画像](../media/4-encrypt-raw-storage.png)</span><span class="sxs-lookup"><span data-stu-id="0bdbf-136">![Image representing encrypted storage](../media/4-encrypt-raw-storage.png)</span></span>
  :::column-end:::
    <span data-ttu-id="0bdbf-137">:::column span="3"::: **生のストレージの暗号化**</span><span class="sxs-lookup"><span data-stu-id="0bdbf-137">:::column span="3"::: **Encrypt raw storage**</span></span>

<span data-ttu-id="0bdbf-138">保存データ用の Azure Storage Service Encryption は、組織のセキュリティとコンプライアンス コミットメントを満たすためにデータを保護するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-138">Azure Storage Service Encryption for data at rest helps you protect your data to meet your organizational security and compliance commitments.</span></span> <span data-ttu-id="0bdbf-139">この機能を使用すると、Azure Storage プラットフォームではデータが Azure Managed Disks、Azure Blob Storage、Azure Files、または Azure Queue Storage に保存される前に自動的に暗号化され、データは取得される前に復号化されます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-139">With this feature, the Azure storage platform automatically encrypts your data before persisting it to Azure Managed Disks, Azure Blob storage, Azure Files, or Azure Queue storage, and decrypts the data before retrieval.</span></span> <span data-ttu-id="0bdbf-140">Storage Service Encryption での暗号化、保存時の暗号化、キー管理の処理は、サービスを使用するアプリケーションに対して透過的に行われます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-140">The handling of encryption, encryption at rest, decryption, and key management in Storage Service Encryption is transparent to applications using the services.</span></span>
  :::column-end:::
:::row-end:::

:::row:::
  :::column:::
    <span data-ttu-id="0bdbf-141">![暗号化された仮想マシンを表す画像](../media/4-encrypt-virtual-machines.png)</span><span class="sxs-lookup"><span data-stu-id="0bdbf-141">![Image representing an encrypted virtual machine](../media/4-encrypt-virtual-machines.png)</span></span>
  :::column-end:::
    <span data-ttu-id="0bdbf-142">:::column span="3"::: **仮想マシンの暗号化**</span><span class="sxs-lookup"><span data-stu-id="0bdbf-142">:::column span="3"::: **Encrypt virtual machines**</span></span>

<span data-ttu-id="0bdbf-143">Storage Service Encryption では、物理ディスクに書き込まれたデータに対する低レベルの暗号化保護が提供されますが、仮想マシンの仮想ハード ディスク (VHD) はどのように保護するのでしょうか?</span><span class="sxs-lookup"><span data-stu-id="0bdbf-143">Storage Service Encryption provides low-level encryption protection for data written to physical disk, but how do you protect the virtual hard disks (VHDs) of virtual machines?</span></span> <span data-ttu-id="0bdbf-144">悪意のある攻撃者が Azure サブスクリプションアクセスし、仮想マシンの VHD を抜き取った場合、攻撃者が VHD に格納されているデータにアクセスすることを確実に防ぐにはどうすればよいでしょうか?</span><span class="sxs-lookup"><span data-stu-id="0bdbf-144">If a malicious attacker gained access to your Azure subscription and exfiltrated the VHDs of your virtual machines, how would you ensure they would be unable to access data stored on the VHD?</span></span>

<span data-ttu-id="0bdbf-145">Azure Disk Encryption は、Windows と Linux の IaaS 仮想マシン ディスクを暗号化するのに役立つ機能です。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-145">Azure Disk Encryption is a capability that helps you encrypt your Windows and Linux IaaS virtual machine disks.</span></span> <span data-ttu-id="0bdbf-146">Azure Disk Encryption では、Windows の業界標準である BitLocker 機能と Linux の dm-crypt 機能を利用して、OS とデータ ディスクのボリュームの暗号化を提供します。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-146">Azure Disk Encryption leverages the industry-standard BitLocker feature of Windows and the dm-crypt feature of Linux to provide volume encryption for the OS and data disks.</span></span> <span data-ttu-id="0bdbf-147">このソリューションは Azure Key Vault と統合されており、ディスクの暗号化キーとシークレットを制御および管理するのに役立ちます (また、Key Vault へのアクセスにマネージド サービス ID を使用することができます)。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-147">The solution is integrated with Azure Key Vault to help you control and manage the disk encryption keys and secrets (and you can use managed service identities for accessing Key Vault).</span></span>

<span data-ttu-id="0bdbf-148">Contoso Shipping の場合、VM を使用することはクラウドに移行する最初の動きの 1 つでした。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-148">For Contoso Shipping, using VMs was one of the first moves toward the cloud.</span></span> <span data-ttu-id="0bdbf-149">すべての VHD を暗号化することは、会社のデータをセキュリティで保護するために実行可能なすべてのことを行っていることを確保できる、非常に簡単で影響の少ない方法です。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-149">Having all the VHDs encrypted is a very easy, low-impact way to ensure that you are doing all you can to secure your company's data.</span></span>
  :::column-end:::
:::row-end:::

:::row:::
  :::column:::
    <span data-ttu-id="0bdbf-150">![暗号化されたデータベースを表す画像](../media/4-encrypt-databases.png)</span><span class="sxs-lookup"><span data-stu-id="0bdbf-150">![Image representing an encrypted database](../media/4-encrypt-databases.png)</span></span>
  :::column-end:::
    <span data-ttu-id="0bdbf-151">:::column span="3"::: **暗号化されたデータベース**</span><span class="sxs-lookup"><span data-stu-id="0bdbf-151">:::column span="3"::: **Encrypt databases**</span></span>

<span data-ttu-id="0bdbf-152">透過的なデータ暗号化 (TDE) は、悪意のあるアクティビティの脅威から Azure SQL Database と Azure Data Warehouse を保護するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-152">Transparent data encryption (TDE) helps protect Azure SQL Database and Azure Data Warehouse against the threat of malicious activity.</span></span> <span data-ttu-id="0bdbf-153">アプリケーションに変更を加えることなく、データベース、関連付けられているバックアップ、保存されているトランザクション ログ ファイルがリアルタイムに暗号化および復号化されます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-153">It performs real-time encryption and decryption of the database, associated backups, and transaction log files at rest without requiring changes to the application.</span></span> <span data-ttu-id="0bdbf-154">既定では、新しくデプロイされるすべての Azure SQL Database インスタンスで TDE が有効になります。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-154">By default, TDE is enabled for all newly deployed Azure SQL Database instances.</span></span>

<span data-ttu-id="0bdbf-155">TDE では、データベース暗号化キーと呼ばれる対称キーを使用して、データベース全体のストレージが暗号化されます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-155">TDE encrypts the storage of an entire database by using a symmetric key called the database encryption key.</span></span> <span data-ttu-id="0bdbf-156">既定では、Azure で論理 SQL Server インスタンスごとに一意の暗号化キーが提供され、すべての詳細が処理されます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-156">By default, Azure provides a unique encryption key per logical SQL Server instance and handles all the details.</span></span> <span data-ttu-id="0bdbf-157">Azure Key Vault に格納されているキーと共に、Bring Your Own Key (BYOK) もサポートされます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-157">Bring your own key (BYOK) is also supported with keys stored in Azure Key Vault.</span></span>

<span data-ttu-id="0bdbf-158">TDE は既定で有効になるため、Contoso Shipping では、データベース内に格納されているデータに適切な保護を確実に適用することができます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-158">Because TDE is enabled by default, you are confident that Contoso Shipping has the proper protections in place for data stored in their databases.</span></span>
  :::column-end:::
:::row-end:::

:::row:::
  :::column:::
    <span data-ttu-id="0bdbf-159">![暗号化されたシークレットを表す画像](../media/4-encrypt-secrets.png)</span><span class="sxs-lookup"><span data-stu-id="0bdbf-159">![Image representing an encrypted secret](../media/4-encrypt-secrets.png)</span></span>
  :::column-end:::
    <span data-ttu-id="0bdbf-160">:::column span="3"::: **シークレットの暗号化**</span><span class="sxs-lookup"><span data-stu-id="0bdbf-160">:::column span="3"::: **Encrypt secrets**</span></span>

<span data-ttu-id="0bdbf-161">暗号化サービスではすべてキーを使用してデータの暗号化と復号化が行われることがわかりましたが、キー自体を確実に安全なものにするにはどうすればよいのでしょうか?</span><span class="sxs-lookup"><span data-stu-id="0bdbf-161">We've seen that the encryption services all use keys to encrypt and decrypt data, so how do we ensure that the keys themselves are secure?</span></span> <span data-ttu-id="0bdbf-162">企業には、パスワード、接続文字列、または安全に格納する必要があるその他の機密情報がある可能性もあります。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-162">Corporations may also have passwords, connection strings, or other sensitive pieces of information that they need to securely store.</span></span>

<span data-ttu-id="0bdbf-163">Azure Key Vault は、セキュリティで保護されたシークレット ストアとして機能するクラウド サービスです。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-163">Azure Key Vault is a cloud service that works as a secure secrets store.</span></span> <span data-ttu-id="0bdbf-164">Key Vault を使用すると、コンテナーと呼ばれるセキュリティで保護されたコンテナーを複数作成できます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-164">Key Vault allows you to create multiple secure containers, called vaults.</span></span> <span data-ttu-id="0bdbf-165">これらのコンテナーは、ハードウェア セキュリティ モジュール (HSM) によってサポートされています。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-165">These vaults are backed by hardware security modules (HSMs).</span></span> <span data-ttu-id="0bdbf-166">コンテナーでは、アプリケーション シークレットを一元的に保管することで、セキュリティ情報が過って失われる可能性が低くなります。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-166">Vaults help reduce the chances of accidental loss of security information by centralizing the storage of application secrets.</span></span> <span data-ttu-id="0bdbf-167">また、キー コンテナーでは、その中に格納されているすべての情報へのアクセスを制御し、記録します。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-167">Key vaults also control and log the access to anything stored in them.</span></span> <span data-ttu-id="0bdbf-168">Azure Key Vault では、TLS 証明書の要求と更新を処理でき、堅牢な証明書ライフサイクル管理ソリューションに必要な機能が提供されます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-168">Azure Key Vault can handle requesting and renewing TLS certificates, providing the features required for a robust certificate life cycle management solution.</span></span> <span data-ttu-id="0bdbf-169">Key Vault は、あらゆる種類のシークレットをサポートするよう設計されています。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-169">Key Vault is designed to support any type of secret.</span></span> <span data-ttu-id="0bdbf-170">これらのシークレットには、パスワード、データベース資格情報、API キー、証明書などがあります。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-170">These secrets could be passwords, database credentials, API keys, and certificates.</span></span>

<span data-ttu-id="0bdbf-171">Azure AD の ID には Azure Key Vault のシークレットを使用するためのアクセス許可が付与できるため、マネージド サービス ID が有効なアプリケーションでは必要なシークレットを自動的にシームレスに取得することができます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-171">Because Azure AD identities can be granted access to use Azure Key Vault secrets, applications with managed service identities enabled can automatically and seamlessly acquire the secrets they need.</span></span>
  :::column-end:::
:::row-end:::

## <a name="summary"></a><span data-ttu-id="0bdbf-172">まとめ</span><span class="sxs-lookup"><span data-stu-id="0bdbf-172">Summary</span></span>

<span data-ttu-id="0bdbf-173">ご存知のように、暗号化は、多くの場合攻撃者からの防御として最後の層であり、システムをセキュリティで保護するための階層型アプローチの重要な部分です。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-173">As you may know, encryption is often the last layer of defense from attackers and is an important piece of a layered approach to securing your systems.</span></span> <span data-ttu-id="0bdbf-174">Azure では、データを暗号化し、意図しない露出からデータを保護するための組み込みの機能とサービスが提供されます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-174">Azure provides built-in capabilities and services to encrypt and protect data from unintended exposure.</span></span> <span data-ttu-id="0bdbf-175">Azure サービス内に格納される顧客データの保護は、Microsoft にとってきわめて重要であり、あらゆる設計に組み込む必要があります。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-175">Protection of customer data stored within Azure services is of paramount importance to Microsoft and should be included in any design.</span></span> <span data-ttu-id="0bdbf-176">Azure Storage、Azure Virtual Machines、Azure SQL Database、Azure Key Vault などの基礎となるサービスは、暗号化を使用して環境をセキュリティで保護するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="0bdbf-176">Foundational services such as Azure Storage, Azure Virtual Machines, Azure SQL Database, and Azure Key Vault can help secure your environment through encryption.</span></span>